module.exports=[22437,e=>{"use strict";e.s(["USERS_COLLECTION_NAME",0,"Users"])},70406,(e,t,n)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,n)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},93695,(e,t,n)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},81769,(e,t,n)=>{t.exports=e.x("mongodb",()=>require("mongodb"))},36973,e=>{"use strict";var t=e.i(81769);let n=process.env.MONGODB_URI||"mongodb://localhost:27017/",r=process.env.MONGODB_DB||"hupuna-price",a=null,o=null;async function s(){if(a&&o)return{client:a,db:o};(n.includes("localhost")||n.includes("127.0.0.1"))&&console.error("âŒ ERROR: You are using a localhost MongoDB URI in production. Please set MONGODB_URI in your Vercel project settings to a remote database (e.g., MongoDB Atlas).");let e=new t.MongoClient(n);await e.connect();let s=e.db(r);return a=e,o=s,{client:e,db:s}}e.s(["connectToDatabase",()=>s])},58632,e=>{"use strict";var t=e.i(81769),n=e.i(36973);let r=async(e,{id:r,code:a,_id:o})=>{let{db:s}=await (0,n.connectToDatabase)(),i={};o&&(t.ObjectId.isValid(o)?i._id=new t.ObjectId(o):isNaN(Number(o))||(i._id=Number(o))),r&&(i.id=r),a&&(i.code=a);let l=await s.collection(e).findOne(i);return l?{rowIndex:0,row:l}:null},a=async(e,{search:t,skip:r=0,limit:a,field:o,value:s,filters:i,sort:l,collation:c}={})=>{let{db:d}=await (0,n.connectToDatabase)(),u=d.collection(e),p={};if(o&&void 0!==s&&(p[o]=s),i&&Object.keys(i).length>0){for(let[e,t]of Object.entries(i))if(null!=t){if("$or"===e||"$and"===e||"object"==typeof t&&null!==t&&("$gte"in t||"$lte"in t)||"object"==typeof t&&null!==t&&Object.keys(t).some(e=>["$in","$nin","$gte","$lte","$gt","$lt","$ne"].includes(e))){p[e]=t;continue}if("string"==typeof t&&t.trim().startsWith("#")){p[e]={$regex:t.trim().slice(1),$options:"i"};continue}p[e]=t}}if(t){let e=await u.findOne();if(e){let n=(e,t="")=>{let r=[];for(let[a,o]of Object.entries(e)){let e=t?`${t}.${a}`:a;"string"==typeof o?r.push(e):o&&"object"==typeof o&&!Array.isArray(o)&&(r=r.concat(n(o,e)))}return r},r=n(e);r.length>0&&(p.$or=r.map(e=>({[e]:{$regex:t,$options:"i"}})))}}let y={};l&&(y=(Array.isArray(l)?l:[l]).reduce((e,t)=>(e[t.field]="desc"===t.order?-1:1,e),{}));let x=await u.countDocuments(p,c?{collation:c}:void 0),b=u.find(p);return c&&(b=b.collation(c)),{total:x,data:await b.sort(y).skip(r).limit(a??0).toArray()}},o=async(e,t)=>{let{db:r}=await (0,n.connectToDatabase)();return(await r.collection(e).insertOne(t)).insertedId.toString()};async function s(e){let{db:t}=await (0,n.connectToDatabase)();return t.collection(e)}let i=async(e,r,a,o)=>{let{db:s}=await (0,n.connectToDatabase)();"_id"in o&&delete o._id;let i=a;return"_id"===r&&"string"==typeof a&&(t.ObjectId.isValid(a)?i=new t.ObjectId(a):isNaN(Number(a))||(i=Number(a))),(await s.collection(e).updateOne({[r]:i},{$set:o})).modifiedCount>0};async function l(e,t,n){let r=await s(e),a="object"==typeof n&&null!==n&&Object.keys(n).some(e=>e.startsWith("$"))?n:{$set:n};return r.updateMany(t,a)}let c=async(e,t,r)=>{let{db:a}=await (0,n.connectToDatabase)();return(await a.collection(e).deleteOne({[t]:r})).deletedCount>0},d=async(e,r)=>{let{db:a}=await (0,n.connectToDatabase)();return(await a.collection(e).deleteOne({_id:new t.ObjectId(r)})).deletedCount>0};async function u(e,t){return(await s(e)).deleteMany(t)}e.s(["addRow",0,o,"deleteByField",0,c,"deleteById",0,d,"deleteManyRows",()=>u,"getAllRows",0,a,"getCollection",()=>s,"getRowByIdOrCode",0,r,"updateByField",0,i,"updateMany",()=>l])},538,e=>{"use strict";e.s(["MESSAGES_COLLECTION_NAME",0,"Messages"])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__db88ea34._.js.map