{"version":3,"sources":["../../../../node_modules/classnames/index.js","../../../../src/components/base/CropImageModal.tsx","../../../../node_modules/advanced-cropper/service/interactions.js","../../../../node_modules/advanced-cropper/utils/index.js","../../../../node_modules/tslib/tslib.es6.mjs","../../../../node_modules/advanced-cropper/constants/index.js","../../../../node_modules/advanced-cropper/types/index.js","../../../../node_modules/advanced-cropper/boundary/index.js","../../../../node_modules/advanced-cropper/defaults/defaultBoundary.js","../../../../node_modules/advanced-cropper/animation/index.js","../../../../node_modules/advanced-cropper/state/copyState.js","../../../../node_modules/advanced-cropper/service/approximateSize.js","../../../../node_modules/advanced-cropper/defaults/defaultSizeRestrictions.js","../../../../node_modules/advanced-cropper/service/imageTransforms.js","../../../../node_modules/advanced-cropper/service/normalize.js","../../../../node_modules/advanced-cropper/service/utils.js","../../../../node_modules/advanced-cropper/algorithms/moveCoordinatesAlgorithm.js","../../../../node_modules/advanced-cropper/service/helpers.js","../../../../node_modules/advanced-cropper/defaults/defaultPositionRestrictions.js","../../../../node_modules/advanced-cropper/service/sizeRestrictions.js","../../../../node_modules/advanced-cropper/state/setVisibleArea.js","../../../../node_modules/advanced-cropper/defaults/defaultPosition.js","../../../../node_modules/advanced-cropper/defaults/defaultAreaPositionRestrictions.js","../../../../node_modules/advanced-cropper/defaults/defaultAreaSizeRestrictions.js","../../../../node_modules/advanced-cropper/defaults/defaultVisibleArea.js","../../../../node_modules/advanced-cropper/state/createState.js","../../../../node_modules/advanced-cropper/defaults/defaultStencilConstraints.js","../../../../node_modules/advanced-cropper/state/moveCoordinates.js","../../../../node_modules/advanced-cropper/algorithms/flipImageAlgorithm.js","../../../../node_modules/advanced-cropper/state/transformImage.js","../../../../node_modules/advanced-cropper/defaults/defaultSize.js","../../../../node_modules/advanced-cropper/image/index.js","../../../../node_modules/advanced-cropper/service/fitVisibleArea.js","../../../../node_modules/advanced-cropper/algorithms/transformImageAlgorithm.js","../../../../node_modules/advanced-cropper/canvas/index.js","../../../../node_modules/advanced-cropper/state/resizeCoordinates.js","../../../../node_modules/advanced-cropper/state/setBoundary.js","../../../../node_modules/advanced-cropper/algorithms/resizeCoordinatesAlgorithm.js","../../../../node_modules/advanced-cropper/service/fitCoordinates.js","../../../../node_modules/advanced-cropper/state/reconcileState.js","../../../../node_modules/advanced-cropper/state/setCoordinates.js","../../../../node_modules/advanced-cropper/algorithms/rotateImageAlgorithm.js","../../../../node_modules/advanced-cropper/extensions/stencil-size/index.js","../../../../node_modules/advanced-cropper/instance/AbstractCropperInstance.js","../../../../node_modules/react-advanced-cropper/src/deprecated/hybridAutoZoom.ts","../../../../node_modules/advanced-cropper/defaults/index.js","../../../../node_modules/react-advanced-cropper/src/service/utils.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useDeprecationWarning.ts","../../../../node_modules/react-advanced-cropper/src/service/cropper.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useFirstMountState.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useUpdateEffect.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useStateWithCallback.ts","../../../../node_modules/react-advanced-cropper/src/instance/CropperInstance.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useForceRerender.ts","../../../../node_modules/react-advanced-cropper/src/hooks/usePersistentFunction.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useCropperInstance.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useCropperImage.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useWindowResize.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useCropperAutoReconcile.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useAbstractCropper.ts","../../../../node_modules/react-advanced-cropper/src/components/service/StretchableBoundary.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/CropperFade.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/CropperWrapper.tsx","../../../../node_modules/react-advanced-cropper/src/service/events.ts","../../../../node_modules/react-advanced-cropper/src/components/service/CropperBackgroundImage.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/CropperCanvas.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/DraggableElement.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/LineWrapper.tsx","../../../../node_modules/react-advanced-cropper/src/components/lines/SimpleLine.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/HandlerWrapper.tsx","../../../../node_modules/react-advanced-cropper/src/components/handlers/SimpleHandler.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/BoundingBox.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/StencilOverlay.tsx","../../../../node_modules/react-advanced-cropper/src/hooks/useTransition.ts","../../../../node_modules/react-advanced-cropper/src/components/service/ArtificialTransition.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/StencilWrapper.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/StencilGrid.tsx","../../../../node_modules/react-advanced-cropper/src/components/stencils/RectangleStencil.tsx","../../../../node_modules/react-advanced-cropper/src/hooks/useRotateImageOptions.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useScaleImageOptions.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useMoveImageOptions.ts","../../../../node_modules/react-advanced-cropper/src/components/service/TransformableImage.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/CropperBackgroundWrapper.tsx","../../../../node_modules/react-advanced-cropper/src/components/AbstractCropper.tsx","../../../../node_modules/react-advanced-cropper/src/service/constants.ts","../../../../node_modules/react-advanced-cropper/src/hooks/useAbstractCropperProps.ts","../../../../node_modules/react-advanced-cropper/src/components/croppers/FixedCropper.tsx","../../../../node_modules/react-advanced-cropper/src/components/croppers/Cropper.tsx","../../../../node_modules/react-advanced-cropper/src/components/stencils/CircleStencil.tsx","../../../../node_modules/react-advanced-cropper/src/components/service/CropperSource.tsx","../../../../node_modules/react-advanced-cropper/src/components/helpers/CropperPreviewWrapper.tsx","../../../../node_modules/react-advanced-cropper/src/components/helpers/CropperPreviewBackground.tsx","../../../../node_modules/react-advanced-cropper/src/components/helpers/CropperPreview.tsx","../../../../node_modules/react-advanced-cropper/src/service/react.ts","../../../../src/hooks/useChatNotifications.ts"],"sourcesContent":["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use client';\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { Cropper, CropperRef, CircleStencil, RectangleStencil, ImageRestriction } from 'react-advanced-cropper';\r\nimport 'react-advanced-cropper/dist/style.css';\r\n\r\ntype Props = {\r\n  open: boolean;\r\n  src: string | null;\r\n  onClose: () => void;\r\n  onConfirm: (file: File) => void;\r\n  aspectRatio?: number;\r\n  circle?: boolean;\r\n  fileName?: string;\r\n  outputType?: 'image/jpeg' | 'image/png' | 'image/webp';\r\n  quality?: number;\r\n};\r\n\r\nexport default function CropImageModal({\r\n  open,\r\n  src,\r\n  onClose,\r\n  onConfirm,\r\n  aspectRatio = 1,\r\n  circle = false,\r\n  fileName = 'cropped.jpg',\r\n  outputType = 'image/jpeg',\r\n  quality = 0.92,\r\n}: Props) {\r\n  const cropperRef = useRef<CropperRef>(null);\r\n  const [ready, setReady] = useState(false);\r\n\r\n  const stencil = useMemo(() => (circle ? CircleStencil : RectangleStencil), [circle]);\r\n\r\n  useEffect(() => {\r\n    if (!open) setReady(false);\r\n  }, [open]);\r\n\r\n  const handleZoom = (delta: number) => {\r\n    try {\r\n      const factor = 1 + delta;\r\n      cropperRef.current?.zoomImage(factor, { transitions: true });\r\n    } catch {}\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    const canvas = cropperRef.current?.getCanvas();\r\n    if (!canvas) return;\r\n    canvas.toBlob(\r\n      (blob: Blob | null) => {\r\n        if (!blob) return;\r\n        const ext = outputType === 'image/png' ? 'png' : outputType === 'image/webp' ? 'webp' : 'jpg';\r\n        const safeName = fileName?.trim() ? fileName : `cropped.${ext}`;\r\n        const file = new File([blob], safeName, { type: outputType });\r\n        onConfirm(file);\r\n      },\r\n      outputType,\r\n      quality,\r\n    );\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[1000] bg-black/70 backdrop-blur-sm flex items-center justify-center\">\r\n      <div className=\"bg-white rounded-xl shadow-2xl w-[90vw] max-w-[800px]\">\r\n        <div className=\"px-4 py-3 border-b flex items-center justify-between\">\r\n          <h3 className=\"text-lg font-semibold\">Điều chỉnh ảnh</h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 rounded-full hover:bg-gray-100 text-gray-600 transition-colors\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-4\">\r\n          <div className=\"relative w-full h-[50vh] min-h-[320px] bg-gray-50 rounded-lg overflow-hidden\">\r\n            {src ? (\r\n              <Cropper\r\n                ref={cropperRef}\r\n                src={src}\r\n                className=\"w-full h-full\"\r\n                stencilComponent={stencil}\r\n                stencilProps={{ aspectRatio, movable: true, resizable: true }}\r\n                imageRestriction={ImageRestriction.fitArea}\r\n                onReady={() => setReady(true)}\r\n                defaultSize={({ imageSize }) => ({\r\n                  width: Math.min(imageSize.width, 800),\r\n                  height: Math.min(imageSize.height, 600),\r\n                })}\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full flex items-center justify-center text-gray-500\">Không có ảnh</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-4 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => handleZoom(-0.1)}\r\n                className=\"px-3 py-2 rounded bg-gray-100 hover:bg-gray-200 text-gray-700\"\r\n              >\r\n                Thu nhỏ\r\n              </button>\r\n              <button\r\n                onClick={() => handleZoom(0.1)}\r\n                className=\"px-3 py-2 rounded bg-gray-100 hover:bg-gray-200 text-gray-700\"\r\n              >\r\n                Phóng to\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button onClick={onClose} className=\"px-4 py-2 rounded bg-gray-100 hover:bg-gray-200 text-gray-700\">\r\n                Hủy\r\n              </button>\r\n              <button\r\n                onClick={handleConfirm}\r\n                disabled={!ready}\r\n                className=\"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60\"\r\n              >\r\n                Lưu\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","function hasInteractions(interactions) {\n    return (interactions.moveCoordinates ||\n        interactions.resizeCoordinates ||\n        interactions.transformImage.move ||\n        interactions.transformImage.rotate ||\n        interactions.transformImage.flip ||\n        interactions.transformImage.scale);\n}\nfunction getEmptyInteractions() {\n    return {\n        moveCoordinates: false,\n        resizeCoordinates: false,\n        transformImage: {\n            rotate: false,\n            move: false,\n            scale: false,\n            flip: false,\n        },\n    };\n}\n\nexport { getEmptyInteractions, hasInteractions };\n","function getDirectionNames(hDirection, vDirection) {\n    var camelCase, snakeCase;\n    if (hDirection && vDirection) {\n        camelCase = \"\" + hDirection + vDirection[0].toUpperCase() + vDirection.slice(1);\n        snakeCase = hDirection + \"-\" + vDirection;\n    }\n    else {\n        camelCase = hDirection || vDirection;\n        snakeCase = hDirection || vDirection;\n    }\n    return { camelCase: camelCase, snakeCase: snakeCase };\n}\nfunction isBlob(url) {\n    return /^blob:/.test(url);\n}\nfunction isDataUrl(url) {\n    return /^data:/.test(url);\n}\nfunction isLocal(url) {\n    return isBlob(url) || isDataUrl(url);\n}\nfunction isCrossOriginURL(url) {\n    if (isLocal(url)) {\n        return false;\n    }\n    var pageLocation = window.location;\n    var URL_HOST_PATTERN = /(\\w+:)?(?:\\/\\/)([\\w.-]+)?(?::(\\d+))?\\/?/;\n    var urlMatch = URL_HOST_PATTERN.exec(url) || [];\n    var urlparts = {\n        protocol: urlMatch[1] || '',\n        host: urlMatch[2] || '',\n        port: urlMatch[3] || '',\n    };\n    var defaultPort = function (protocol) {\n        if (protocol === 'http') {\n            return 80;\n        }\n        else {\n            return 433;\n        }\n    };\n    var portOf = function (location) {\n        return location.port || defaultPort((location.protocol || pageLocation.protocol));\n    };\n    return !((!urlparts.protocol && !urlparts.host && !urlparts.port) ||\n        Boolean(urlparts.protocol &&\n            urlparts.protocol == pageLocation.protocol &&\n            urlparts.host &&\n            urlparts.host == pageLocation.host &&\n            urlparts.host &&\n            portOf(urlparts) == portOf(pageLocation)));\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isUndefined(obj) {\n    return obj === undefined;\n}\nvar isObject = function (term) {\n    return term !== null && typeof term === 'object';\n};\n// TODO: add the typing\nfunction getOptions(options, defaultScheme, falseScheme) {\n    if (falseScheme === void 0) { falseScheme = {}; }\n    var result = {};\n    if (isObject(options)) {\n        Object.keys(defaultScheme).forEach(function (key) {\n            if (isUndefined(options[key])) {\n                result[key] = defaultScheme[key];\n            }\n            else if (isObject(defaultScheme[key])) {\n                if (isObject(options[key])) {\n                    result[key] = getOptions(options[key], defaultScheme[key], falseScheme[key]);\n                }\n                else {\n                    result[key] = options[key] ? defaultScheme[key] : falseScheme[key];\n                }\n            }\n            else if (defaultScheme[key] === true || defaultScheme[key] === false) {\n                result[key] = Boolean(options[key]);\n            }\n            else {\n                result[key] = options[key];\n            }\n        });\n        return result;\n    }\n    else {\n        if (options) {\n            return defaultScheme;\n        }\n        else {\n            return falseScheme;\n        }\n    }\n}\nfunction parseNumber(number) {\n    var parsedNumber = Number(number);\n    if (Number.isNaN(parsedNumber)) {\n        return number;\n    }\n    else {\n        return parsedNumber;\n    }\n}\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\nfunction isNaN(value) {\n    return value !== value;\n}\nfunction isNumeric(value) {\n    return ((isNumber(value) && !isNaN(value)) ||\n        (isString(value) && !Number.isNaN(parseFloat(value)) && isFinite(parseFloat(value))));\n}\nfunction distance(firstPoint, secondPoint) {\n    return Math.sqrt(Math.pow(firstPoint.left - secondPoint.left, 2) + Math.pow(firstPoint.top - secondPoint.top, 2));\n}\nfunction isRoughlyEqual(a, b, tolerance) {\n    if (tolerance === void 0) { tolerance = 1e-3; }\n    return Math.abs(b - a) < tolerance;\n}\nfunction isGreater(a, b, tolerance) {\n    return isRoughlyEqual(a, b, tolerance) ? false : a > b;\n}\nfunction isLower(a, b, tolerance) {\n    return isRoughlyEqual(a, b, tolerance) ? false : a < b;\n}\nfunction isArrayBufferLike(value) {\n    return value instanceof ArrayBuffer;\n}\nfunction getCloserAngle(reference, angle) {\n    var turnsCount = Math.floor(reference / 360);\n    var firstCandidate = turnsCount * 360 + angle;\n    var secondCandidate = (turnsCount + 1) * 360 + angle;\n    if (Math.abs(firstCandidate - reference) < Math.abs(secondCandidate - reference)) {\n        return firstCandidate;\n    }\n    else {\n        return secondCandidate;\n    }\n}\nfunction sign(value) {\n    var number = +value;\n    if (number === 0 || isNaN(number)) {\n        return number;\n    }\n    return number > 0 ? 1 : -1;\n}\nfunction promiseTimeout(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(function () {\n            resolve();\n        }, timeout);\n    });\n}\n// Not performant, small function to reduce the code amount\nfunction deepClone(obj) {\n    if (!isObject(obj)) {\n        return obj;\n    }\n    var result = {};\n    if (Array.isArray(obj)) {\n        result = obj.map(function (item) { return deepClone(item); });\n    }\n    else {\n        Object.keys(obj).forEach(function (key) {\n            return (result[key] = deepClone(obj[key]));\n        });\n    }\n    return result;\n}\nfunction deepCompare(a, b, tolerance) {\n    if (tolerance === void 0) { tolerance = 1e-3; }\n    if (isNumber(a) && isNumber(b) && isRoughlyEqual(a, b, tolerance))\n        return true;\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length_1, i = void 0;\n        if (Array.isArray(a)) {\n            length_1 = a.length;\n            if (length_1 != b.length)\n                return false;\n            for (i = length_1; i-- !== 0;)\n                if (!deepCompare(a[i], b[i], tolerance))\n                    return false;\n            return true;\n        }\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        var keys = Object.keys(a);\n        length_1 = keys.length;\n        if (length_1 !== Object.keys(b).length)\n            return false;\n        for (i = length_1; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length_1; i-- !== 0;) {\n            var key = keys[i];\n            if (!deepCompare(a[key], b[key], tolerance))\n                return false;\n        }\n        return true;\n    }\n    return a !== a && b !== b;\n}\nfunction isWheelEvent(event) {\n    return 'deltaX' in event;\n}\nfunction isTouchEvent(event) {\n    return 'touches' in event;\n}\nfunction isMouseEvent(event) {\n    return 'buttons' in event;\n}\nfunction emptyCoordinates() {\n    return {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n    };\n}\nfunction isCardinalDirection(value) {\n    return value === 'west' || value === 'south' || value === 'north' || value === 'east';\n}\nfunction isOrdinalDirection(value) {\n    return (isCardinalDirection(value) ||\n        value === 'westNorth' ||\n        value === 'westSouth' ||\n        value === 'eastNorth' ||\n        value === 'eastSouth');\n}\nfunction debounce(callback, delay) {\n    var timestamp;\n    var timeout;\n    function later() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var last = Date.now() - timestamp;\n        var delayValue = isFunction(delay) ? delay() : delay || 0;\n        if (last < delayValue && last >= 0) {\n            timeout = setTimeout(function () { return later.apply(void 0, args); }, delayValue - last);\n        }\n        else {\n            callback.apply(void 0, args);\n        }\n    }\n    function result() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        timestamp = Date.now();\n        timeout = setTimeout(function () { return later.apply(void 0, args); }, isFunction(delay) ? delay() : delay || 0);\n    }\n    result.clear = function () {\n        clearTimeout(timeout);\n    };\n    return result;\n}\n\nexport { debounce, deepClone, deepCompare, distance, emptyCoordinates, getCloserAngle, getDirectionNames, getOptions, isArray, isArrayBufferLike, isBlob, isBoolean, isCardinalDirection, isCrossOriginURL, isDataUrl, isFunction, isGreater, isLocal, isLower, isMouseEvent, isNaN, isNumber, isNumeric, isObject, isOrdinalDirection, isRoughlyEqual, isString, isTouchEvent, isUndefined, isWheelEvent, parseNumber, promiseTimeout, sign };\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","var ALL_DIRECTIONS = ['left', 'right', 'top', 'bottom'];\nvar HORIZONTAL_DIRECTIONS = ['left', 'right'];\nvar VERTICAL_DIRECTIONS = ['top', 'bottom'];\n\nexport { ALL_DIRECTIONS, HORIZONTAL_DIRECTIONS, VERTICAL_DIRECTIONS };\n","var ImageRestriction;\n(function (ImageRestriction) {\n    ImageRestriction[\"fillArea\"] = \"fillArea\";\n    ImageRestriction[\"fitArea\"] = \"fitArea\";\n    ImageRestriction[\"stencil\"] = \"stencil\";\n    ImageRestriction[\"none\"] = \"none\";\n})(ImageRestriction || (ImageRestriction = {}));\nvar Priority;\n(function (Priority) {\n    Priority[\"coordinates\"] = \"coordinates\";\n    Priority[\"visibleArea\"] = \"visibleArea\";\n})(Priority || (Priority = {}));\n\nexport { ImageRestriction, Priority };\n","function stretchCropperBoundary(boundary, stretcher, size) {\n    // Reset stretcher\n    stretcher.style.width = \"0px\";\n    stretcher.style.height = \"0px\";\n    // Try to fit the size by width:\n    stretcher.style.width = Math.max(boundary.clientWidth, size.width) + \"px\";\n    // After that try to fit the size by height and resulted width:\n    var ratio = size.width / size.height;\n    stretcher.style.height = Math.max(boundary.clientHeight, stretcher.clientWidth / ratio) + \"px\";\n    stretcher.style.width = stretcher.clientHeight * ratio + \"px\";\n}\nfunction stretchPreviewBoundary(boundary, stretcher, size) {\n    // Reset stretcher\n    stretcher.style.width = \"0px\";\n    stretcher.style.height = \"0px\";\n    // Try to fit the size by width:\n    stretcher.style.width = Math.max(boundary.getBoundingClientRect().width, size.width) + \"px\";\n    // After that try to fit the size by height and resulted width:\n    var ratio = size.width / size.height;\n    stretcher.style.height = Math.max(boundary.getBoundingClientRect().height, stretcher.getBoundingClientRect().width / ratio) + \"px\";\n    stretcher.style.width = stretcher.getBoundingClientRect().height * ratio + \"px\";\n    if (stretcher.clientWidth / stretcher.clientHeight > boundary.clientWidth / boundary.clientHeight) {\n        if (stretcher.clientWidth > boundary.clientWidth) {\n            stretcher.style.width = boundary.clientWidth + \"px\";\n            stretcher.style.height = boundary.clientWidth / ratio + \"px\";\n        }\n    }\n    else {\n        if (stretcher.clientHeight > boundary.clientHeight) {\n            stretcher.style.height = boundary.clientHeight + \"px\";\n            stretcher.style.width = boundary.clientHeight * ratio + \"px\";\n        }\n    }\n}\n\nexport { stretchCropperBoundary, stretchPreviewBoundary };\n","function fitBoundary(boundary, size) {\n    var areaHeight = boundary.clientHeight;\n    var areaWidth = boundary.clientWidth;\n    var currentHeight = areaHeight;\n    var currentWidth = (size.width * areaHeight) / size.height;\n    if (currentWidth > areaWidth) {\n        currentWidth = areaWidth;\n        currentHeight = (size.height * areaWidth) / size.width;\n    }\n    return {\n        width: currentWidth,\n        height: currentHeight,\n    };\n}\nfunction fillBoundary(boundary) {\n    var _a = boundary.getBoundingClientRect(), width = _a.width, height = _a.height;\n    return {\n        width: width,\n        height: height,\n    };\n}\n\nexport { fillBoundary, fitBoundary };\n","var timingFunctions = {\n    linear: function (t) {\n        return t;\n    },\n    'ease-in': function (t) {\n        return Math.pow(t, 1.675);\n    },\n    'ease-out': function (t) {\n        return 1 - Math.pow(1 - t, 1.675);\n    },\n    'ease-in-out': function (t) {\n        return 0.5 * (Math.sin((t - 0.5) * Math.PI) + 1);\n    },\n};\nvar Animation = /** @class */ (function () {\n    function Animation() {\n        this.active = false;\n    }\n    Animation.prototype.start = function (animation) {\n        var _a;\n        this.onStart = animation.onStart;\n        this.onProgress = animation.onProgress;\n        this.onStop = animation.onStop;\n        if (!this.active) {\n            (_a = this.onStart) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n        if (this.id) {\n            window.cancelAnimationFrame(this.id);\n        }\n        this.startTime = performance.now();\n        this.timingFunction = animation.timingFunction;\n        this.endTime = this.startTime + animation.duration;\n        this.active = true;\n        this.animate();\n    };\n    Animation.prototype.animate = function () {\n        var _this = this;\n        if (this.startTime && this.endTime) {\n            var timingFunction = timingFunctions[this.timingFunction];\n            if (!timingFunction) {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.warn(\"[Animation] The timing function '\" + timingFunction + \"' is not supported. Available timing function: 'linear', 'ease-in', 'ease-in-out', 'ease-out'. Reset to 'ease-out'.\");\n                }\n                timingFunction = timingFunctions['ease-out'];\n            }\n            var percent = 1 - (this.endTime - performance.now()) / (this.endTime - this.startTime);\n            var progress = Math.min(1, timingFunction(percent));\n            if (this.onProgress) {\n                this.onProgress(progress);\n            }\n            if (percent < 1) {\n                this.id = window.requestAnimationFrame(function () { return _this.animate(); });\n            }\n            else {\n                this.stop();\n            }\n        }\n        else {\n            this.stop();\n        }\n    };\n    Animation.prototype.stop = function () {\n        this.active = false;\n        if (this.id) {\n            window.cancelAnimationFrame(this.id);\n        }\n        if (this.onStop) {\n            this.onStop();\n        }\n    };\n    return Animation;\n}());\n\nexport { Animation };\n","import { deepClone } from '../utils/index.js';\n\nfunction copyState(state) {\n    return deepClone(state);\n}\n\nexport { copyState };\n","import { getCloserSize, createAspectRatio, resizeToSizeRestrictions } from './utils.js';\n\n// Limitations:\n// 1. Assume that maximum width and height always larger than minimum width and height\n// 2. Assume that aspectRatio.minimum < aspectRatio.maximum\n// If you break this limitations function could return null!\nfunction approximateSize(params) {\n    var width = params.width, height = params.height;\n    var sizeRestrictions = params.sizeRestrictions || {\n        minWidth: 0,\n        minHeight: 0,\n        maxWidth: Infinity,\n        maxHeight: Infinity,\n    };\n    var aspectRatio = createAspectRatio(params.aspectRatio);\n    var coordinates = {\n        width: Math.max(sizeRestrictions.minWidth, Math.min(sizeRestrictions.maxWidth, width)),\n        height: Math.max(sizeRestrictions.minHeight, Math.min(sizeRestrictions.maxHeight, height)),\n    };\n    var candidates = [coordinates];\n    if (aspectRatio) {\n        [aspectRatio.minimum, aspectRatio.maximum].forEach(function (ratio) {\n            if (ratio) {\n                candidates.push({ width: coordinates.width, height: coordinates.width / ratio }, { width: coordinates.height * ratio, height: coordinates.height });\n            }\n        });\n    }\n    // Resize the candidates as much as possible to prevent breaking minimum size\n    candidates = candidates.map(function (candidate) { return resizeToSizeRestrictions(candidate, sizeRestrictions); });\n    // TODO: fix the type of return value\n    return getCloserSize(candidates, { width: width, height: height }, sizeRestrictions, aspectRatio);\n}\n\nexport { approximateSize };\n","import { isNumeric, parseNumber } from '../utils/index.js';\n\nfunction retrieveSizeRestrictions(settings) {\n    return {\n        minWidth: isNumeric(settings.minWidth) ? parseNumber(settings.minWidth) : 0,\n        minHeight: isNumeric(settings.minHeight) ? parseNumber(settings.minHeight) : 0,\n        maxWidth: isNumeric(settings.maxWidth) ? parseNumber(settings.maxWidth) : Infinity,\n        maxHeight: isNumeric(settings.maxHeight) ? parseNumber(settings.maxHeight) : Infinity,\n    };\n}\nfunction pixelsRestrictions(state, settings) {\n    return retrieveSizeRestrictions(settings);\n}\n\nexport { pixelsRestrictions, retrieveSizeRestrictions };\n","import { isRoughlyEqual, sign, distance } from '../utils/index.js';\n\nfunction calculateGeometricProperties(touches, container) {\n    var _a = container.getBoundingClientRect(), left = _a.left, top = _a.top;\n    var centerMass = { left: 0, top: 0 };\n    var spread = 0;\n    touches.forEach(function (touch) {\n        centerMass.left += (touch.clientX - left) / touches.length;\n        centerMass.top += (touch.clientY - top) / touches.length;\n    });\n    touches.forEach(function (touch) {\n        spread += distance({ left: centerMass.left, top: centerMass.top }, { left: touch.clientX - left, top: touch.clientY - top });\n    });\n    return { centerMass: centerMass, spread: spread, count: touches.length };\n}\nfunction touchesToImageTransform(touches, previousTouches, container, options) {\n    if (options === void 0) { options = {}; }\n    var move, scale, rotate;\n    if (previousTouches.length === 1 && touches.length === 1) {\n        if (options.move) {\n            move = {\n                left: previousTouches[0].clientX - touches[0].clientX,\n                top: previousTouches[0].clientY - touches[0].clientY,\n            };\n        }\n    }\n    else if (touches.length > 1) {\n        var previousProperties = calculateGeometricProperties(previousTouches, container);\n        var properties = calculateGeometricProperties(touches, container);\n        if (options.rotate && previousTouches.length === 2 && touches.length === 2) {\n            var diffs = {\n                left: [\n                    touches[0].clientX - touches[1].clientX,\n                    previousTouches[0].clientX - previousTouches[1].clientX,\n                ],\n                top: [touches[0].clientY - touches[1].clientY, previousTouches[0].clientY - previousTouches[1].clientY],\n            };\n            var y = diffs.left[0] * diffs.top[1] - diffs.left[1] * diffs.top[0];\n            var x = diffs.left[0] * diffs.left[1] + diffs.top[0] * diffs.top[1];\n            if (!isRoughlyEqual(x, 0) && !isRoughlyEqual(y, 0)) {\n                var radians = Math.atan2(y, x);\n                var angle = -(radians * 180) / Math.PI;\n                rotate = {\n                    center: properties.centerMass,\n                    angle: angle,\n                };\n            }\n        }\n        if (options.move) {\n            move = {\n                left: previousProperties.centerMass.left - properties.centerMass.left,\n                top: previousProperties.centerMass.top - properties.centerMass.top,\n            };\n        }\n        if (options.scale) {\n            scale = {\n                factor: properties.spread / previousProperties.spread,\n                center: properties.centerMass,\n            };\n        }\n    }\n    return {\n        move: move,\n        scale: scale,\n        rotate: rotate,\n    };\n}\nfunction wheelEventToImageTransform(event, container, ratio) {\n    if (ratio === void 0) { ratio = 0.1; }\n    var _a = container.getBoundingClientRect(), left = _a.left, top = _a.top;\n    var factor = 1 - ratio * sign((event.deltaY || event.detail || event.wheelDelta));\n    var center = {\n        left: event.clientX - left,\n        top: event.clientY - top,\n    };\n    return { scale: { factor: factor, center: center } };\n}\n\nexport { touchesToImageTransform, wheelEventToImageTransform };\n","import { isNumber } from '../utils/index.js';\nimport { getCoefficient } from './helpers.js';\n\nfunction normalizeResizeDirections(state, directions) {\n    var coefficient = getCoefficient(state);\n    return {\n        left: isNumber(directions.left) ? directions.left * coefficient : 0,\n        top: isNumber(directions.top) ? directions.top * coefficient : 0,\n        right: isNumber(directions.right) ? directions.right * coefficient : 0,\n        bottom: isNumber(directions.bottom) ? directions.bottom * coefficient : 0,\n    };\n}\nfunction normalizeCenter(state, center) {\n    var coefficient = getCoefficient(state);\n    if (state.visibleArea) {\n        return {\n            left: center.left * coefficient + state.visibleArea.left,\n            top: center.top * coefficient + state.visibleArea.top,\n        };\n    }\n    return center;\n}\nfunction normalizeFlip(state, flip) {\n    if (state) {\n        var normalizedAngle = Math.abs(state.transforms.rotate % 180);\n        if (normalizedAngle <= 45 || normalizedAngle >= 135) {\n            return flip;\n        }\n        else {\n            return {\n                horizontal: flip.vertical,\n                vertical: flip.horizontal,\n            };\n        }\n    }\n    return flip;\n}\nfunction fillMoveDirections(directions) {\n    return {\n        left: isNumber(directions.left) ? directions.left : 0,\n        top: isNumber(directions.top) ? directions.top : 0,\n    };\n}\nfunction fillResizeDirections(directions) {\n    return {\n        left: isNumber(directions.left) ? directions.left : 0,\n        top: isNumber(directions.top) ? directions.top : 0,\n        right: isNumber(directions.right) ? directions.right : 0,\n        bottom: isNumber(directions.bottom) ? directions.bottom : 0,\n    };\n}\nfunction normalizeMoveDirections(state, directions) {\n    var coefficient = getCoefficient(state);\n    return {\n        left: isNumber(directions.left) ? directions.left * coefficient : 0,\n        top: isNumber(directions.top) ? directions.top * coefficient : 0,\n    };\n}\nfunction normalizeImageTransform(state, transform) {\n    if (transform.scale) {\n        transform.scale = {\n            factor: isNumber(transform.scale) ? transform.scale : transform.scale.factor,\n            center: !isNumber(transform.scale) && transform.scale.center\n                ? normalizeCenter(state, transform.scale.center)\n                : undefined,\n        };\n    }\n    if (transform.rotate) {\n        transform.rotate = {\n            angle: isNumber(transform.rotate) ? transform.rotate : transform.rotate.angle,\n            center: !isNumber(transform.rotate) && transform.rotate.center\n                ? normalizeCenter(state, transform.rotate.center)\n                : undefined,\n        };\n    }\n    if (transform.move) {\n        transform.move = normalizeMoveDirections(state, transform.move);\n    }\n    return transform;\n}\n\nexport { fillMoveDirections, fillResizeDirections, normalizeCenter, normalizeFlip, normalizeImageTransform, normalizeMoveDirections, normalizeResizeDirections };\n","import { __assign } from 'tslib';\nimport { ALL_DIRECTIONS } from '../constants/index.js';\nimport { isLower, isGreater, isNumber, isNumeric, isUndefined, isFunction } from '../utils/index.js';\n\nfunction diff(firstObject, secondObject) {\n    return {\n        left: firstObject.left - secondObject.left,\n        top: firstObject.top - secondObject.top,\n    };\n}\nfunction getCenter(object) {\n    return {\n        left: object.left + object.width / 2,\n        top: object.top + object.height / 2,\n    };\n}\nfunction getOppositeSide(side) {\n    return {\n        left: 'right',\n        top: 'bottom',\n        right: 'left',\n        bottom: 'top',\n    }[side];\n}\nfunction sizeDistance(a, b) {\n    return Math.pow(a.width - b.width, 2) + Math.pow(a.height - b.height, 2);\n}\nfunction applyDirections(coordinates, directions) {\n    return {\n        left: coordinates.left - directions.left,\n        top: coordinates.top - directions.top,\n        width: coordinates.width + directions.left + directions.right,\n        height: coordinates.height + directions.top + directions.bottom,\n    };\n}\nfunction inverseMove(directions) {\n    return {\n        left: -directions.left,\n        top: -directions.top,\n    };\n}\nfunction applyMove(object, move) {\n    return __assign(__assign({}, object), { left: object.left + move.left, top: object.top + move.top });\n}\nfunction coordinatesToPositionRestrictions(coordinates) {\n    return {\n        left: coordinates.left,\n        top: coordinates.top,\n        right: coordinates.left + coordinates.width,\n        bottom: coordinates.top + coordinates.height,\n    };\n}\nfunction applyScale(object, factor, center, progress) {\n    if (factor !== 1) {\n        if ('left' in object || 'top' in object) {\n            if (center) {\n                var currentCenter = getCenter(object);\n                return {\n                    width: object.width * factor,\n                    height: object.height * factor,\n                    left: object.left +\n                        (object.width * (1 - factor)) / 2 +\n                        (center.left - currentCenter.left) * (progress || 1 - factor),\n                    top: object.top +\n                        (object.height * (1 - factor)) / 2 +\n                        (center.top - currentCenter.top) * (progress || 1 - factor),\n                };\n            }\n            else {\n                return {\n                    width: object.width * factor,\n                    height: object.height * factor,\n                    left: object.left + (object.width * (1 - factor)) / 2,\n                    top: object.top + (object.height * (1 - factor)) / 2,\n                };\n            }\n        }\n        else {\n            return {\n                width: object.width * factor,\n                height: object.height * factor,\n            };\n        }\n    }\n    else {\n        return object;\n    }\n}\nfunction ratio(object) {\n    return object.width / object.height;\n}\nfunction maxScale(size, restrictions) {\n    return Math.min(restrictions.maxWidth ? restrictions.maxWidth / size.width : Infinity, restrictions.maxHeight ? restrictions.maxHeight / size.height : Infinity);\n}\nfunction minScale(size, restrictions) {\n    return Math.max(restrictions.minWidth ? restrictions.minWidth / size.width : 0, restrictions.minHeight ? restrictions.minHeight / size.height : 0);\n}\nfunction getBrokenRatio(currentAspectRatio, aspectRatio) {\n    var ratioBroken;\n    if (aspectRatio.minimum && isLower(currentAspectRatio, aspectRatio.minimum)) {\n        ratioBroken = aspectRatio.minimum;\n    }\n    else if (aspectRatio.maximum && isGreater(currentAspectRatio, aspectRatio.maximum)) {\n        ratioBroken = aspectRatio.maximum;\n    }\n    return ratioBroken;\n}\nfunction fitToSizeRestrictions(coordinates, sizeRestrictions) {\n    var aspectRatio = ratio(coordinates);\n    var scale = 1;\n    if (sizeRestrictions.minWidth > 0 && sizeRestrictions.minHeight > 0) {\n        if (aspectRatio > sizeRestrictions.minWidth / sizeRestrictions.minHeight) {\n            if (coordinates.height < sizeRestrictions.minHeight) {\n                scale = sizeRestrictions.minHeight / coordinates.height;\n            }\n        }\n        else {\n            if (coordinates.width < sizeRestrictions.minWidth) {\n                scale = sizeRestrictions.minWidth / coordinates.width;\n            }\n        }\n    }\n    else if (sizeRestrictions.minWidth > 0) {\n        if (coordinates.width < sizeRestrictions.minWidth) {\n            scale = sizeRestrictions.minWidth / coordinates.width;\n        }\n    }\n    else if (sizeRestrictions.minHeight > 0) {\n        if (coordinates.height < sizeRestrictions.minHeight) {\n            scale = sizeRestrictions.minHeight / coordinates.height;\n        }\n    }\n    if (sizeRestrictions.maxWidth < Infinity && sizeRestrictions.maxHeight < Infinity) {\n        if (aspectRatio > sizeRestrictions.maxWidth / sizeRestrictions.maxHeight) {\n            if (coordinates.width > sizeRestrictions.maxWidth) {\n                scale = sizeRestrictions.maxWidth / coordinates.width;\n            }\n        }\n        else {\n            if (coordinates.height > sizeRestrictions.maxHeight) {\n                scale = sizeRestrictions.maxHeight / coordinates.height;\n            }\n        }\n    }\n    else if (sizeRestrictions.maxWidth < Infinity) {\n        if (coordinates.width > sizeRestrictions.maxWidth) {\n            scale = sizeRestrictions.maxWidth / coordinates.width;\n        }\n    }\n    else if (sizeRestrictions.maxHeight < Infinity) {\n        if (coordinates.height > sizeRestrictions.maxHeight) {\n            scale = sizeRestrictions.maxHeight / coordinates.height;\n        }\n    }\n    return scale;\n}\nfunction getIntersections(object, positionRestrictions) {\n    var intersections = {\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n    };\n    ALL_DIRECTIONS.forEach(function (direction) {\n        var areaLimit = positionRestrictions[direction];\n        var objectLimit = coordinatesToPositionRestrictions(object)[direction];\n        if (areaLimit !== undefined && objectLimit !== undefined) {\n            if (direction === 'left' || direction === 'top') {\n                intersections[direction] = Math.max(0, areaLimit - objectLimit);\n            }\n            else {\n                intersections[direction] = Math.max(0, objectLimit - areaLimit);\n            }\n        }\n        else {\n            intersections[direction] = 0;\n        }\n    });\n    return intersections;\n}\nfunction resizeToSizeRestrictions(coordinates, sizeRestrictions) {\n    return applyScale(coordinates, fitToSizeRestrictions(coordinates, sizeRestrictions));\n}\nfunction rotateSize(size, angle) {\n    var radians = (angle * Math.PI) / 180;\n    return {\n        width: Math.abs(size.width * Math.cos(radians)) + Math.abs(size.height * Math.sin(radians)),\n        height: Math.abs(size.width * Math.sin(radians)) + Math.abs(size.height * Math.cos(radians)),\n    };\n}\nfunction rotatePoint(point, angle, anchor) {\n    var radians = (angle * Math.PI) / 180;\n    if (anchor) {\n        return {\n            left: (point.left - anchor.left) * Math.cos(radians) -\n                (point.top - anchor.top) * Math.sin(radians) +\n                anchor.left,\n            top: (point.left - anchor.left) * Math.sin(radians) +\n                (point.top - anchor.top) * Math.cos(radians) +\n                anchor.top,\n        };\n    }\n    else {\n        return {\n            left: point.left * Math.cos(radians) - point.top * Math.sin(radians),\n            top: point.left * Math.sin(radians) + point.top * Math.cos(radians),\n        };\n    }\n}\nfunction positionToSizeRestrictions(positionRestrictions) {\n    return {\n        minWidth: 0,\n        minHeight: 0,\n        maxWidth: positionRestrictions.right !== undefined && positionRestrictions.left !== undefined\n            ? positionRestrictions.right - positionRestrictions.left\n            : Infinity,\n        maxHeight: positionRestrictions.bottom !== undefined && positionRestrictions.top !== undefined\n            ? positionRestrictions.bottom - positionRestrictions.top\n            : Infinity,\n    };\n}\nfunction mergePositionRestrictions(a, b) {\n    var restrictions = {};\n    ALL_DIRECTIONS.forEach(function (direction) {\n        var firstDirection = a[direction];\n        var secondDirection = b[direction];\n        if (firstDirection !== undefined && secondDirection !== undefined) {\n            if (direction === 'left' || direction === 'top') {\n                restrictions[direction] = Math.max(firstDirection, secondDirection);\n            }\n            else {\n                restrictions[direction] = Math.min(firstDirection, secondDirection);\n            }\n        }\n        else if (secondDirection !== undefined) {\n            restrictions[direction] = secondDirection;\n        }\n        else if (firstDirection !== undefined) {\n            restrictions[direction] = firstDirection;\n        }\n    });\n    return restrictions;\n}\nfunction fitToPositionRestrictions(coordinates, positionRestrictions) {\n    var directions = {\n        left: 0,\n        top: 0,\n    };\n    var intersection = getIntersections(coordinates, positionRestrictions);\n    if (intersection.left && intersection.left > 0) {\n        directions.left = intersection.left;\n    }\n    else if (intersection.right && intersection.right > 0) {\n        directions.left = -intersection.right;\n    }\n    if (intersection.top && intersection.top > 0) {\n        directions.top = intersection.top;\n    }\n    else if (intersection.bottom && intersection.bottom > 0) {\n        directions.top = -intersection.bottom;\n    }\n    return directions;\n}\nfunction moveToPositionRestrictions(coordinates, positionRestrictions) {\n    return applyMove(coordinates, fitToPositionRestrictions(coordinates, positionRestrictions));\n}\nfunction aspectRatioIntersection(main, subset) {\n    if (!subset) {\n        return main;\n    }\n    else if (!main) {\n        return subset;\n    }\n    else {\n        return {\n            minimum: Math.min(main.maximum, Math.max(main.minimum, subset.minimum)),\n            maximum: Math.max(main.minimum, Math.min(main.maximum, subset.maximum)),\n        };\n    }\n}\nfunction createAspectRatio(aspectRatio) {\n    if (aspectRatio === void 0) { aspectRatio = {}; }\n    if (isNumber(aspectRatio)) {\n        return {\n            minimum: aspectRatio,\n            maximum: aspectRatio,\n        };\n    }\n    else {\n        return {\n            minimum: isNumeric(aspectRatio.minimum) ? aspectRatio.minimum : 0,\n            maximum: isNumeric(aspectRatio.maximum) ? aspectRatio.maximum : Infinity,\n        };\n    }\n}\nfunction getTransitionStyle(transitions) {\n    return transitions ? transitions.timingFunction + \" \" + (transitions.active ? transitions.duration : 0) + \"ms\" : 'none';\n}\nfunction isConsistentSize(size, restrictions) {\n    return ((isUndefined(restrictions.maxWidth) || !isGreater(size.width, restrictions.maxWidth)) &&\n        (isUndefined(restrictions.maxHeight) || !isGreater(size.height, restrictions.maxHeight)) &&\n        (isUndefined(restrictions.minHeight) || !isLower(size.height, restrictions.minHeight)) &&\n        (isUndefined(restrictions.minWidth) || !isLower(size.width, restrictions.minWidth)));\n}\nfunction isConsistentPosition(coordinates, restrictions) {\n    return ((isUndefined(restrictions.left) || !isLower(coordinates.left, restrictions.left)) &&\n        (isUndefined(restrictions.top) || !isLower(coordinates.top, restrictions.top)) &&\n        (isUndefined(restrictions.right) || !isGreater(coordinates.left + coordinates.width, restrictions.right)) &&\n        (isUndefined(restrictions.bottom) || !isGreater(coordinates.top + coordinates.height, restrictions.bottom)));\n}\nfunction getCloserSize(candidates, reference, sizeRestrictions, aspectRatio) {\n    var traverse = function (ignoreMinimum) {\n        return candidates.reduce(function (minimum, size) {\n            var _a = isFunction(sizeRestrictions)\n                ? sizeRestrictions(size)\n                : sizeRestrictions, maxHeight = _a.maxHeight, maxWidth = _a.maxWidth, minWidth = _a.minWidth, minHeight = _a.minHeight;\n            var preparedAspectRatio = createAspectRatio(isFunction(aspectRatio) ? aspectRatio(size) : aspectRatio);\n            var preparedSizeRestrictions = ignoreMinimum\n                ? { maxWidth: maxWidth, maxHeight: maxHeight }\n                : { maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight };\n            if (isConsistentSize(size, preparedSizeRestrictions) &&\n                !getBrokenRatio(ratio(size), preparedAspectRatio) &&\n                size.width &&\n                size.height) {\n                return !minimum || isLower(sizeDistance(size, reference), sizeDistance(minimum, reference))\n                    ? size\n                    : minimum;\n            }\n            else {\n                return minimum;\n            }\n        }, null);\n    };\n    return traverse() || traverse(true);\n}\n\nexport { applyDirections, applyMove, applyScale, aspectRatioIntersection, coordinatesToPositionRestrictions, createAspectRatio, diff, fitToPositionRestrictions, fitToSizeRestrictions, getBrokenRatio, getCenter, getCloserSize, getIntersections, getOppositeSide, getTransitionStyle, inverseMove, isConsistentPosition, isConsistentSize, maxScale, mergePositionRestrictions, minScale, moveToPositionRestrictions, positionToSizeRestrictions, ratio, resizeToSizeRestrictions, rotatePoint, rotateSize, sizeDistance };\n","import 'tslib';\nimport { moveToPositionRestrictions, applyMove } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction moveCoordinatesAlgorithm(coordinates, directions, positionRestrictions) {\n    var movedCoordinates = applyMove(coordinates, directions);\n    return positionRestrictions ? moveToPositionRestrictions(movedCoordinates, positionRestrictions) : movedCoordinates;\n}\n\nexport { moveCoordinatesAlgorithm };\n","import { __assign } from 'tslib';\nimport { isFunction, emptyCoordinates, isNumber, isBoolean } from '../utils/index.js';\nimport { createAspectRatio, rotateSize, moveToPositionRestrictions, getBrokenRatio, ratio, isConsistentSize, isConsistentPosition } from './utils.js';\nimport { calculateAreaSizeRestrictions, calculateSizeRestrictions } from './sizeRestrictions.js';\n\nfunction isInitializedState(state) {\n    return Boolean(state && state.visibleArea && state.coordinates);\n}\nfunction getAreaSizeRestrictions(state, settings) {\n    return calculateAreaSizeRestrictions(state, settings);\n}\nfunction getAreaPositionRestrictions(state, settings) {\n    return isFunction(settings.areaPositionRestrictions)\n        ? settings.areaPositionRestrictions(state, settings)\n        : settings.areaPositionRestrictions;\n}\nfunction getSizeRestrictions(state, settings) {\n    return calculateSizeRestrictions(state, settings);\n}\nfunction getPositionRestrictions(state, settings) {\n    return isFunction(settings.positionRestrictions)\n        ? settings.positionRestrictions(state, settings)\n        : settings.positionRestrictions;\n}\nfunction getCoefficient(state) {\n    return state.visibleArea ? state.visibleArea.width / state.boundary.width : 0;\n}\nfunction getStencilCoordinates(state) {\n    if (isInitializedState(state)) {\n        var _a = state.coordinates, width = _a.width, height = _a.height, left = _a.left, top_1 = _a.top;\n        var coefficient = getCoefficient(state);\n        return {\n            width: width / coefficient,\n            height: height / coefficient,\n            left: (left - state.visibleArea.left) / coefficient,\n            top: (top_1 - state.visibleArea.top) / coefficient,\n        };\n    }\n    else {\n        return emptyCoordinates();\n    }\n}\nfunction getAspectRatio(state, settings) {\n    return createAspectRatio(isFunction(settings.aspectRatio) ? settings.aspectRatio(state, settings) : settings.aspectRatio);\n}\nfunction getDefaultCoordinates(state, settings) {\n    return isFunction(settings.defaultCoordinates)\n        ? settings.defaultCoordinates(state, settings)\n        : settings.defaultCoordinates;\n}\nfunction getDefaultVisibleArea(state, settings) {\n    return isFunction(settings.defaultVisibleArea)\n        ? settings.defaultVisibleArea(state, settings)\n        : settings.defaultVisibleArea;\n}\nfunction getDefaultTransforms(state, settings) {\n    var transforms = __assign(__assign({}, state.transforms), { flip: __assign({}, state.transforms.flip) });\n    if (settings.defaultTransforms) {\n        var defaultTransforms = isFunction(settings.defaultTransforms)\n            ? settings.defaultTransforms(state, settings)\n            : settings.defaultTransforms;\n        if (isNumber(defaultTransforms.rotate)) {\n            transforms.rotate = defaultTransforms.rotate;\n        }\n        if (defaultTransforms.flip) {\n            if (isBoolean(defaultTransforms.flip.horizontal)) {\n                transforms.flip.horizontal = defaultTransforms.flip.horizontal;\n            }\n            if (isBoolean(defaultTransforms.flip.vertical)) {\n                transforms.flip.vertical = defaultTransforms.flip.vertical;\n            }\n        }\n    }\n    return transforms;\n}\nfunction getTransformedImageSize(state) {\n    if (state.imageSize && state.imageSize.width && state.imageSize.height) {\n        return rotateSize(state.imageSize, state.transforms.rotate);\n    }\n    else {\n        return {\n            width: 0,\n            height: 0,\n        };\n    }\n}\nfunction getMinimumSize(state) {\n    // The magic number is the approximation of the handler size\n    // Temporary solution that should be improved in the future\n    return state.coordinates\n        ? Math.min(state.coordinates.width, state.coordinates.height, 20 * getCoefficient(state))\n        : 1;\n}\nfunction getRoundedCoordinates(state, settings) {\n    if (isInitializedState(state)) {\n        var sizeRestrictions = getSizeRestrictions(state, settings);\n        var positionRestrictions = getPositionRestrictions(state, settings);\n        var roundCoordinates = {\n            width: Math.round(state.coordinates.width),\n            height: Math.round(state.coordinates.height),\n            left: Math.round(state.coordinates.left),\n            top: Math.round(state.coordinates.top),\n        };\n        if (roundCoordinates.width > sizeRestrictions.maxWidth) {\n            roundCoordinates.width = Math.floor(state.coordinates.width);\n        }\n        else if (roundCoordinates.width < sizeRestrictions.minWidth) {\n            roundCoordinates.width = Math.ceil(state.coordinates.width);\n        }\n        if (roundCoordinates.height > sizeRestrictions.maxHeight) {\n            roundCoordinates.height = Math.floor(state.coordinates.height);\n        }\n        else if (roundCoordinates.height < sizeRestrictions.minHeight) {\n            roundCoordinates.height = Math.ceil(state.coordinates.height);\n        }\n        return moveToPositionRestrictions(roundCoordinates, positionRestrictions);\n    }\n    else {\n        return null;\n    }\n}\nfunction isConsistentState(state, settings) {\n    if (isInitializedState(state)) {\n        return (!getBrokenRatio(ratio(state.coordinates), getAspectRatio(state, settings)) &&\n            isConsistentSize(state.visibleArea, getAreaSizeRestrictions(state, settings)) &&\n            isConsistentSize(state.coordinates, getSizeRestrictions(state, settings)) &&\n            isConsistentPosition(state.visibleArea, getAreaPositionRestrictions(state, settings)) &&\n            isConsistentPosition(state.coordinates, getPositionRestrictions(state, settings)));\n    }\n    else {\n        return true;\n    }\n}\n\nexport { getAreaPositionRestrictions, getAreaSizeRestrictions, getAspectRatio, getCoefficient, getDefaultCoordinates, getDefaultTransforms, getDefaultVisibleArea, getMinimumSize, getPositionRestrictions, getRoundedCoordinates, getSizeRestrictions, getStencilCoordinates, getTransformedImageSize, isConsistentState, isInitializedState };\n","import 'tslib';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultPositionRestrictions(state, settings) {\n    var imageSize = getTransformedImageSize(state);\n    var limits = {};\n    if (settings.imageRestriction && settings.imageRestriction !== 'none') {\n        limits = {\n            left: 0,\n            top: 0,\n            right: imageSize.width,\n            bottom: imageSize.height,\n        };\n    }\n    return limits;\n}\n\nexport { defaultPositionRestrictions };\n","import { __assign } from 'tslib';\nimport { isFunction, isNumeric, parseNumber } from '../utils/index.js';\nimport { ratio } from './utils.js';\nimport { getPositionRestrictions } from './helpers.js';\n\nfunction reconcileSizeRestrictions(sizeRestrictions) {\n    var restrictions = __assign({}, sizeRestrictions);\n    // Process the border cases when minimum height / width larger than maximum height / width\n    if (restrictions.minWidth > restrictions.maxWidth) {\n        restrictions.minWidth = restrictions.maxWidth;\n    }\n    if (restrictions.minHeight > restrictions.maxHeight) {\n        restrictions.minHeight = restrictions.maxHeight;\n    }\n    return restrictions;\n}\nfunction mergeSizeRestrictions(a, b) {\n    var first = a;\n    var second = __assign({ minWidth: 0, minHeight: 0, maxWidth: Infinity, maxHeight: Infinity }, b);\n    return reconcileSizeRestrictions({\n        maxHeight: Math.min(first.maxHeight, second.maxHeight),\n        minHeight: Math.max(first.minHeight, second.minHeight),\n        maxWidth: Math.min(first.maxWidth, second.maxWidth),\n        minWidth: Math.max(first.minWidth, second.minWidth),\n    });\n}\nfunction calculateSizeRestrictions(state, settings) {\n    var sizeRestrictions = isFunction(settings.sizeRestrictions)\n        ? settings.sizeRestrictions(state, settings)\n        : settings.sizeRestrictions;\n    var positionRestrictions = getPositionRestrictions(state, settings);\n    // User can forget to set some of restrictions, so we should initialize them by default values\n    var restrictions = {\n        minWidth: isNumeric(sizeRestrictions.minWidth) ? parseNumber(sizeRestrictions.minWidth) : 0,\n        minHeight: isNumeric(sizeRestrictions.minHeight) ? parseNumber(sizeRestrictions.minHeight) : 0,\n        maxWidth: isNumeric(sizeRestrictions.maxWidth) ? parseNumber(sizeRestrictions.maxWidth) : Infinity,\n        maxHeight: isNumeric(sizeRestrictions.maxHeight) ? parseNumber(sizeRestrictions.maxHeight) : Infinity,\n    };\n    // The situation, when stencil can't be positioned in cropper due to positionRestrictions should be avoided\n    if (positionRestrictions.left !== undefined && positionRestrictions.right !== undefined) {\n        restrictions.maxWidth = Math.min(restrictions.maxWidth, positionRestrictions.right - positionRestrictions.left);\n    }\n    if (positionRestrictions.bottom !== undefined && positionRestrictions.top !== undefined) {\n        restrictions.maxHeight = Math.min(restrictions.maxHeight, positionRestrictions.bottom - positionRestrictions.top);\n    }\n    return reconcileSizeRestrictions(restrictions);\n}\nfunction calculateAreaSizeRestrictions(state, settings) {\n    var sizeRestrictions = isFunction(settings.areaSizeRestrictions)\n        ? settings.areaSizeRestrictions(state, settings)\n        : settings.areaSizeRestrictions;\n    if (sizeRestrictions.maxWidth < Infinity && sizeRestrictions.maxHeight < Infinity) {\n        if (ratio(state.boundary) > sizeRestrictions.maxWidth / sizeRestrictions.maxHeight) {\n            sizeRestrictions.maxHeight = sizeRestrictions.maxWidth / ratio(state.boundary);\n        }\n        else {\n            sizeRestrictions.maxWidth = sizeRestrictions.maxHeight * ratio(state.boundary);\n        }\n    }\n    return reconcileSizeRestrictions(sizeRestrictions);\n}\n\nexport { calculateAreaSizeRestrictions, calculateSizeRestrictions, mergeSizeRestrictions, reconcileSizeRestrictions };\n","import { __assign } from 'tslib';\nimport { copyState } from './copyState.js';\nimport { fitCoordinates } from '../service/fitCoordinates.js';\nimport { fitVisibleArea } from '../service/fitVisibleArea.js';\n\nfunction setVisibleArea(state, settings, visibleArea, \n// If you set safe to `false`, the coordinates will be able to leave the visible area\nsafe) {\n    if (safe === void 0) { safe = true; }\n    var result = __assign(__assign({}, copyState(state)), { visibleArea: visibleArea });\n    // There is no possibility to break visible area limitations.\n    result = fitVisibleArea(result, settings);\n    if (safe) {\n        result = fitCoordinates(result, settings);\n    }\n    return result;\n}\n\nexport { setVisibleArea };\n","import 'tslib';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultPosition(state) {\n    var visibleArea = state.visibleArea, coordinates = state.coordinates;\n    var area = visibleArea || getTransformedImageSize(state);\n    return {\n        left: (visibleArea ? visibleArea.left : 0) + area.width / 2 - (coordinates ? coordinates.width / 2 : 0),\n        top: (visibleArea ? visibleArea.top : 0) + area.height / 2 - (coordinates ? coordinates.height / 2 : 0),\n    };\n}\n\nexport { defaultPosition };\n","import 'tslib';\nimport { ratio } from '../service/utils.js';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport { ImageRestriction } from '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultAreaPositionRestrictions(state, settings) {\n    var visibleArea = state.visibleArea, boundary = state.boundary;\n    var imageRestriction = settings.imageRestriction;\n    var imageSize = getTransformedImageSize(state);\n    var restrictions = {};\n    if (imageRestriction === ImageRestriction.fillArea) {\n        restrictions = {\n            left: 0,\n            top: 0,\n            right: imageSize.width,\n            bottom: imageSize.height,\n        };\n    }\n    else if (imageRestriction === ImageRestriction.fitArea) {\n        if (ratio(boundary) > ratio(imageSize)) {\n            restrictions = {\n                top: 0,\n                bottom: imageSize.height,\n            };\n            if (visibleArea) {\n                if (visibleArea.width > imageSize.width) {\n                    restrictions.left = -(visibleArea.width - imageSize.width) / 2;\n                    restrictions.right = imageSize.width - restrictions.left;\n                }\n                else {\n                    restrictions.left = 0;\n                    restrictions.right = imageSize.width;\n                }\n            }\n        }\n        else {\n            restrictions = {\n                left: 0,\n                right: imageSize.width,\n            };\n            if (visibleArea) {\n                if (visibleArea.height > imageSize.height) {\n                    restrictions.top = -(visibleArea.height - imageSize.height) / 2;\n                    restrictions.bottom = imageSize.height - restrictions.top;\n                }\n                else {\n                    restrictions.top = 0;\n                    restrictions.bottom = imageSize.height;\n                }\n            }\n        }\n    }\n    return restrictions;\n}\n\nexport { defaultAreaPositionRestrictions };\n","import 'tslib';\nimport { ratio } from '../service/utils.js';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport { ImageRestriction } from '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultAreaSizeRestrictions(state, settings) {\n    var boundary = state.boundary;\n    var imageRestriction = settings.imageRestriction;\n    var imageSize = getTransformedImageSize(state);\n    var restrictions = {\n        minWidth: 0,\n        minHeight: 0,\n        maxWidth: Infinity,\n        maxHeight: Infinity,\n    };\n    if (imageRestriction === ImageRestriction.fillArea) {\n        restrictions.maxWidth = imageSize.width;\n        restrictions.maxHeight = imageSize.height;\n    }\n    else if (imageRestriction === ImageRestriction.fitArea) {\n        if (ratio(boundary) > ratio(imageSize)) {\n            restrictions.maxHeight = imageSize.height;\n            restrictions.maxWidth = imageSize.height * ratio(boundary);\n        }\n        else {\n            restrictions.maxWidth = imageSize.width;\n            restrictions.maxHeight = imageSize.width / ratio(boundary);\n        }\n    }\n    return restrictions;\n}\n\nexport { defaultAreaSizeRestrictions };\n","import { __assign } from 'tslib';\nimport { ratio, resizeToSizeRestrictions, getIntersections, coordinatesToPositionRestrictions, moveToPositionRestrictions } from '../service/utils.js';\nimport { getTransformedImageSize, getAreaSizeRestrictions } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultVisibleArea(state, settings) {\n    var coordinates = state.coordinates, boundary = state.boundary;\n    var imageSize = getTransformedImageSize(state);\n    var boundaryRatio = ratio(boundary);\n    if (coordinates) {\n        // Visible area will try to fit reference:\n        var reference = {\n            height: Math.max(coordinates.height, imageSize.height),\n            width: Math.max(coordinates.width, imageSize.width),\n        };\n        var visibleArea = {\n            left: 0,\n            top: 0,\n            width: ratio(reference) > boundaryRatio ? reference.width : reference.height * boundaryRatio,\n            height: ratio(reference) > boundaryRatio ? reference.width / boundaryRatio : reference.height,\n        };\n        // Visible area should correspond its restrictions:\n        visibleArea = resizeToSizeRestrictions(visibleArea, getAreaSizeRestrictions(state, settings));\n        // Visible area will try to center stencil:\n        visibleArea.left = coordinates.left + coordinates.width / 2 - visibleArea.width / 2;\n        visibleArea.top = coordinates.top + coordinates.height / 2 - visibleArea.height / 2;\n        // TODO: Controversial behavior:\n        // If the coordinates are beyond image visible area will be allowed to be beyond image alike:\n        var coordinatesIntersection = getIntersections(coordinates, coordinatesToPositionRestrictions(__assign({ left: 0, top: 0 }, imageSize)));\n        var restrictions = {};\n        if (!coordinatesIntersection.left && !coordinatesIntersection.right && visibleArea.width <= imageSize.width) {\n            restrictions.left = 0;\n            restrictions.right = imageSize.width;\n        }\n        if (!coordinatesIntersection.top && !coordinatesIntersection.bottom && visibleArea.height <= imageSize.height) {\n            restrictions.top = 0;\n            restrictions.bottom = imageSize.height;\n        }\n        return moveToPositionRestrictions(visibleArea, restrictions);\n    }\n    else {\n        var imageRatio = ratio(imageSize);\n        var areaProperties = {\n            height: imageRatio < boundaryRatio ? imageSize.height : imageSize.width / boundaryRatio,\n            width: imageRatio < boundaryRatio ? imageSize.height * boundaryRatio : imageSize.width,\n        };\n        return {\n            left: imageSize.width / 2 - areaProperties.width / 2,\n            top: imageSize.height / 2 - areaProperties.height / 2,\n            width: areaProperties.width,\n            height: areaProperties.height,\n        };\n    }\n}\n\nexport { defaultVisibleArea };\n","import 'tslib';\nimport { getDefaultTransforms, getDefaultVisibleArea, getDefaultCoordinates } from '../service/helpers.js';\nimport { Priority } from '../types/index.js';\nimport { setCoordinates, SetCoordinatesMode } from './setCoordinates.js';\nimport { setVisibleArea } from './setVisibleArea.js';\n\nfunction createState(options, settings) {\n    var _a, _b, _c, _d, _e;\n    var boundary = options.boundary, image = options.image;\n    var state = {\n        boundary: {\n            width: boundary.width,\n            height: boundary.height,\n        },\n        imageSize: {\n            width: image.width,\n            height: image.height,\n        },\n        transforms: {\n            rotate: ((_a = image.transforms) === null || _a === void 0 ? void 0 : _a.rotate) || 0,\n            flip: {\n                horizontal: ((_c = (_b = image.transforms) === null || _b === void 0 ? void 0 : _b.flip) === null || _c === void 0 ? void 0 : _c.horizontal) || false,\n                vertical: ((_e = (_d = image.transforms) === null || _d === void 0 ? void 0 : _d.flip) === null || _e === void 0 ? void 0 : _e.vertical) || false,\n            },\n        },\n        visibleArea: null,\n        coordinates: null,\n    };\n    if (settings.defaultTransforms) {\n        state.transforms = getDefaultTransforms(state, settings);\n    }\n    if (settings.priority === Priority.visibleArea) {\n        state = setVisibleArea(state, settings, getDefaultVisibleArea(state, settings), false);\n        state = setCoordinates(state, settings, getDefaultCoordinates(state, settings), SetCoordinatesMode.limit);\n    }\n    else {\n        state = setCoordinates(state, settings, getDefaultCoordinates(state, settings), SetCoordinatesMode.unsafe);\n        state = setVisibleArea(state, settings, getDefaultVisibleArea(state, settings), true);\n    }\n    return state;\n}\n\nexport { createState };\n","import 'tslib';\nimport { isFunction } from '../utils/index.js';\nimport { createAspectRatio } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultStencilConstraints(rawSettings, stencilProps) {\n    if (!rawSettings.aspectRatio) {\n        return {\n            aspectRatio: createAspectRatio(isFunction(stencilProps.aspectRatio) ? stencilProps.aspectRatio() : stencilProps.aspectRatio),\n        };\n    }\n    return {};\n}\n\nexport { defaultStencilConstraints };\n","import 'tslib';\nimport { applyMove, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from '../service/utils.js';\nimport { isInitializedState, getPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\n\nfunction moveCoordinates(state, settings, directions) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        result.coordinates = applyMove(result.coordinates, directions);\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), getPositionRestrictions(result, settings)));\n        return result;\n    }\n    return state;\n}\n\nexport { moveCoordinates };\n","import 'tslib';\nimport { rotatePoint, getCenter, applyMove, diff, moveToPositionRestrictions } from '../service/utils.js';\nimport { isInitializedState, getTransformedImageSize, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction flipImageAlgorithm(state, settings, horizontal, vertical) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var rotate = state.transforms.rotate;\n        var imageSize = getTransformedImageSize(state);\n        var changed = {\n            horizontal: horizontal,\n            vertical: vertical,\n        };\n        if (changed.horizontal || changed.vertical) {\n            var imageCenter = rotatePoint({\n                left: imageSize.width / 2,\n                top: imageSize.height / 2,\n            }, -rotate);\n            var oldCenter = rotatePoint(getCenter(result.coordinates), -rotate);\n            var newCenter = rotatePoint({\n                left: changed.horizontal ? imageCenter.left - (oldCenter.left - imageCenter.left) : oldCenter.left,\n                top: changed.vertical ? imageCenter.top - (oldCenter.top - imageCenter.top) : oldCenter.top,\n            }, rotate);\n            result.coordinates = applyMove(result.coordinates, diff(newCenter, getCenter(result.coordinates)));\n            oldCenter = rotatePoint(getCenter(result.visibleArea), -rotate);\n            newCenter = rotatePoint({\n                left: changed.horizontal ? imageCenter.left - (oldCenter.left - imageCenter.left) : oldCenter.left,\n                top: changed.vertical ? imageCenter.top - (oldCenter.top - imageCenter.top) : oldCenter.top,\n            }, rotate);\n            result.visibleArea = applyMove(result.visibleArea, diff(newCenter, getCenter(result.visibleArea)));\n            result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        }\n        if (changed.horizontal) {\n            result.transforms.flip.horizontal = !state.transforms.flip.horizontal;\n        }\n        if (changed.vertical) {\n            result.transforms.flip.vertical = !state.transforms.flip.vertical;\n        }\n        return result;\n    }\n    return state;\n}\n\nexport { flipImageAlgorithm };\n","import 'tslib';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { rotateImageAlgorithm } from '../algorithms/rotateImageAlgorithm.js';\nimport { flipImageAlgorithm } from '../algorithms/flipImageAlgorithm.js';\nimport { transformImageAlgorithm } from '../algorithms/transformImageAlgorithm.js';\n\nfunction transformImage(state, settings, transform) {\n    if (transform.rotate) {\n        state = rotateImageAlgorithm(state, settings, transform.rotate);\n    }\n    if (transform.flip) {\n        state = flipImageAlgorithm(state, settings, transform.flip.horizontal, transform.flip.vertical);\n    }\n    if (transform.move || transform.scale) {\n        state = transformImageAlgorithm(state, settings, transform);\n    }\n    return state;\n}\n\nexport { transformImage };\n","import { __assign } from 'tslib';\nimport { positionToSizeRestrictions, ratio } from '../service/utils.js';\nimport { getSizeRestrictions, getAspectRatio, getPositionRestrictions } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction defaultSize(state, settings) {\n    var imageSize = state.imageSize, visibleArea = state.visibleArea;\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    var aspectRatio = getAspectRatio(state, settings);\n    var area;\n    if (visibleArea) {\n        area = visibleArea;\n    }\n    else {\n        var sizeRestrictions_1 = positionToSizeRestrictions(getPositionRestrictions(state, settings));\n        area = {\n            width: Math.max(sizeRestrictions_1.minWidth, Math.min(sizeRestrictions_1.maxWidth, imageSize.width)),\n            height: Math.max(sizeRestrictions_1.minHeight, Math.min(sizeRestrictions_1.maxHeight, imageSize.height)),\n        };\n    }\n    var optimalRatio = Math.min(aspectRatio.maximum || Infinity, Math.max(aspectRatio.minimum || 0, ratio(area)));\n    var size = area.width < area.height\n        ? {\n            width: area.width * 0.8,\n            height: (area.width * 0.8) / optimalRatio,\n        }\n        : {\n            height: area.height * 0.8,\n            width: area.height * 0.8 * optimalRatio,\n        };\n    return approximateSize(__assign(__assign({}, size), { aspectRatio: aspectRatio, sizeRestrictions: sizeRestrictions }));\n}\n\nexport { defaultSize };\n","import { __assign } from 'tslib';\nimport { isCrossOriginURL, isBlob, isLocal } from '../utils/index.js';\nimport { ratio } from '../service/utils.js';\nimport { getTransformedImageSize, getCoefficient } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nvar XHR_DONE = 4;\nfunction base64ToArrayBuffer(base64) {\n    base64 = base64.replace(/^data:([^;]+);base64,/gim, '');\n    var binary = atob(base64);\n    var len = binary.length;\n    var buffer = new ArrayBuffer(len);\n    var view = new Uint8Array(buffer);\n    for (var i = 0; i < len; i++) {\n        view[i] = binary.charCodeAt(i);\n    }\n    return buffer;\n}\nfunction objectURLToBlob(url, callback) {\n    var http = new XMLHttpRequest();\n    http.open('GET', url, true);\n    http.responseType = 'blob';\n    http.onload = function () {\n        if (this.status == 200 || this.status === 0) {\n            callback(this.response);\n        }\n    };\n    http.send();\n}\nfunction getTransforms(orientation) {\n    var result = {\n        flip: {\n            horizontal: false,\n            vertical: false,\n        },\n        rotate: 0,\n    };\n    if (orientation) {\n        switch (orientation) {\n            case 2:\n                result.flip.horizontal = true;\n                break;\n            case 3:\n                result.rotate = -180;\n                break;\n            case 4:\n                result.flip.vertical = true;\n                break;\n            case 5:\n                result.rotate = 90;\n                result.flip.vertical = true;\n                break;\n            case 6:\n                result.rotate = 90;\n                break;\n            case 7:\n                result.rotate = 90;\n                result.flip.horizontal = true;\n                break;\n            case 8:\n                result.rotate = -90;\n                break;\n        }\n    }\n    return result;\n}\nfunction getImageData(img) {\n    return new Promise(function (resolve, reject) {\n        try {\n            if (img) {\n                if (/^data:/i.test(img)) {\n                    // Data URL\n                    resolve(base64ToArrayBuffer(img));\n                }\n                else if (/^blob:/i.test(img)) {\n                    // Blob\n                    var fileReader_1 = new FileReader();\n                    fileReader_1.onload = function (e) {\n                        var _a;\n                        resolve((_a = e.target) === null || _a === void 0 ? void 0 : _a.result);\n                    };\n                    objectURLToBlob(img, function (blob) {\n                        fileReader_1.readAsArrayBuffer(blob);\n                    });\n                }\n                else {\n                    // Simple URL\n                    var http_1 = new XMLHttpRequest();\n                    http_1.onreadystatechange = function () {\n                        if (http_1.readyState !== XHR_DONE)\n                            return;\n                        if (http_1.status === 200 || http_1.status === 0) {\n                            resolve(http_1.response);\n                        }\n                        else {\n                            reject('Warning: could not load an image to parse its orientation');\n                        }\n                    };\n                    http_1.onprogress = function () {\n                        // Abort the request directly if it not a JPEG image for better performance\n                        if (http_1.getResponseHeader('content-type') !== 'image/jpeg') {\n                            http_1.abort();\n                        }\n                    };\n                    http_1.withCredentials = false;\n                    http_1.open('GET', img, true);\n                    http_1.responseType = 'arraybuffer';\n                    http_1.send(null);\n                }\n            }\n            else {\n                reject('Error: the image is empty');\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\nfunction getStyleTransforms(transforms) {\n    var _a = transforms.rotate, rotate = _a === void 0 ? 0 : _a, _b = transforms.flip, flip = _b === void 0 ? { horizontal: false, vertical: false } : _b, _c = transforms.scale, scale = _c === void 0 ? 1 : _c;\n    return \" rotate(\" + rotate + \"deg) scaleX(\" + scale * (flip.horizontal ? -1 : 1) + \") scaleY(\" + scale * (flip.vertical ? -1 : 1) + \")\";\n}\nfunction getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    var i;\n    for (i = start, length += start; i < length; i++) {\n        str += String.fromCharCode(dataView.getUint8(i));\n    }\n    return str;\n}\nfunction resetAndGetOrientation(arrayBuffer) {\n    try {\n        var dataView = new DataView(arrayBuffer);\n        var orientation_1;\n        var exifIDCode = void 0;\n        var tiffOffset = void 0;\n        var littleEndian = void 0;\n        var app1Start = void 0;\n        var ifdStart = void 0;\n        // Only handle JPEG image (start by 0xFFD8)\n        if (dataView.getUint8(0) === 0xff && dataView.getUint8(1) === 0xd8) {\n            var length_1 = dataView.byteLength;\n            var offset = 2;\n            while (offset + 1 < length_1) {\n                if (dataView.getUint8(offset) === 0xff && dataView.getUint8(offset + 1) === 0xe1) {\n                    app1Start = offset;\n                    break;\n                }\n                offset++;\n            }\n        }\n        if (app1Start) {\n            exifIDCode = app1Start + 4;\n            tiffOffset = app1Start + 10;\n            if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n                var endianness = dataView.getUint16(tiffOffset);\n                littleEndian = endianness === 0x4949;\n                if (littleEndian || endianness === 0x4d4d /* bigEndian */) {\n                    if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002a) {\n                        var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n                        if (firstIFDOffset >= 0x00000008) {\n                            ifdStart = tiffOffset + firstIFDOffset;\n                        }\n                    }\n                }\n            }\n        }\n        if (ifdStart) {\n            var length_2 = dataView.getUint16(ifdStart, littleEndian);\n            for (var i = 0; i < length_2; i++) {\n                var offset = ifdStart + i * 12 + 2;\n                if (dataView.getUint16(offset, littleEndian) === 0x0112 /* Orientation */) {\n                    // 8 is the offset of the current tag's value\n                    offset += 8;\n                    // Get the original orientation value\n                    orientation_1 = dataView.getUint16(offset, littleEndian);\n                    // Override the orientation with its default value\n                    dataView.setUint16(offset, 1, littleEndian);\n                    break;\n                }\n            }\n        }\n        return orientation_1;\n    }\n    catch (error) {\n        return null;\n    }\n}\nfunction arrayBufferToDataURL(arrayBuffer) {\n    var chunks = [];\n    // Chunk Typed Array for better performance\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n    while (uint8.length > 0) {\n        var value = uint8.subarray(0, chunkSize);\n        chunks.push(String.fromCharCode.apply(null, (Array.from ? Array.from(value) : value.slice())));\n        uint8 = uint8.subarray(chunkSize);\n    }\n    return \"data:image/jpeg;base64,\" + btoa(chunks.join(''));\n}\nfunction getImage(_a) {\n    var src = _a.src, _b = _a.arrayBuffer, arrayBuffer = _b === void 0 ? null : _b, _c = _a.orientation, orientation = _c === void 0 ? null : _c;\n    var options = {\n        src: src,\n        arrayBuffer: arrayBuffer,\n        revoke: false,\n        transforms: {\n            flip: {\n                horizontal: false,\n                vertical: false,\n            },\n            rotate: 0,\n        },\n    };\n    if (arrayBuffer && orientation && orientation > 1) {\n        if (isBlob(src) || !isLocal(src)) {\n            options.src = URL.createObjectURL(new Blob([arrayBuffer]));\n            options.revoke = true;\n        }\n        else {\n            options.src = arrayBufferToDataURL(arrayBuffer);\n        }\n    }\n    else {\n        options.src = src;\n    }\n    if (orientation) {\n        options.transforms = getTransforms(orientation);\n    }\n    return options;\n}\nfunction parseImage(src, settings) {\n    if (settings === void 0) { settings = {}; }\n    var checkOrientation = settings.checkOrientation, parse = settings.parse;\n    return new Promise(function (resolve) {\n        if (checkOrientation || parse) {\n            getImageData(src)\n                .then(function (data) {\n                var orientation = resetAndGetOrientation(data);\n                resolve(getImage(data\n                    ? { src: src, arrayBuffer: data, orientation: orientation }\n                    : { src: src, arrayBuffer: null, orientation: null }));\n            })\n                .catch(function (error) {\n                console.warn(error);\n                resolve(getImage({ src: src }));\n            });\n        }\n        else {\n            resolve(getImage({ src: src }));\n        }\n    });\n}\nfunction createImage(src, settings) {\n    if (settings === void 0) { settings = {}; }\n    return new Promise(function (resolve, reject) {\n        var image = document.createElement('img');\n        if (settings.crossOrigin) {\n            image.crossOrigin = settings.crossOrigin !== true ? settings.crossOrigin : 'anonymous';\n        }\n        image.src = src;\n        image.style.visibility = 'hidden';\n        image.style.position = 'fixed';\n        document.body.appendChild(image);\n        if (image.complete) {\n            resolve(image);\n            document.body.removeChild(image);\n        }\n        else {\n            image.addEventListener('load', function () {\n                resolve(image);\n                document.body.removeChild(image);\n            });\n            image.addEventListener('error', function () {\n                reject(null);\n                document.body.removeChild(image);\n            });\n        }\n    });\n}\nfunction loadImage(src, settings) {\n    if (settings === void 0) { settings = {}; }\n    return parseImage(src, __assign(__assign({}, settings), { crossOrigin: isCrossOriginURL(src) && settings.crossOrigin })).then(function (options) {\n        return new Promise(function (resolve, reject) {\n            createImage(options.src, settings)\n                .then(function (image) {\n                resolve(__assign(__assign({}, options), { width: image.naturalWidth, height: image.naturalHeight }));\n            })\n                .catch(function () {\n                reject(null);\n            });\n        });\n    });\n}\nfunction getImageStyle(image, state, area, coefficient, transitions) {\n    if (transitions === void 0) { transitions = null; }\n    var optimalImageSize = image.width > image.height\n        ? {\n            width: Math.min(512, image.width),\n            height: Math.min(512, image.width) / (image.width / image.height),\n        }\n        : {\n            height: Math.min(512, image.height),\n            width: Math.min(512, image.height) * (image.width / image.height),\n        };\n    var actualImageSize = getTransformedImageSize(state);\n    var imageTransforms = {\n        rotate: state.transforms.rotate,\n        flip: {\n            horizontal: state.transforms.flip.horizontal,\n            vertical: state.transforms.flip.vertical,\n        },\n        translateX: area.left / coefficient,\n        translateY: area.top / coefficient,\n        scale: 1 / coefficient,\n    };\n    var compensations = {\n        rotate: {\n            left: (optimalImageSize.width - actualImageSize.width) / (2 * coefficient),\n            top: (optimalImageSize.height - actualImageSize.height) / (2 * coefficient),\n        },\n        scale: {\n            left: ((1 - 1 / coefficient) * optimalImageSize.width) / 2,\n            top: ((1 - 1 / coefficient) * optimalImageSize.height) / 2,\n        },\n    };\n    var transforms = __assign(__assign({}, imageTransforms), { scale: imageTransforms.scale * (image.width / optimalImageSize.width) });\n    var result = {\n        width: optimalImageSize.width + \"px\",\n        height: optimalImageSize.height + \"px\",\n        left: '0px',\n        top: '0px',\n        transition: 'none',\n        transform: \"translate3d(\" + (-compensations.rotate.left - compensations.scale.left - imageTransforms.translateX) + \"px, \" + (-compensations.rotate.top - compensations.scale.top - imageTransforms.translateY) + \"px, 0px)\" + getStyleTransforms(transforms),\n        willChange: 'none',\n    };\n    if (transitions && transitions.active) {\n        result.willChange = 'transform';\n        result.transition = transitions.duration + \"ms \" + transitions.timingFunction;\n    }\n    return result;\n}\nfunction getBackgroundStyle(image, state, transitions) {\n    if (transitions === void 0) { transitions = null; }\n    if (image && state && state.visibleArea) {\n        return getImageStyle(image, state, state.visibleArea, getCoefficient(state), transitions);\n    }\n    else {\n        return {};\n    }\n}\nfunction getPreviewStyle(image, state, size, transitions) {\n    if (transitions === void 0) { transitions = null; }\n    if (image && state && state.visibleArea && state.coordinates) {\n        return getImageStyle(image, state, state.coordinates, ratio(state.coordinates) > ratio(size)\n            ? state.coordinates.width / size.width\n            : state.coordinates.height / size.height, transitions);\n    }\n    else {\n        return {};\n    }\n}\n\nexport { createImage, getBackgroundStyle, getImageStyle, getPreviewStyle, getStyleTransforms, loadImage };\n","import { __assign } from 'tslib';\nimport { ratio, applyMove, diff, getCenter, moveToPositionRestrictions } from './utils.js';\nimport { getAreaSizeRestrictions, getAreaPositionRestrictions } from './helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from './approximateSize.js';\n\nfunction fitVisibleArea(state, settings) {\n    var result = copyState(state);\n    if (state.visibleArea) {\n        var areaSizeRestrictions = getAreaSizeRestrictions(state, settings);\n        // Fit the visible area to its size restrictions and boundary aspect ratio:\n        result.visibleArea = __assign(__assign({}, state.visibleArea), approximateSize({\n            width: state.visibleArea.width,\n            height: state.visibleArea.height,\n            aspectRatio: {\n                minimum: ratio(result.boundary),\n                maximum: ratio(result.boundary),\n            },\n            sizeRestrictions: areaSizeRestrictions,\n        }));\n        // Return the visible area to previous center\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(state.visibleArea), getCenter(result.visibleArea)));\n        // Fit the visible area to positions restrictions\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n    }\n    return result;\n}\n\nexport { fitVisibleArea };\n","import 'tslib';\nimport { isNumber, isRoughlyEqual } from '../utils/index.js';\nimport { applyMove, maxScale, positionToSizeRestrictions, minScale, applyScale, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions, getCenter, inverseMove, fitToPositionRestrictions } from '../service/utils.js';\nimport { isInitializedState, getSizeRestrictions, getPositionRestrictions, getAreaSizeRestrictions, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction transformImageAlgorithm(state, settings, transform) {\n    var _a;\n    var _b = transform.scale, scale = _b === void 0 ? 1 : _b, _c = transform.move, move = _c === void 0 ? {} : _c;\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        // It's reversed because zooming in the image is actually zooming out visible area\n        var scaleFactor = 1 / (isNumber(scale) ? scale : scale.factor);\n        var scaleCenter = !isNumber(scale) ? scale.center : undefined;\n        var isAllowedScale = !isRoughlyEqual(scaleFactor, 1);\n        var areaScale = 1;\n        var stencilScale = 1;\n        result.visibleArea = applyMove(result.visibleArea, {\n            left: move.left || 0,\n            top: move.top || 0,\n        });\n        var sizeRestrictions = getSizeRestrictions(result, settings);\n        var positionRestrictions = getPositionRestrictions(result, settings);\n        var areaSizeRestrictions = getAreaSizeRestrictions(result, settings);\n        var scaleRestrictions = {\n            stencil: {\n                minimum: Math.max(sizeRestrictions.minWidth ? sizeRestrictions.minWidth / result.coordinates.width : 0, sizeRestrictions.minHeight ? sizeRestrictions.minHeight / result.coordinates.height : 0),\n                maximum: Math.min(sizeRestrictions.maxWidth ? sizeRestrictions.maxWidth / result.coordinates.width : Infinity, sizeRestrictions.maxHeight ? sizeRestrictions.maxHeight / result.coordinates.height : Infinity, maxScale(result.coordinates, positionToSizeRestrictions(positionRestrictions))),\n            },\n            area: {\n                maximum: maxScale(result.visibleArea, areaSizeRestrictions),\n                minimum: minScale(result.visibleArea, areaSizeRestrictions),\n            },\n        };\n        // If there is scaling then begin scale\n        if (scaleFactor && isAllowedScale) {\n            // Determine scale factor\n            if (scaleFactor < 1) {\n                stencilScale = Math.max(scaleFactor, Math.max(scaleRestrictions.area.minimum, scaleRestrictions.stencil.minimum));\n                if (stencilScale > 1) {\n                    stencilScale = 1;\n                }\n            }\n            else if (scaleFactor > 1) {\n                stencilScale = Math.min(scaleFactor, Math.min(scaleRestrictions.area.maximum, scaleRestrictions.stencil.maximum));\n                if (stencilScale < 1) {\n                    stencilScale = 1;\n                }\n            }\n        }\n        if (stencilScale) {\n            // Resize stencil with area as much as possible\n            result.visibleArea = applyScale(result.visibleArea, stencilScale, scaleCenter);\n        }\n        var relativeCoordinates = {\n            left: state.coordinates.left - state.visibleArea.left,\n            right: state.visibleArea.width + state.visibleArea.left - (state.coordinates.width + state.coordinates.left),\n            top: state.coordinates.top - state.visibleArea.top,\n            bottom: state.visibleArea.height + state.visibleArea.top - (state.coordinates.height + state.coordinates.top),\n        };\n        // Move the area to fit to the coordinates limits:\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, {\n            left: positionRestrictions.left !== undefined\n                ? positionRestrictions.left - relativeCoordinates.left * stencilScale\n                : undefined,\n            top: positionRestrictions.top !== undefined\n                ? positionRestrictions.top - relativeCoordinates.top * stencilScale\n                : undefined,\n            bottom: positionRestrictions.bottom !== undefined\n                ? positionRestrictions.bottom + relativeCoordinates.bottom * stencilScale\n                : undefined,\n            right: positionRestrictions.right !== undefined\n                ? positionRestrictions.right + relativeCoordinates.right * stencilScale\n                : undefined,\n        });\n        // But the more important to fit are to the area restrictions, so we should fit it to that restrictions:\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        // Set the same coordinates of stencil inside visible area\n        result.coordinates.width = result.coordinates.width * stencilScale;\n        result.coordinates.height = result.coordinates.height * stencilScale;\n        result.coordinates.left = result.visibleArea.left + relativeCoordinates.left * stencilScale;\n        result.coordinates.top = result.visibleArea.top + relativeCoordinates.top * stencilScale;\n        // Move the coordinates to prevent the intersection with visible area and position restrictions\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), positionRestrictions));\n        // Resize only area if stencil can't be resized and stencil resize is disabled\n        if (isAllowedScale && scaleFactor && ((_a = settings.transformImage) === null || _a === void 0 ? void 0 : _a.adjustStencil)) {\n            if (scaleFactor > 1) {\n                areaScale = Math.min(scaleRestrictions.area.maximum, scaleFactor) / stencilScale;\n            }\n            else if (scaleFactor < 1) {\n                areaScale = Math.max(result.coordinates.height / result.visibleArea.height, result.coordinates.width / result.visibleArea.width, scaleFactor / stencilScale);\n            }\n            if (areaScale !== 1) {\n                result.visibleArea = applyScale(result.visibleArea, areaScale, scaleFactor > 1 ? scaleCenter : getCenter(result.coordinates));\n                // Move to prevent the breaking of the area restrictions:\n                result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n                // Move to prevent the intersection with coordinates:\n                result.visibleArea = applyMove(result.visibleArea, inverseMove(fitToPositionRestrictions(result.coordinates, coordinatesToPositionRestrictions(result.visibleArea))));\n            }\n        }\n        return result;\n    }\n    return state;\n}\n\nexport { transformImageAlgorithm };\n","import { __assign } from 'tslib';\nimport { isNumeric } from '../utils/index.js';\nimport { rotateSize, rotatePoint, getCenter } from '../service/utils.js';\nimport { isInitializedState } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction prepareSource(canvas, image, _a) {\n    var rotate = _a.rotate, flip = _a.flip;\n    var originalSize = {\n        width: 'naturalWidth' in image ? image.naturalWidth : image.width,\n        height: 'naturalHeight' in image ? image.naturalHeight : image.height,\n    };\n    var transformedSize = rotateSize(originalSize, rotate);\n    var ctx = canvas.getContext('2d');\n    canvas.height = transformedSize.height;\n    canvas.width = transformedSize.width;\n    if (ctx) {\n        ctx.save();\n        // Rotation:\n        var canvasCenter = rotatePoint(getCenter(__assign({ left: 0, top: 0 }, originalSize)), rotate);\n        ctx.translate(-(canvasCenter.left - transformedSize.width / 2), -(canvasCenter.top - transformedSize.height / 2));\n        ctx.rotate((rotate * Math.PI) / 180);\n        // Reflection;\n        ctx.translate(flip.horizontal ? originalSize.width : 0, flip.vertical ? originalSize.height : 0);\n        ctx.scale(flip.horizontal ? -1 : 1, flip.vertical ? -1 : 1);\n        ctx.drawImage(image, 0, 0, originalSize.width, originalSize.height);\n        ctx.restore();\n    }\n    return canvas;\n}\nfunction updateCanvas(canvas, source, coordinates, resultSize, options) {\n    canvas.width = resultSize ? resultSize.width : coordinates.width;\n    canvas.height = resultSize ? resultSize.height : coordinates.height;\n    var ctx = canvas.getContext('2d');\n    if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (options) {\n            if (options.imageSmoothingEnabled) {\n                ctx.imageSmoothingEnabled = options.imageSmoothingEnabled;\n            }\n            if (options.imageSmoothingQuality) {\n                ctx.imageSmoothingQuality = options.imageSmoothingQuality;\n            }\n            if (options.fillColor) {\n                ctx.fillStyle = options.fillColor;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.save();\n            }\n        }\n        var offsetX = coordinates.left < 0 ? -coordinates.left : 0;\n        var offsetY = coordinates.top < 0 ? -coordinates.top : 0;\n        ctx.drawImage(source, coordinates.left + offsetX, coordinates.top + offsetY, coordinates.width, coordinates.height, offsetX * (canvas.width / coordinates.width), offsetY * (canvas.height / coordinates.height), canvas.width, canvas.height);\n    }\n    return canvas;\n}\nfunction drawCroppedArea(state, image, resultCanvas, spareCanvas, options) {\n    if (isInitializedState(state)) {\n        var transforms = state.transforms, coordinates = state.coordinates;\n        var imageTransformed = transforms.rotate !== 0 || transforms.flip.horizontal || transforms.flip.vertical;\n        var source = imageTransformed ? prepareSource(spareCanvas, image, transforms) : image;\n        var params = __assign({ minWidth: 0, minHeight: 0, maxWidth: Infinity, maxHeight: Infinity, maxArea: Infinity, imageSmoothingEnabled: true, imageSmoothingQuality: 'high', fillColor: 'transparent' }, options);\n        var firstNumeric = function (array) { return array.find(function (el) { return isNumeric(el); }); };\n        var size = approximateSize({\n            sizeRestrictions: {\n                minWidth: firstNumeric([params.width, params.minWidth]) || 0,\n                minHeight: firstNumeric([params.height, params.minHeight]) || 0,\n                maxWidth: firstNumeric([params.width, params.maxWidth]) || Infinity,\n                maxHeight: firstNumeric([params.height, params.maxHeight]) || Infinity,\n            },\n            width: coordinates.width,\n            height: coordinates.height,\n            aspectRatio: {\n                minimum: coordinates.width / coordinates.height,\n                maximum: coordinates.width / coordinates.height,\n            },\n        });\n        if (params.maxArea && size.width * size.height > params.maxArea) {\n            var scale = Math.sqrt(params.maxArea / (size.width * size.height));\n            size = {\n                width: Math.round(scale * size.width),\n                height: Math.round(scale * size.height),\n            };\n        }\n        return updateCanvas(resultCanvas, source, coordinates, size, params);\n    }\n    else {\n        return null;\n    }\n}\n\nexport { drawCroppedArea, prepareSource, updateCanvas };\n","import { __assign } from 'tslib';\nimport { mergePositionRestrictions, coordinatesToPositionRestrictions } from '../service/utils.js';\nimport { getMinimumSize, getSizeRestrictions, isInitializedState, getPositionRestrictions, getAspectRatio } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { anchoredResizeCoordinatesAlgorithm } from '../algorithms/resizeCoordinatesAlgorithm.js';\n\nfunction resizeCoordinates(state, settings, anchor, directions, options) {\n    var minimumSize = getMinimumSize(state);\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    return isInitializedState(state)\n        ? __assign(__assign({}, copyState(state)), { coordinates: anchoredResizeCoordinatesAlgorithm(state.coordinates, anchor, directions, options, {\n                positionRestrictions: mergePositionRestrictions(getPositionRestrictions(state, settings), coordinatesToPositionRestrictions(state.visibleArea)),\n                sizeRestrictions: {\n                    maxWidth: Math.min(sizeRestrictions.maxWidth, state.visibleArea.width),\n                    maxHeight: Math.min(sizeRestrictions.maxHeight, state.visibleArea.height),\n                    minWidth: Math.max(Math.min(sizeRestrictions.minWidth, state.visibleArea.width), minimumSize),\n                    minHeight: Math.max(Math.min(sizeRestrictions.minHeight, state.visibleArea.height), minimumSize),\n                },\n                aspectRatio: getAspectRatio(state, settings),\n            }) }) : state;\n}\n\nexport { resizeCoordinates };\n","import { __assign } from 'tslib';\nimport { ratio, applyScale, resizeToSizeRestrictions, inverseMove, fitToPositionRestrictions, coordinatesToPositionRestrictions, applyMove, moveToPositionRestrictions } from '../service/utils.js';\nimport { getSizeRestrictions, getAreaSizeRestrictions, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { fitCoordinates } from '../service/fitCoordinates.js';\n\nfunction setBoundary(state, settings, boundary) {\n    var result = __assign(__assign({}, copyState(state)), { boundary: boundary });\n    if (result.visibleArea && result.coordinates && state.visibleArea) {\n        // Scale visible area size to fit new boundary:\n        result.visibleArea.height = result.visibleArea.width / ratio(boundary);\n        result.visibleArea.top += (state.visibleArea.height - result.visibleArea.height) / 2;\n        // Scale visible area to prevent overlap coordinates (and its minimum size)\n        var sizeRestrictions = getSizeRestrictions(result, settings);\n        if (Math.max(sizeRestrictions.minHeight, result.coordinates.height) - result.visibleArea.height > 0 ||\n            Math.max(sizeRestrictions.minWidth, result.coordinates.width) - result.visibleArea.width > 0) {\n            result.visibleArea = applyScale(result.visibleArea, Math.max(Math.max(sizeRestrictions.minHeight, result.coordinates.height) / result.visibleArea.height, Math.max(sizeRestrictions.minWidth, result.coordinates.width) / result.visibleArea.width));\n        }\n        // Scale visible area to prevent overlap area restrictions\n        result.visibleArea = resizeToSizeRestrictions(result.visibleArea, getAreaSizeRestrictions(result, settings));\n        // Move visible are to prevent moving of the coordinates:\n        var move = inverseMove(fitToPositionRestrictions(result.coordinates, coordinatesToPositionRestrictions(result.visibleArea)));\n        if (result.visibleArea.width < result.coordinates.width) {\n            move.left = 0;\n        }\n        if (result.visibleArea.height < result.coordinates.height) {\n            move.top = 0;\n        }\n        result.visibleArea = applyMove(result.visibleArea, move);\n        // Move visible area to prevent overlap the area restrictions\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        result = fitCoordinates(result, settings);\n    }\n    return result;\n}\n\nexport { setBoundary };\n","import { __assign } from 'tslib';\nimport { ALL_DIRECTIONS, HORIZONTAL_DIRECTIONS, VERTICAL_DIRECTIONS } from '../constants/index.js';\nimport { isGreater, isRoughlyEqual } from '../utils/index.js';\nimport { moveToPositionRestrictions, applyDirections, getIntersections, getOppositeSide, ratio, getBrokenRatio, applyMove, diff } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { moveCoordinatesAlgorithm } from './moveCoordinatesAlgorithm.js';\n\nfunction fitDirections(_a) {\n    var coordinates = _a.coordinates, directions = _a.directions, positionRestrictions = _a.positionRestrictions, sizeRestrictions = _a.sizeRestrictions, preserveRatio = _a.preserveRatio, allowedDirections = _a.allowedDirections, _b = _a.compensate, compensate = _b === void 0 ? true : _b;\n    var fittedDirections = __assign({}, directions);\n    var currentWidth = applyDirections(coordinates, fittedDirections).width;\n    var currentHeight = applyDirections(coordinates, fittedDirections).height;\n    // Prevent strange resizes when the width or height of stencil becomes smaller than 0\n    if (currentWidth < 0) {\n        if (fittedDirections.left < 0 && fittedDirections.right < 0) {\n            fittedDirections.left =\n                -(coordinates.width - sizeRestrictions.minWidth) / (fittedDirections.left / fittedDirections.right);\n            fittedDirections.right =\n                -(coordinates.width - sizeRestrictions.minWidth) / (fittedDirections.right / fittedDirections.left);\n        }\n        else if (fittedDirections.left < 0) {\n            fittedDirections.left = -(coordinates.width - sizeRestrictions.minWidth);\n        }\n        else if (fittedDirections.right < 0) {\n            fittedDirections.right = -(coordinates.width - sizeRestrictions.minWidth);\n        }\n    }\n    if (currentHeight < 0) {\n        if (fittedDirections.top < 0 && fittedDirections.bottom < 0) {\n            fittedDirections.top =\n                -(coordinates.height - sizeRestrictions.minHeight) / (fittedDirections.top / fittedDirections.bottom);\n            fittedDirections.bottom =\n                -(coordinates.height - sizeRestrictions.minHeight) / (fittedDirections.bottom / fittedDirections.top);\n        }\n        else if (fittedDirections.top < 0) {\n            fittedDirections.top = -(coordinates.height - sizeRestrictions.minHeight);\n        }\n        else if (fittedDirections.bottom < 0) {\n            fittedDirections.bottom = -(coordinates.height - sizeRestrictions.minHeight);\n        }\n    }\n    // Prevent breaking limits\n    var breaks = getIntersections(applyDirections(coordinates, fittedDirections), positionRestrictions);\n    var canBeCompensated = ALL_DIRECTIONS.every(function (direction) {\n        return !isGreater(breaks[getOppositeSide(direction)], 0) || allowedDirections[direction];\n    });\n    if (compensate && canBeCompensated) {\n        if (breaks.left && breaks.left > 0 && breaks.right === 0) {\n            fittedDirections.right += breaks.left;\n            fittedDirections.left -= breaks.left;\n        }\n        else if (breaks.right && breaks.right > 0 && breaks.left === 0) {\n            fittedDirections.left += breaks.right;\n            fittedDirections.right -= breaks.right;\n        }\n        if (breaks.top && breaks.top > 0 && breaks.bottom === 0) {\n            fittedDirections.bottom += breaks.top;\n            fittedDirections.top -= breaks.top;\n        }\n        else if (breaks.bottom && breaks.bottom > 0 && breaks.top === 0) {\n            fittedDirections.top += breaks.bottom;\n            fittedDirections.bottom -= breaks.bottom;\n        }\n        breaks = getIntersections(applyDirections(coordinates, fittedDirections), positionRestrictions);\n    }\n    var maxResize = {\n        width: Infinity,\n        height: Infinity,\n        left: Infinity,\n        right: Infinity,\n        top: Infinity,\n        bottom: Infinity,\n    };\n    ALL_DIRECTIONS.forEach(function (direction) {\n        var intersection = breaks[direction];\n        if (intersection && fittedDirections[direction]) {\n            maxResize[direction] = Math.max(0, 1 - intersection / fittedDirections[direction]);\n        }\n    });\n    if (preserveRatio) {\n        var multiplier_1 = Math.min.apply(Math, ALL_DIRECTIONS.map(function (direction) { return maxResize[direction]; }));\n        if (multiplier_1 !== Infinity) {\n            ALL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= multiplier_1;\n            });\n        }\n    }\n    else {\n        ALL_DIRECTIONS.forEach(function (direction) {\n            if (maxResize[direction] !== Infinity) {\n                fittedDirections[direction] *= maxResize[direction];\n            }\n        });\n    }\n    currentWidth = applyDirections(coordinates, fittedDirections).width;\n    currentHeight = applyDirections(coordinates, fittedDirections).height;\n    if (fittedDirections.right + fittedDirections.left) {\n        if (currentWidth > sizeRestrictions.maxWidth) {\n            maxResize.width =\n                (sizeRestrictions.maxWidth - coordinates.width) / (fittedDirections.right + fittedDirections.left);\n        }\n        else if (currentWidth < sizeRestrictions.minWidth) {\n            maxResize.width =\n                (sizeRestrictions.minWidth - coordinates.width) / (fittedDirections.right + fittedDirections.left);\n        }\n    }\n    if (fittedDirections.bottom + fittedDirections.top) {\n        if (currentHeight > sizeRestrictions.maxHeight) {\n            maxResize.height =\n                (sizeRestrictions.maxHeight - coordinates.height) / (fittedDirections.bottom + fittedDirections.top);\n        }\n        else if (currentHeight < sizeRestrictions.minHeight) {\n            maxResize.height =\n                (sizeRestrictions.minHeight - coordinates.height) / (fittedDirections.bottom + fittedDirections.top);\n        }\n    }\n    if (preserveRatio) {\n        var multiplier_2 = Math.min(maxResize.width, maxResize.height);\n        if (multiplier_2 !== Infinity) {\n            ALL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= multiplier_2;\n            });\n        }\n    }\n    else {\n        if (maxResize.width !== Infinity) {\n            HORIZONTAL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= maxResize.width;\n            });\n        }\n        if (maxResize.height !== Infinity) {\n            VERTICAL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= maxResize.height;\n            });\n        }\n    }\n    return fittedDirections;\n}\nfunction distributeOverlap(overlap, first, second) {\n    if (isRoughlyEqual(first + second, 0)) {\n        return overlap / 2;\n    }\n    else if (isRoughlyEqual(first, 0)) {\n        return 0;\n    }\n    else if (isRoughlyEqual(second, 0)) {\n        return overlap;\n    }\n    else {\n        return overlap * Math.abs(first / (first + second));\n    }\n}\nfunction resizeCoordinatesAlgorithm(coordinates, directions, options, limitations) {\n    var aspectRatio = limitations.aspectRatio, positionRestrictions = limitations.positionRestrictions, sizeRestrictions = limitations.sizeRestrictions;\n    var actualCoordinates = __assign({}, coordinates);\n    directions = __assign({}, directions);\n    var allowedDirections = options.allowedDirections || {\n        left: true,\n        right: true,\n        bottom: true,\n        top: true,\n    };\n    // It's possible that coordinates can be smaller than minimum width or minimum height. In this case\n    // corresponding resize should be blocked\n    if (coordinates.width < sizeRestrictions.minWidth) {\n        directions.left = 0;\n        directions.right = 0;\n    }\n    if (coordinates.height < sizeRestrictions.minHeight) {\n        directions.top = 0;\n        directions.bottom = 0;\n    }\n    ALL_DIRECTIONS.forEach(function (direction) {\n        if (!allowedDirections[direction]) {\n            directions[direction] = 0;\n        }\n    });\n    // 1. First step: determine the safe and desired area\n    directions = fitDirections({\n        coordinates: actualCoordinates,\n        directions: directions,\n        sizeRestrictions: sizeRestrictions,\n        positionRestrictions: positionRestrictions,\n        allowedDirections: allowedDirections,\n    });\n    // 2. Second step: fix desired box to correspondent to aspect ratio\n    var currentWidth = applyDirections(actualCoordinates, directions).width;\n    var currentHeight = applyDirections(actualCoordinates, directions).height;\n    // Checks ratio:\n    var ratioBroken = options.preserveAspectRatio\n        ? ratio(actualCoordinates)\n        : getBrokenRatio(currentWidth / currentHeight, aspectRatio);\n    if (ratioBroken) {\n        var respectDirection = options.respectDirection;\n        if (respectDirection !== 'width' && respectDirection !== 'height') {\n            if (actualCoordinates.width >= actualCoordinates.height || ratioBroken === 1) {\n                respectDirection = 'width';\n            }\n            else {\n                respectDirection = 'height';\n            }\n        }\n        if (respectDirection === 'width') {\n            var overlapHeight = currentWidth / ratioBroken - actualCoordinates.height;\n            if (allowedDirections.top && allowedDirections.bottom) {\n                var top_1 = directions.top, bottom = directions.bottom;\n                directions.bottom = distributeOverlap(overlapHeight, bottom, top_1);\n                directions.top = distributeOverlap(overlapHeight, top_1, bottom);\n            }\n            else if (allowedDirections.bottom) {\n                directions.bottom = overlapHeight;\n            }\n            else if (allowedDirections.top) {\n                directions.top = overlapHeight;\n            }\n            else if (allowedDirections.right) {\n                directions.right = 0;\n            }\n            else if (allowedDirections.left) {\n                directions.left = 0;\n            }\n        }\n        else if (respectDirection === 'height') {\n            var overlapWidth = actualCoordinates.width - currentHeight * ratioBroken;\n            if (allowedDirections.left && allowedDirections.right) {\n                var left = directions.left, right = directions.right;\n                directions.left = -distributeOverlap(overlapWidth, left, right);\n                directions.right = -distributeOverlap(overlapWidth, right, left);\n            }\n            else if (allowedDirections.left) {\n                directions.left = -overlapWidth;\n            }\n            else if (allowedDirections.right) {\n                directions.right = -overlapWidth;\n            }\n            else if (allowedDirections.top) {\n                directions.top = 0;\n            }\n            else if (allowedDirections.bottom) {\n                directions.bottom = 0;\n            }\n        }\n        // 3. Third step: check if desired box with correct aspect ratios break some limits and fit to this conditions\n        directions = fitDirections({\n            directions: directions,\n            coordinates: actualCoordinates,\n            sizeRestrictions: sizeRestrictions,\n            positionRestrictions: positionRestrictions,\n            preserveRatio: true,\n            compensate: options.compensate,\n            allowedDirections: allowedDirections,\n        });\n    }\n    // 4. Check if ratio broken (temporary):\n    currentWidth = applyDirections(actualCoordinates, directions).width;\n    currentHeight = applyDirections(actualCoordinates, directions).height;\n    ratioBroken = options.preserveAspectRatio\n        ? ratio(actualCoordinates)\n        : getBrokenRatio(currentWidth / currentHeight, aspectRatio);\n    if (ratioBroken && isGreater(Math.abs(ratioBroken - currentWidth / currentHeight), 0)) {\n        ALL_DIRECTIONS.forEach(function (direction) {\n            directions[direction] = 0;\n        });\n    }\n    return moveCoordinatesAlgorithm({\n        width: coordinates.width + directions.right + directions.left,\n        height: coordinates.height + directions.top + directions.bottom,\n        left: coordinates.left,\n        top: coordinates.top,\n    }, {\n        left: -directions.left,\n        top: -directions.top,\n    }, positionRestrictions);\n}\nfunction anchorToMassPoint(coordinates, anchor) {\n    var plainAnchor = anchor.toLowerCase();\n    return {\n        left: coordinates.left +\n            coordinates.width * (plainAnchor.indexOf('west') !== -1 ? 1 : plainAnchor.indexOf('east') !== -1 ? 0 : 0.5),\n        top: coordinates.top +\n            coordinates.height *\n                (plainAnchor.indexOf('north') !== -1 ? 1 : plainAnchor.indexOf('south') !== -1 ? 0 : 0.5),\n    };\n}\nfunction anchorToAllowedDirections(anchor) {\n    var plainAnchor = anchor.toLowerCase();\n    return {\n        left: plainAnchor.indexOf('east') === -1,\n        top: plainAnchor.indexOf('south') === -1,\n        right: plainAnchor.indexOf('west') === -1,\n        bottom: plainAnchor.indexOf('north') === -1,\n    };\n}\nfunction anchorMoveToResizeDirections(anchor, directions) {\n    var plainAnchor = anchor.toLowerCase();\n    var normalizedDirections = {\n        left: plainAnchor.indexOf('west') === -1 ? directions.left : -directions.left,\n        top:  -directions.top,\n        right: directions.left,\n        bottom: directions.top,\n    };\n    if (['north', 'south', 'center'].every(function (el) { return plainAnchor.indexOf(el) === -1; })) {\n        normalizedDirections.top = 0;\n        normalizedDirections.bottom = 0;\n    }\n    if (['west', 'east', 'center'].every(function (el) { return plainAnchor.indexOf(el) === -1; })) {\n        normalizedDirections.left = 0;\n        normalizedDirections.right = 0;\n    }\n    var allowedDirections = anchorToAllowedDirections(anchor);\n    ALL_DIRECTIONS.forEach(function (direction) {\n        if (!allowedDirections[direction]) {\n            normalizedDirections[direction] = 0;\n        }\n    });\n    return normalizedDirections;\n}\nfunction anchoredResizeCoordinatesAlgorithm(coordinates, anchor, directions, options, limitations) {\n    var reference = options.reference;\n    var resizeDirections = anchorMoveToResizeDirections(anchor, directions);\n    var allowedDirections = anchorToAllowedDirections(anchor);\n    var result = resizeCoordinatesAlgorithm(coordinates, resizeDirections, __assign(__assign({}, options), { allowedDirections: allowedDirections }), limitations);\n    if (reference) {\n        // Move the result to anchor\n        result = applyMove(result, diff(anchorToMassPoint(reference, anchor), anchorToMassPoint(result, anchor)));\n    }\n    return moveToPositionRestrictions(result, limitations.positionRestrictions);\n}\n\nexport { anchorMoveToResizeDirections, anchorToAllowedDirections, anchoredResizeCoordinatesAlgorithm, fitDirections, resizeCoordinatesAlgorithm };\n","import { __assign } from 'tslib';\nimport { applyMove, diff, getCenter, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from './utils.js';\nimport { getAspectRatio, getSizeRestrictions, getPositionRestrictions } from './helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from './approximateSize.js';\n\nfunction fitCoordinates(state, settings) {\n    if (state.coordinates) {\n        var result = copyState(state);\n        var aspectRatio = getAspectRatio(state, settings);\n        var sizeRestrictions = getSizeRestrictions(state, settings);\n        // Fit the size of coordinates to existing size restrictions and visible area\n        result.coordinates = __assign(__assign({}, state.coordinates), approximateSize({\n            width: state.coordinates.width,\n            height: state.coordinates.height,\n            aspectRatio: aspectRatio,\n            sizeRestrictions: state.visibleArea\n                ? {\n                    maxWidth: Math.min(state.visibleArea.width, sizeRestrictions.maxWidth),\n                    maxHeight: Math.min(state.visibleArea.height, sizeRestrictions.maxHeight),\n                    minHeight: Math.min(state.visibleArea.height, sizeRestrictions.minHeight),\n                    minWidth: Math.min(state.visibleArea.width, sizeRestrictions.minWidth),\n                }\n                : sizeRestrictions,\n        }));\n        // Return the coordinates to the previous center\n        result.coordinates = applyMove(result.coordinates, diff(getCenter(state.coordinates), getCenter(result.coordinates)));\n        // Fit the coordinates to position restrictions and visible area\n        result.coordinates = moveToPositionRestrictions(result.coordinates, state.visibleArea\n            ? mergePositionRestrictions(coordinatesToPositionRestrictions(state.visibleArea), getPositionRestrictions(result, settings))\n            : getPositionRestrictions(result, settings));\n        return result;\n    }\n    return state;\n}\n\nexport { fitCoordinates };\n","import { __assign } from 'tslib';\nimport { getBrokenRatio, ratio, applyMove, diff, getCenter, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from '../service/utils.js';\nimport { mergeSizeRestrictions } from '../service/sizeRestrictions.js';\nimport { isInitializedState, getAspectRatio, getSizeRestrictions, getAreaSizeRestrictions, getAreaPositionRestrictions, getPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction reconcileState(state, settings) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var aspectRatio = getAspectRatio(state, settings);\n        var sizeRestrictions = getSizeRestrictions(state, settings);\n        var areaSizeRestrictions = getAreaSizeRestrictions(state, settings);\n        // Fit the size of coordinates to existing size restrictions and visible area\n        var brokenRatio = getBrokenRatio(ratio(state.coordinates), aspectRatio);\n        var desiredSize = brokenRatio\n            ? {\n                height: state.coordinates.height,\n                width: state.coordinates.height * brokenRatio,\n            }\n            : state.coordinates;\n        result.coordinates = __assign(__assign({}, result.coordinates), approximateSize({\n            width: desiredSize.width,\n            height: desiredSize.height,\n            aspectRatio: aspectRatio,\n            sizeRestrictions: mergeSizeRestrictions(areaSizeRestrictions, sizeRestrictions),\n        }));\n        // Return the coordinates to the previous center\n        result.coordinates = applyMove(result.coordinates, diff(getCenter(state.coordinates), getCenter(result.coordinates)));\n        var scaleModifier = Math.max(result.coordinates.width / result.visibleArea.width, result.coordinates.height / result.visibleArea.height, 1);\n        // Fit the visible area to its size restrictions and boundary aspect ratio:\n        result.visibleArea = __assign(__assign({}, state.visibleArea), approximateSize({\n            width: state.visibleArea.width * scaleModifier,\n            height: state.visibleArea.height * scaleModifier,\n            aspectRatio: {\n                minimum: ratio(result.boundary),\n                maximum: ratio(result.boundary),\n            },\n            sizeRestrictions: areaSizeRestrictions,\n        }));\n        // Return the visible area to previous center\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(state.visibleArea), getCenter(result.visibleArea)));\n        // Fit the visible area to positions restrictions\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        // Fit the coordinates to position restrictions and visible area\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), getPositionRestrictions(result, settings)));\n        return result;\n    }\n    return state;\n}\n\nexport { reconcileState };\n","import { __assign } from 'tslib';\nimport { emptyCoordinates, isUndefined } from '../utils/index.js';\nimport { mergePositionRestrictions, coordinatesToPositionRestrictions, applyScale, maxScale, applyMove, inverseMove, fitToPositionRestrictions } from '../service/utils.js';\nimport { getAspectRatio, getSizeRestrictions, getPositionRestrictions, getAreaSizeRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport { approximateSize } from '../service/approximateSize.js';\nimport { fitVisibleArea } from '../service/fitVisibleArea.js';\nimport { moveCoordinatesAlgorithm } from '../algorithms/moveCoordinatesAlgorithm.js';\n\nvar SetCoordinatesMode;\n(function (SetCoordinatesMode) {\n    SetCoordinatesMode[\"limit\"] = \"limit\";\n    SetCoordinatesMode[\"zoom\"] = \"zoom\";\n    SetCoordinatesMode[\"unsafe\"] = \"unsafe\";\n})(SetCoordinatesMode || (SetCoordinatesMode = {}));\nfunction setCoordinates(state, settings, transform, \n// If you set mode to `false`, the coordinates can leave the visible area\nmode) {\n    if (mode === void 0) { mode = true; }\n    var currentMode = mode === false ? SetCoordinatesMode.unsafe : mode === true ? SetCoordinatesMode.zoom : mode;\n    var aspectRatio = getAspectRatio(state, settings);\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    if (state.visibleArea && currentMode === SetCoordinatesMode.limit) {\n        sizeRestrictions = __assign(__assign({}, sizeRestrictions), { minWidth: Math.min(state.visibleArea.width, sizeRestrictions.minWidth), minHeight: Math.min(state.visibleArea.height, sizeRestrictions.minHeight), maxWidth: Math.min(state.visibleArea.width, sizeRestrictions.maxWidth), maxHeight: Math.min(state.visibleArea.height, sizeRestrictions.maxHeight) });\n    }\n    var positionRestrictions = getPositionRestrictions(state, settings);\n    if (state.visibleArea && currentMode === SetCoordinatesMode.limit) {\n        positionRestrictions = mergePositionRestrictions(positionRestrictions, coordinatesToPositionRestrictions(state.visibleArea));\n    }\n    var move = function (prevCoordinates, newCoordinates) {\n        return moveCoordinatesAlgorithm(prevCoordinates, {\n            left: newCoordinates.left - (prevCoordinates.left || 0),\n            top: newCoordinates.top - (prevCoordinates.top || 0),\n        }, positionRestrictions);\n    };\n    var resize = function (prevCoordinates, newCoordinates) {\n        var coordinates = __assign(__assign(__assign({}, prevCoordinates), approximateSize({\n            width: newCoordinates.width,\n            height: newCoordinates.height,\n            sizeRestrictions: sizeRestrictions,\n            aspectRatio: aspectRatio,\n        })), { left: 0, top: 0 });\n        return move(coordinates, {\n            left: prevCoordinates.left || 0,\n            top: prevCoordinates.top || 0,\n        });\n    };\n    var coordinates = state.coordinates ? __assign({}, state.coordinates) : emptyCoordinates();\n    var transforms = Array.isArray(transform) ? transform : [transform];\n    transforms.forEach(function (transform) {\n        var changes;\n        if (typeof transform === 'function') {\n            changes = transform(__assign(__assign({}, state), { coordinates: coordinates }), settings);\n        }\n        else {\n            changes = transform;\n        }\n        if (changes) {\n            if (!isUndefined(changes.width) || !isUndefined(changes.height)) {\n                coordinates = resize(coordinates, __assign(__assign({}, coordinates), changes));\n            }\n            if (!isUndefined(changes.left) || !isUndefined(changes.top)) {\n                coordinates = move(coordinates, __assign(__assign({}, coordinates), changes));\n            }\n        }\n    });\n    var result = __assign(__assign({}, copyState(state)), { coordinates: coordinates });\n    if (result.visibleArea && currentMode === SetCoordinatesMode.zoom) {\n        var widthIntersections = Math.max(0, result.coordinates.width - result.visibleArea.width);\n        var heightIntersections = Math.max(0, result.coordinates.height - result.visibleArea.height);\n        var areaSizeRestrictions = getAreaSizeRestrictions(state, settings);\n        var scale = widthIntersections > heightIntersections\n            ? result.coordinates.width / result.visibleArea.width\n            : result.coordinates.height / result.visibleArea.height;\n        if (scale > 1) {\n            result.visibleArea = applyScale(result.visibleArea, Math.min(scale, maxScale(result.visibleArea, areaSizeRestrictions)));\n        }\n        result.visibleArea = applyMove(result.visibleArea, inverseMove(fitToPositionRestrictions(result.coordinates, coordinatesToPositionRestrictions(result.visibleArea))));\n        return fitVisibleArea(result, settings);\n    }\n    else {\n        return result;\n    }\n}\n\nexport { SetCoordinatesMode, setCoordinates };\n","import { __assign } from 'tslib';\nimport { isNumber } from '../utils/index.js';\nimport { rotatePoint, getCenter, diff, resizeToSizeRestrictions, moveToPositionRestrictions, applyMove } from '../service/utils.js';\nimport { mergeSizeRestrictions } from '../service/sizeRestrictions.js';\nimport { isInitializedState, getTransformedImageSize, getSizeRestrictions, getAspectRatio, getAreaSizeRestrictions, getPositionRestrictions, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction rotateImageAlgorithm(state, settings, rotate) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var angle = isNumber(rotate) ? rotate : rotate.angle;\n        var imageCenter = rotatePoint(getCenter(__assign({ left: 0, top: 0 }, getTransformedImageSize(state))), angle);\n        result.transforms.rotate += angle;\n        result.coordinates = __assign(__assign({}, approximateSize({\n            sizeRestrictions: getSizeRestrictions(result, settings),\n            aspectRatio: getAspectRatio(result, settings),\n            width: result.coordinates.width,\n            height: result.coordinates.height,\n        })), rotatePoint(getCenter(result.coordinates), angle));\n        var center = !isNumber(rotate) && rotate.center ? rotate.center : getCenter(state.coordinates);\n        var shift = diff(getCenter(state.coordinates), rotatePoint(getCenter(state.coordinates), angle, center));\n        var imageSize = getTransformedImageSize(result);\n        result.coordinates.left -= imageCenter.left - imageSize.width / 2 + result.coordinates.width / 2 - shift.left;\n        result.coordinates.top -= imageCenter.top - imageSize.height / 2 + result.coordinates.height / 2 - shift.top;\n        // Check that visible area doesn't break the area restrictions:\n        result.visibleArea = resizeToSizeRestrictions(result.visibleArea, mergeSizeRestrictions(getAreaSizeRestrictions(result, settings), {\n            minWidth: result.coordinates.width,\n            minHeight: result.coordinates.height,\n        }));\n        result.coordinates = moveToPositionRestrictions(result.coordinates, getPositionRestrictions(result, settings));\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(result.coordinates), getCenter(state.coordinates)));\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        return result;\n    }\n    return state;\n}\n\nexport { rotateImageAlgorithm };\n","import { __assign } from 'tslib';\nimport { isFunction } from '../../utils/index.js';\nimport { aspectRatioIntersection, createAspectRatio, ratio, applyScale, fitToSizeRestrictions, applyMove, diff, getCenter, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from '../../service/utils.js';\nimport { getAreaSizeRestrictions, getSizeRestrictions, getAspectRatio, isInitializedState, getAreaPositionRestrictions } from '../../service/helpers.js';\nimport { copyState } from '../../state/copyState.js';\nimport '../../types/index.js';\nimport '../../state/setCoordinates.js';\nimport { approximateSize } from '../../service/approximateSize.js';\nimport { defaultStencilConstraints } from '../../defaults/defaultStencilConstraints.js';\n\nfunction fixedStencilConstraints(rawSettings, stencilOptions) {\n    var defaultConstraints = defaultStencilConstraints({}, stencilOptions);\n    return {\n        stencilSize: function (state, settings) {\n            var previousSize = isFunction(rawSettings.stencilSize)\n                ? rawSettings.stencilSize(state, settings)\n                : rawSettings.stencilSize;\n            return approximateSize(__assign(__assign({}, previousSize), { aspectRatio: aspectRatioIntersection(defaultConstraints.aspectRatio, createAspectRatio(ratio(previousSize))) }));\n        },\n    };\n}\nfunction getStencilSize(state, settings) {\n    var boundary = state.boundary;\n    var size = isFunction(settings.stencilSize) ? settings.stencilSize(state, settings) : settings.stencilSize;\n    if (size.width > boundary.width || size.height > boundary.height) {\n        size = approximateSize({\n            sizeRestrictions: {\n                maxWidth: boundary.width,\n                maxHeight: boundary.height,\n                minWidth: 0,\n                minHeight: 0,\n            },\n            width: size.width,\n            height: size.height,\n            aspectRatio: {\n                minimum: ratio(size),\n                maximum: ratio(size),\n            },\n        });\n    }\n    return size;\n}\nfunction sizeRestrictions(state, settings) {\n    var stencilSize = getStencilSize(state, __assign(__assign({}, settings), { stencilSize: settings.stencilSize }));\n    var areaRestrictions = getAreaSizeRestrictions(state, settings);\n    return {\n        maxWidth: (areaRestrictions.maxWidth * stencilSize.width) / state.boundary.width,\n        maxHeight: (areaRestrictions.maxHeight * stencilSize.height) / state.boundary.height,\n        minWidth: 0,\n        minHeight: 0,\n    };\n}\nfunction defaultSize(state, settings) {\n    var imageSize = state.imageSize, visibleArea = state.visibleArea, boundary = state.boundary;\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    var aspectRatio = getAspectRatio(state, settings);\n    var stencilSize = isFunction(settings.stencilSize) ? settings.stencilSize(state, settings) : settings.stencilSize;\n    var area = (visibleArea || imageSize);\n    var height, width;\n    if (ratio(area) > ratio(boundary)) {\n        height = (stencilSize.height * area.height) / boundary.height;\n        width = height * ratio(stencilSize);\n    }\n    else {\n        width = (stencilSize.width * area.width) / boundary.width;\n        height = width / ratio(stencilSize);\n    }\n    return approximateSize({\n        width: width,\n        height: height,\n        aspectRatio: aspectRatio,\n        sizeRestrictions: sizeRestrictions,\n    });\n}\nfunction aspectRatio(state, settings) {\n    var value = ratio(getStencilSize(state, settings));\n    return {\n        minimum: value,\n        maximum: value,\n    };\n}\nfunction fixedStencilAlgorithm(state, settings) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var stencil = getStencilSize(state, settings);\n        // First of all try to resize visible area as much as possible:\n        result.visibleArea = applyScale(result.visibleArea, (result.coordinates.width * result.boundary.width) / (result.visibleArea.width * stencil.width));\n        // Check that visible area doesn't break the area restrictions:\n        var scale = fitToSizeRestrictions(result.visibleArea, getAreaSizeRestrictions(result, settings));\n        if (scale !== 1) {\n            result.visibleArea = applyScale(result.visibleArea, scale);\n            result.coordinates = applyScale(result.coordinates, scale);\n        }\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(result.coordinates), getCenter(result.visibleArea)));\n        // Center stencil in visible area:\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), getAreaPositionRestrictions(result, settings)));\n        return result;\n    }\n    return state;\n}\nfunction fixedStencil(state, settings, action) {\n    if (action && action.immediately) {\n        return fixedStencilAlgorithm(state, settings);\n    }\n    return state;\n}\n\nexport { aspectRatio, defaultSize, fixedStencil, fixedStencilAlgorithm, fixedStencilConstraints, getStencilSize, sizeRestrictions };\n","import { __assign, __rest, __spreadArrays } from 'tslib';\nimport { getOptions, deepClone, debounce, isArray, isFunction, deepCompare, isUndefined, isObject } from '../utils/index.js';\nimport { getCoefficient, isConsistentState, getStencilCoordinates, getRoundedCoordinates } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport { setCoordinates, SetCoordinatesMode } from '../state/setCoordinates.js';\nimport { setVisibleArea } from '../state/setVisibleArea.js';\nimport { createState } from '../state/createState.js';\nimport { moveCoordinates } from '../state/moveCoordinates.js';\nimport { resizeCoordinates } from '../state/resizeCoordinates.js';\nimport { setBoundary } from '../state/setBoundary.js';\nimport { transformImage } from '../state/transformImage.js';\nimport { reconcileState } from '../state/reconcileState.js';\nimport { normalizeImageTransform, normalizeFlip, normalizeMoveDirections, fillMoveDirections, normalizeResizeDirections, fillResizeDirections } from '../service/normalize.js';\nimport { hasInteractions } from '../service/interactions.js';\n\nfunction runCallback(callback, getInstance) {\n    if (callback && getInstance) {\n        var instance = getInstance();\n        if (instance) {\n            callback(instance);\n        }\n    }\n}\nfunction runCallbacks(callbacks, getInstance) {\n    callbacks.forEach(function (callback) {\n        runCallback(callback, getInstance);\n    });\n}\nvar AbstractCropperInstance = /** @class */ (function () {\n    function AbstractCropperInstance() {\n        var _this = this;\n        this.getTransitions = function () {\n            var data = _this.getData();\n            var transitions = _this.getProps().transitions;\n            return __assign(__assign({}, getOptions(transitions, {\n                timingFunction: 'ease-in-out',\n                duration: 350,\n            })), { active: data.transitions });\n        };\n        this.getInteractions = function () {\n            var interactions = _this.getData().interactions;\n            return deepClone(interactions);\n        };\n        this.hasInteractions = function () {\n            var interactions = _this.getData().interactions;\n            return hasInteractions(interactions);\n        };\n        this.startTransitions = function () {\n            var _a = _this.getProps(), onTransitionsStart = _a.onTransitionsStart, onUpdate = _a.onUpdate, getInstance = _a.getInstance;\n            var _b = _this.getData(), transitions = _b.transitions, data = __rest(_b, [\"transitions\"]);\n            _this.setData(__assign(__assign({}, data), { transitions: true }));\n            if (!transitions) {\n                runCallbacks([onTransitionsStart, onUpdate], getInstance);\n            }\n            _this.endTransitions();\n        };\n        this.endTransitions = debounce(function () {\n            var _a = _this.getProps(), onTransitionsEnd = _a.onTransitionsEnd, onUpdate = _a.onUpdate, getInstance = _a.getInstance;\n            _this.setData(__assign(__assign({}, _this.getData()), { transitions: false }));\n            runCallbacks([onTransitionsEnd, onUpdate], getInstance);\n        }, function () {\n            return _this.getTransitions().duration;\n        });\n        this.applyPostProcess = function (action, state) {\n            var _a = _this.getProps(), settings = _a.settings, postProcess = _a.postProcess;\n            var name = action.name, _b = action.interaction, interaction = _b === void 0 ? false : _b, _c = action.transitions, transitions = _c === void 0 ? false : _c, _d = action.immediately, immediately = _d === void 0 ? false : _d;\n            var preparedAction = {\n                name: name,\n                interaction: interaction,\n                transitions: transitions,\n                immediately: immediately,\n            };\n            if (isArray(postProcess)) {\n                return postProcess.reduce(function (processedState, p) { return p(processedState, settings, preparedAction); }, state);\n            }\n            else if (isFunction(postProcess)) {\n                return postProcess(state, settings, preparedAction);\n            }\n            else {\n                return state;\n            }\n        };\n        this.updateState = function (modifier, options, callbacks) {\n            if (options === void 0) { options = {}; }\n            if (callbacks === void 0) { callbacks = []; }\n            var _a = options.transitions, transitions = _a === void 0 ? false : _a;\n            var _b = _this.getProps(), onTransitionsStart = _b.onTransitionsStart, getInstance = _b.getInstance, onChange = _b.onChange, onUpdate = _b.onUpdate, settings = _b.settings;\n            var previousData = _this.getData();\n            var state = isFunction(modifier) ? modifier(previousData.state, settings) : modifier;\n            var tolerance = state ? 1e-3 * getCoefficient(state) : 1e-3;\n            var somethingChanged = !deepCompare(previousData.state, state, tolerance);\n            var affectTransitionProperties = [\n                'coordinates',\n                'boundary',\n                'visibleArea',\n                'imageSize',\n                'transforms',\n            ].some(function (property) { var _a; return !deepCompare((_a = previousData.state) === null || _a === void 0 ? void 0 : _a[property], state === null || state === void 0 ? void 0 : state[property], tolerance); });\n            var currentData = previousData;\n            if (somethingChanged) {\n                if (transitions && affectTransitionProperties) {\n                    _this.endTransitions();\n                }\n                currentData = __assign(__assign({}, currentData), { state: copyState(state), transitions: transitions && affectTransitionProperties });\n                _this.setData(currentData);\n                runCallback(onChange, getInstance);\n            }\n            if (currentData.transitions && !previousData.transitions) {\n                runCallback(onTransitionsStart, getInstance);\n            }\n            runCallbacks(__spreadArrays(callbacks, [onUpdate]), getInstance);\n        };\n        this.setInteractions = function (interactions) {\n            var _a = _this.getProps(), onInteractionStart = _a.onInteractionStart, onInteractionEnd = _a.onInteractionEnd, getInstance = _a.getInstance;\n            var previousInteractions = _this.getInteractions();\n            var currentInteractions = __assign(__assign({}, previousInteractions), interactions);\n            if (!deepCompare(previousInteractions, currentInteractions)) {\n                _this.setData(__assign(__assign({}, _this.getData()), { interactions: currentInteractions }));\n            }\n            if (hasInteractions(previousInteractions) !== hasInteractions(currentInteractions)) {\n                if (!hasInteractions(previousInteractions)) {\n                    runCallback(onInteractionStart, getInstance);\n                }\n                else {\n                    var state_1 = _this.getData().state;\n                    _this.updateState(function () {\n                        return state_1 &&\n                            _this.applyPostProcess({\n                                name: 'interactionEnd',\n                                immediately: true,\n                                transitions: true,\n                            }, state_1);\n                    }, {\n                        transitions: true,\n                    }, [onInteractionEnd]);\n                }\n            }\n        };\n        this.resetState = function (boundary, image) {\n            _this.updateState(_this.createDefaultState(boundary, image));\n        };\n        this.clear = function () {\n            _this.updateState(null);\n        };\n        this.reconcileState = function (options) {\n            if (options === void 0) { options = {}; }\n            var _a = _this.getProps(), reconcileStateAlgorithm = _a.reconcileStateAlgorithm, settings = _a.settings;\n            var state = _this.getData().state;\n            var _b = options.transitions, transitions = _b === void 0 ? false : _b;\n            if (state && !isConsistentState(state, settings)) {\n                var reconciledState = (reconcileStateAlgorithm || reconcileState)(state, settings);\n                reconciledState = _this.applyPostProcess({\n                    name: 'reconcileState',\n                    immediately: true,\n                    transitions: transitions,\n                }, reconciledState);\n                _this.updateState(reconciledState, {\n                    transitions: transitions,\n                });\n            }\n        };\n        this.transformImage = function (transform, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.interaction, interaction = _b === void 0 ? true : _b, _c = options.immediately, immediately = _c === void 0 ? false : _c, _d = options.normalize, normalize = _d === void 0 ? true : _d;\n            var _e = _this.getProps(), transformImageAlgorithm = _e.transformImageAlgorithm, onTransformImage = _e.onTransformImage, onTransformImageEnd = _e.onTransformImageEnd, settings = _e.settings;\n            var state = _this.getData().state;\n            var callbacks = [];\n            if (state) {\n                if (normalize) {\n                    transform = normalizeImageTransform(state, transform);\n                }\n                var result = _this.applyPostProcess({\n                    name: 'transformImage',\n                    transitions: transitions,\n                    immediately: immediately,\n                }, (transformImageAlgorithm || transformImage)(state, settings, transform));\n                callbacks.push(onTransformImage);\n                if (interaction) {\n                    _this.setInteractions({\n                        transformImage: {\n                            rotate: !isUndefined(transform.rotate),\n                            flip: !isUndefined(transform.flip),\n                            scale: !isUndefined(transform.scale),\n                            move: !isUndefined(transform.move),\n                        },\n                    });\n                }\n                else {\n                    result = _this.applyPostProcess({\n                        name: 'transformImageEnd',\n                        transitions: transitions,\n                        immediately: true,\n                    }, result);\n                    callbacks.push(onTransformImageEnd);\n                }\n                _this.updateState(result, {\n                    transitions: immediately && transitions,\n                }, callbacks);\n            }\n        };\n        this.transformImageEnd = function (options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.immediately, immediately = _a === void 0 ? true : _a, _b = options.transitions, transitions = _b === void 0 ? true : _b;\n            var state = _this.getData().state;\n            var onTransformImageEnd = _this.getProps().onTransformImageEnd;\n            _this.updateState(function () { return state && _this.applyPostProcess({ name: 'transformImageEnd', immediately: immediately, transitions: transitions }, state); }, {\n                transitions: transitions,\n            }, [onTransformImageEnd]);\n            _this.setInteractions({\n                transformImage: {\n                    rotate: false,\n                    flip: false,\n                    scale: false,\n                    move: false,\n                },\n            });\n        };\n        this.zoomImage = function (scale, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? false : _d;\n            _this.transformImage({\n                scale: scale,\n            }, { interaction: interaction, immediately: immediately, transitions: transitions, normalize: normalize });\n        };\n        this.moveImage = function (left, top, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? false : _d;\n            _this.transformImage({\n                move: {\n                    left: left,\n                    top: top,\n                },\n            }, { interaction: interaction, immediately: immediately, transitions: transitions, normalize: normalize });\n        };\n        this.flipImage = function (horizontal, vertical, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? true : _d;\n            var state = _this.getState();\n            var flip = {\n                horizontal: horizontal,\n                vertical: vertical,\n            };\n            _this.transformImage({\n                flip: state && normalize ? normalizeFlip(state, flip) : flip,\n            }, { interaction: interaction, immediately: immediately, transitions: transitions });\n        };\n        this.rotateImage = function (rotate, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? false : _d;\n            _this.transformImage({\n                rotate: rotate,\n            }, { interaction: interaction, immediately: immediately, transitions: transitions, normalize: normalize });\n        };\n        this.reset = function (boundary, image) {\n            _this.resetState(boundary, image);\n        };\n        this.setState = function (modifier, options) {\n            if (options === void 0) { options = {}; }\n            var settings = _this.getSettings();\n            var state = _this.getData().state;\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? false : _b, _c = options.interaction, interaction = _c === void 0 ? false : _c, _d = options.postprocess, postprocess = _d === void 0 ? false : _d;\n            var newState = modifier && (isFunction(modifier) ? modifier(state, settings) : __assign(__assign({}, state), modifier));\n            _this.updateState(function () {\n                return postprocess\n                    ? newState &&\n                        _this.applyPostProcess({\n                            name: 'setState',\n                            immediately: immediately,\n                            transitions: transitions,\n                            interaction: interaction,\n                        }, newState)\n                    : newState;\n            }, {\n                transitions: transitions,\n            });\n        };\n        this.setCoordinates = function (transforms, options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var _a = _this.getProps(), setCoordinatesAlgorithm = _a.setCoordinatesAlgorithm, settings = _a.settings;\n            var _b = options.transitions, transitions = _b === void 0 ? true : _b, _c = options.immediately, immediately = _c === void 0 ? true : _c;\n            _this.updateState(function () {\n                return state &&\n                    _this.applyPostProcess({\n                        name: 'setCoordinates',\n                        immediately: immediately,\n                        transitions: transitions,\n                    }, (setCoordinatesAlgorithm || setCoordinates)(state, settings, transforms, SetCoordinatesMode.zoom));\n            }, {\n                transitions: transitions,\n            });\n        };\n        this.setVisibleArea = function (visibleArea, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b;\n            var state = _this.getData().state;\n            var _c = _this.getProps(), setVisibleAreaAlgorithm = _c.setVisibleAreaAlgorithm, settings = _c.settings;\n            _this.updateState(function () {\n                return state &&\n                    _this.applyPostProcess({ name: 'setVisibleArea', immediately: immediately, transitions: transitions }, (setVisibleAreaAlgorithm || setVisibleArea)(state, settings, visibleArea));\n            }, {\n                transitions: transitions,\n            });\n        };\n        this.setBoundary = function (boundary, options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var _a = _this.getProps(), setBoundaryAlgorithm = _a.setBoundaryAlgorithm, settings = _a.settings;\n            var _b = options.transitions, transitions = _b === void 0 ? false : _b, _c = options.immediately, immediately = _c === void 0 ? true : _c;\n            if (boundary) {\n                _this.updateState(function () {\n                    return state &&\n                        _this.applyPostProcess({ name: 'setBoundary', immediately: immediately, transitions: transitions }, (setBoundaryAlgorithm || setBoundary)(state, settings, boundary));\n                });\n            }\n            else {\n                _this.updateState(null);\n            }\n        };\n        this.moveCoordinates = function (directions, options) {\n            if (options === void 0) { options = {}; }\n            var data = _this.getData();\n            var _a = _this.getProps(), moveCoordinatesAlgorithm = _a.moveCoordinatesAlgorithm, onMove = _a.onMove, onMoveEnd = _a.onMoveEnd, settings = _a.settings;\n            var _b = options.interaction, interaction = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? false : _c, _d = options.immediately, immediately = _d === void 0 ? false : _d, _e = options.normalize, normalize = _e === void 0 ? true : _e;\n            var callbacks = [];\n            if (!data.transitions && data.state) {\n                var normalizedDirections = normalize\n                    ? normalizeMoveDirections(data.state, directions)\n                    : fillMoveDirections(directions);\n                var result = _this.applyPostProcess({ name: 'moveCoordinates', interaction: interaction, immediately: immediately, transitions: transitions }, (moveCoordinatesAlgorithm || moveCoordinates)(data.state, settings, normalizedDirections));\n                callbacks.push(onMove);\n                if (interaction) {\n                    _this.setInteractions({\n                        moveCoordinates: true,\n                    });\n                }\n                else {\n                    result = _this.applyPostProcess({ name: 'moveCoordinatesEnd', interaction: interaction, immediately: immediately, transitions: transitions }, result);\n                    callbacks.push(onMoveEnd);\n                }\n                _this.updateState(result, {\n                    transitions: immediately && transitions,\n                }, callbacks);\n            }\n        };\n        this.moveCoordinatesEnd = function (options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var onMoveEnd = _this.getProps().onMoveEnd;\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? false : _b;\n            _this.updateState(function () { return state && _this.applyPostProcess({ name: 'moveCoordinatesEnd', transitions: transitions, immediately: immediately }, state); }, {\n                transitions: transitions,\n            }, [onMoveEnd]);\n            _this.setInteractions({\n                moveCoordinates: false,\n            });\n        };\n        this.resizeCoordinates = function (anchor, directions, parameters, options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var _a = _this.getProps(), resizeCoordinatesAlgorithm = _a.resizeCoordinatesAlgorithm, onResize = _a.onResize, onResizeEnd = _a.onResizeEnd, settings = _a.settings;\n            var _b = options.interaction, interaction = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? false : _c, _d = options.immediately, immediately = _d === void 0 ? false : _d, _e = options.normalize, normalize = _e === void 0 ? true : _e;\n            var transitionsOptions = _this.getTransitions();\n            if (!transitionsOptions.active && state) {\n                var callbacks = [];\n                var normalizedDirections = normalize\n                    ? normalizeResizeDirections(state, directions)\n                    : fillResizeDirections(directions);\n                var result = _this.applyPostProcess({ name: 'resizeCoordinates', interaction: interaction, immediately: immediately, transitions: transitions }, (resizeCoordinatesAlgorithm || resizeCoordinates)(state, settings, anchor, normalizedDirections, isObject(parameters) ? parameters : {}));\n                callbacks.push(onResize);\n                if (interaction) {\n                    _this.setInteractions({\n                        resizeCoordinates: true,\n                    });\n                }\n                else {\n                    result = _this.applyPostProcess({ name: 'resizeCoordinatesEnd', interaction: interaction, immediately: immediately, transitions: transitions }, result);\n                    callbacks.push(onResizeEnd);\n                }\n                _this.updateState(result, {\n                    transitions: immediately && transitions,\n                }, callbacks);\n            }\n        };\n        this.resizeCoordinatesEnd = function (options) {\n            if (options === void 0) { options = {}; }\n            var onResizeEnd = _this.getProps().onResizeEnd;\n            var state = _this.getData().state;\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? false : _b;\n            _this.updateState(function () { return state && _this.applyPostProcess({ name: 'resizeCoordinatesEnd', transitions: transitions, immediately: immediately }, state); }, {\n                transitions: transitions,\n            }, [onResizeEnd]);\n            _this.setInteractions({\n                resizeCoordinates: false,\n            });\n        };\n        this.getStencilCoordinates = function () {\n            var state = _this.getData().state;\n            return getStencilCoordinates(state);\n        };\n        this.getCoordinates = function (options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var settings = _this.getProps().settings;\n            if (state && state.coordinates) {\n                var _a = options.round, round = _a === void 0 ? true : _a;\n                if (round) {\n                    return getRoundedCoordinates(state, settings);\n                }\n                else {\n                    return __assign({}, state.coordinates);\n                }\n            }\n            else {\n                return null;\n            }\n        };\n        this.getVisibleArea = function () {\n            var state = _this.getData().state;\n            if (state === null || state === void 0 ? void 0 : state.visibleArea) {\n                return __assign({}, state.visibleArea);\n            }\n            else {\n                return null;\n            }\n        };\n        this.getSettings = function () {\n            var settings = _this.getProps().settings;\n            return __assign({}, settings);\n        };\n        this.getState = function () {\n            var state = _this.getData().state;\n            return copyState(state);\n        };\n        this.getTransforms = function () {\n            var state = _this.getData().state;\n            return state\n                ? deepClone(state.transforms)\n                : {\n                    rotate: 0,\n                    flip: {\n                        horizontal: false,\n                        vertical: false,\n                    },\n                };\n        };\n        this.createDefaultState = function (boundary, image) {\n            var _a = _this.getProps(), createStateAlgorithm = _a.createStateAlgorithm, settings = _a.settings;\n            return _this.applyPostProcess({\n                name: 'createState',\n                immediately: true,\n                transitions: false,\n            }, (createStateAlgorithm || createState)({\n                image: image,\n                boundary: boundary,\n            }, settings));\n        };\n        this.isConsistent = function () {\n            var state = _this.getData().state;\n            var settings = _this.getProps().settings;\n            return state ? isConsistentState(state, settings) : true;\n        };\n    }\n    return AbstractCropperInstance;\n}());\n\nexport { AbstractCropperInstance };\n","import {\n\tapplyMove,\n\tapplyScale,\n\tdiff,\n\tfitToSizeRestrictions,\n\tgetAreaPositionRestrictions,\n\tgetAreaSizeRestrictions,\n\tgetCenter,\n\tgetPositionRestrictions,\n\tisInitializedState,\n\tmergePositionRestrictions,\n\tmoveToPositionRestrictions,\n\tratio,\n\tcoordinatesToPositionRestrictions,\n} from 'advanced-cropper/service';\nimport { CoreSettings, CropperState, PostprocessAction, Size } from 'advanced-cropper';\nimport { copyState } from 'advanced-cropper/state';\n\nexport function hybridStencilAutoZoomAlgorithm(state: CropperState, settings: CoreSettings): CropperState {\n\tif (isInitializedState(state)) {\n\t\tconst result = copyState(state);\n\n\t\t// Checks that coordinates has the same ratio that coordinates:\n\t\tconst stencil: Size = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\n\t\tif (ratio(result.boundary) > ratio(result.coordinates)) {\n\t\t\tstencil.height = result.boundary.height * 0.8;\n\t\t\tstencil.width = stencil.height * ratio(result.coordinates);\n\t\t} else {\n\t\t\tstencil.width = result.boundary.width * 0.8;\n\t\t\tstencil.height = stencil.width * ratio(result.coordinates);\n\t\t}\n\n\t\t// First of all try to resize visible area as much as possible:\n\t\tresult.visibleArea = applyScale(\n\t\t\tresult.visibleArea,\n\t\t\t(result.coordinates.width * result.boundary.width) / (result.visibleArea.width * stencil.width),\n\t\t);\n\n\t\t// Check that visible area doesn't break the area restrictions:\n\t\tconst scale = fitToSizeRestrictions(result.visibleArea, getAreaSizeRestrictions(result, settings));\n\n\t\tresult.visibleArea = applyScale(result.visibleArea, scale);\n\n\t\tif (scale !== 1) {\n\t\t\tstencil.height /= scale;\n\t\t\tstencil.width /= scale;\n\t\t}\n\n\t\tresult.visibleArea = applyMove(\n\t\t\tresult.visibleArea,\n\t\t\tdiff(getCenter(result.coordinates), getCenter(result.visibleArea)),\n\t\t);\n\n\t\t// Center stencil in visible area:\n\t\tresult.visibleArea = moveToPositionRestrictions(\n\t\t\tresult.visibleArea,\n\t\t\tgetAreaPositionRestrictions(result, settings),\n\t\t);\n\n\t\tresult.coordinates = moveToPositionRestrictions(\n\t\t\tresult.coordinates,\n\t\t\tmergePositionRestrictions(\n\t\t\t\tcoordinatesToPositionRestrictions(result.visibleArea),\n\t\t\t\tgetPositionRestrictions(result, settings),\n\t\t\t),\n\t\t);\n\n\t\treturn result;\n\t}\n\treturn state;\n}\n\nexport function hybridStencilAutoZoom(\n\tstate: CropperState,\n\tsettings: CoreSettings,\n\taction: PostprocessAction,\n): CropperState {\n\tif (action.immediately) {\n\t\treturn hybridStencilAutoZoomAlgorithm(state, settings);\n\t}\n\treturn state;\n}\n","import { __assign } from 'tslib';\nimport { isFunction } from '../utils/index.js';\nimport { mergePositionRestrictions, createAspectRatio } from '../service/utils.js';\nimport { mergeSizeRestrictions } from '../service/sizeRestrictions.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { defaultPositionRestrictions } from './defaultPositionRestrictions.js';\nexport { defaultPositionRestrictions } from './defaultPositionRestrictions.js';\nimport { defaultVisibleArea } from './defaultVisibleArea.js';\nexport { defaultVisibleArea } from './defaultVisibleArea.js';\nimport { defaultSize } from './defaultSize.js';\nexport { defaultSize } from './defaultSize.js';\nimport { pixelsRestrictions } from './defaultSizeRestrictions.js';\nexport { pixelsRestrictions, retrieveSizeRestrictions } from './defaultSizeRestrictions.js';\nimport { defaultPosition } from './defaultPosition.js';\nexport { defaultPosition } from './defaultPosition.js';\nimport { defaultAreaPositionRestrictions } from './defaultAreaPositionRestrictions.js';\nexport { defaultAreaPositionRestrictions } from './defaultAreaPositionRestrictions.js';\nimport { defaultAreaSizeRestrictions } from './defaultAreaSizeRestrictions.js';\nexport { defaultAreaSizeRestrictions } from './defaultAreaSizeRestrictions.js';\nexport { fillBoundary, fitBoundary } from './defaultBoundary.js';\nexport { defaultStencilConstraints } from './defaultStencilConstraints.js';\n\nfunction withDefaultSizeRestrictions(sizeRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(sizeRestrictions) ? sizeRestrictions(state, basicSettings) : sizeRestrictions;\n        return mergeSizeRestrictions(pixelsRestrictions(state, basicSettings), value);\n    };\n}\nfunction withDefaultPositionRestrictions(positionRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(positionRestrictions)\n            ? positionRestrictions(state, basicSettings)\n            : positionRestrictions;\n        return mergePositionRestrictions(defaultPositionRestrictions(state, basicSettings), value);\n    };\n}\nfunction withDefaultAreaPositionRestrictions(areaPositionRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(areaPositionRestrictions)\n            ? areaPositionRestrictions(state, basicSettings)\n            : areaPositionRestrictions;\n        return mergePositionRestrictions(defaultAreaPositionRestrictions(state, basicSettings), value);\n    };\n}\nfunction withDefaultAreaSizeRestrictions(areaSizeRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(areaSizeRestrictions)\n            ? areaSizeRestrictions(state, basicSettings)\n            : areaSizeRestrictions;\n        return mergeSizeRestrictions(defaultAreaSizeRestrictions(state, basicSettings), value);\n    };\n}\nfunction createDefaultSettings(params) {\n    return __assign(__assign({}, params), { sizeRestrictions: function (state, basicSettings) {\n            var restrictions;\n            if (params.sizeRestrictions) {\n                restrictions = isFunction(params.sizeRestrictions)\n                    ? params.sizeRestrictions(state, basicSettings)\n                    : params.sizeRestrictions;\n            }\n            else {\n                restrictions = pixelsRestrictions(state, basicSettings);\n            }\n            return restrictions;\n        }, areaPositionRestrictions: function (state, basicSettings) {\n            if (params.areaPositionRestrictions) {\n                return isFunction(params.areaPositionRestrictions)\n                    ? params.areaPositionRestrictions(state, basicSettings)\n                    : params.areaPositionRestrictions;\n            }\n            else {\n                return defaultAreaPositionRestrictions(state, basicSettings);\n            }\n        }, areaSizeRestrictions: function (state, basicSettings) {\n            if (params.areaSizeRestrictions) {\n                return isFunction(params.areaSizeRestrictions)\n                    ? params.areaSizeRestrictions(state, basicSettings)\n                    : params.areaSizeRestrictions;\n            }\n            else {\n                return defaultAreaSizeRestrictions(state, basicSettings);\n            }\n        }, positionRestrictions: function (state, basicSettings) {\n            if (params.positionRestrictions) {\n                return isFunction(params.positionRestrictions)\n                    ? params.positionRestrictions(state, basicSettings)\n                    : params.positionRestrictions;\n            }\n            else {\n                return defaultPositionRestrictions(state, basicSettings);\n            }\n        }, defaultCoordinates: function (state, basicSettings) {\n            if (params.defaultCoordinates) {\n                return isFunction(params.defaultCoordinates)\n                    ? params.defaultCoordinates(state, basicSettings)\n                    : params.defaultCoordinates;\n            }\n            else {\n                var defaultSizeAlgorithm = params.defaultSize;\n                if (!defaultSizeAlgorithm) {\n                    defaultSizeAlgorithm = defaultSize;\n                }\n                var size = isFunction(defaultSizeAlgorithm)\n                    ? defaultSizeAlgorithm(state, basicSettings)\n                    : defaultSizeAlgorithm;\n                var defaultPositionAlgorithm_1 = params.defaultPosition || defaultPosition;\n                return [\n                    size,\n                    function (state) { return (__assign({}, (isFunction(defaultPositionAlgorithm_1)\n                        ? defaultPositionAlgorithm_1(state, basicSettings)\n                        : defaultPositionAlgorithm_1))); },\n                ];\n            }\n        }, defaultVisibleArea: function (state, basicSettings) {\n            if (params.defaultVisibleArea) {\n                return isFunction(params.defaultVisibleArea)\n                    ? params.defaultVisibleArea(state, basicSettings)\n                    : params.defaultVisibleArea;\n            }\n            else {\n                return defaultVisibleArea(state, basicSettings);\n            }\n        }, aspectRatio: function (state, basicSettings) {\n            return createAspectRatio(isFunction(params.aspectRatio) ? params.aspectRatio(state, basicSettings) : params.aspectRatio);\n        } });\n}\n\nexport { createDefaultSettings, withDefaultAreaPositionRestrictions, withDefaultAreaSizeRestrictions, withDefaultPositionRestrictions, withDefaultSizeRestrictions };\n","export function deprecationWarning(text: string) {\n\tif (process.env.NODE_ENV === 'development') {\n\t\tconsole.warn(`Deprecation warning: ${text}`);\n\t}\n}\n","import { useRef } from 'react';\nimport { deprecationWarning } from '../service/utils';\n\nexport function useDeprecationWarning() {\n\tconst fired = useRef<string[]>([]);\n\n\treturn (message: string) => {\n\t\tif (fired.current.indexOf(message) === -1) {\n\t\t\tdeprecationWarning(message);\n\t\t\tfired.current.push(message);\n\t\t}\n\t};\n}\n","import React, { forwardRef, PropsWithoutRef } from 'react';\n\nexport function createCropper<T, P = {}>(\n\trender: (props: P, ref: React.Ref<T>) => React.ReactElement | null,\n): (props: PropsWithoutRef<P> & React.RefAttributes<T>) => React.ReactElement | null {\n\treturn forwardRef<T, P>(render);\n}\n","import { useRef } from 'react';\n\nexport function useFirstMountState(): boolean {\n\tconst isFirst = useRef(true);\n\n\tif (isFirst.current) {\n\t\tisFirst.current = false;\n\n\t\treturn true;\n\t}\n\n\treturn isFirst.current;\n}\n","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\n\nexport const useUpdateEffect: typeof useEffect = (effect, deps) => {\n\tconst isFirstMount = useFirstMountState();\n\n\tuseEffect(() => {\n\t\tif (!isFirstMount) {\n\t\t\treturn effect();\n\t\t}\n\t}, deps);\n};\n","import { SetStateAction, useRef, useState } from \"react\";\nimport { useUpdateEffect } from \"./useUpdateEffect\";\n\ntype DispatchWithCallback<S> = (value: SetStateAction<S>, callback?: Function) => void;\n\nexport function useStateWithCallback<S>(initialState?: S | (() => S)): [S, DispatchWithCallback<S>];\nexport function useStateWithCallback<S = undefined>(): [S | undefined, DispatchWithCallback<S  | undefined>];\nexport function useStateWithCallback<S = undefined>(initialState?: S | (() => S)): [S | undefined, DispatchWithCallback<S | undefined>]  {\n\tconst [state, setState] = useState(initialState);\n\tconst [callback, setCallback] = useState<Function | null | undefined>(null);\n\tconst previousState = useRef(initialState);\n\n\tuseUpdateEffect(() => {\n\t\tif (callback) {\n\t\t\tcallback(state, previousState.current);\n\t\t}\n\t}, [callback])\n\n\treturn [\n\t\tstate,\n\t\t(value: SetStateAction<S | undefined>, callback?: Function) => {\n\t\t\tpreviousState.current = state;\n\t\t\tsetState(value);\n\t\t\tsetCallback(() => callback);\n\t\t}\n\t]\n}\n","import {\n\tAbstractCropperInstance,\n\tAbstractCropperInstanceData,\n\tAbstractCropperInstanceProps,\n\tAbstractCropperInstanceSettings,\n\tgetEmptyInteractions,\n} from 'advanced-cropper';\n\nexport interface CropperInstanceProps<Settings extends AbstractCropperInstanceSettings, Instance> {\n\tgetProps: () => AbstractCropperInstanceProps<Settings, Instance>;\n\tsetData?: (data: AbstractCropperInstanceData) => void;\n}\n\nexport class CropperInstance<\n\tSettings extends AbstractCropperInstanceSettings,\n\tInstance = unknown,\n> extends AbstractCropperInstance<Settings, Instance> {\n\tdata: AbstractCropperInstanceData;\n\tnotify: () => void;\n\tprops: () => AbstractCropperInstanceProps<Settings, Instance>;\n\n\tconstructor(props: () => AbstractCropperInstanceProps<Settings, Instance>, onChange: () => void) {\n\t\tsuper();\n\t\tthis.props = props;\n\t\tthis.notify = onChange;\n\t\tthis.data = {\n\t\t\tstate: null,\n\t\t\ttransitions: false,\n\t\t\tinteractions: getEmptyInteractions(),\n\t\t};\n\t}\n\n\tprotected getProps() {\n\t\treturn this.props();\n\t}\n\n\tprotected setData(data: AbstractCropperInstanceData) {\n\t\tthis.data = data;\n\t\tthis.notify();\n\t}\n\n\tprotected getData(): AbstractCropperInstanceData {\n\t\treturn this.data;\n\t}\n}\n","import { useState } from 'react';\n\nexport function useForceRerender() {\n\tconst [tick, setTick] = useState({});\n\n\treturn () => {\n\t\tsetTick({});\n\t};\n}\n","import { useRef } from 'react';\n\nexport function usePersistentFunction<Props, Arguments extends any[]>(props: (...args: Arguments) => Props) {\n\tconst propsRef = useRef(props);\n\n\tpropsRef.current = props;\n\n\treturn (...args: Arguments) => propsRef.current(...args);\n}\n","import { useRef } from 'react';\nimport {\n\tImageRestriction,\n\tcreateDefaultSettings,\n\tAbstractCropperInstanceParameters,\n\tAbstractCropperInstanceCallbacks,\n\tAbstractCropperInstanceSettings,\n\tDefaultSettings,\n} from 'advanced-cropper';\nimport { CropperInstance } from '../instance/CropperInstance';\nimport { useForceRerender } from './useForceRerender';\nimport { usePersistentFunction } from './usePersistentFunction';\n\nexport type CropperInstanceSettings = DefaultSettings & AbstractCropperInstanceSettings;\n\nexport type CropperInstanceSettingsProp<Settings extends CropperInstanceSettings> = Partial<\n\tPick<Settings, keyof CropperInstanceSettings>\n> &\n\tOmit<Settings, keyof CropperInstanceSettings>;\n\nexport function useCropperInstance<Settings extends CropperInstanceSettings, Instance = unknown>(\n\tprops: () => AbstractCropperInstanceParameters<Settings> &\n\t\tAbstractCropperInstanceCallbacks<Instance> & {\n\t\t\tsettings?: CropperInstanceSettingsProp<Settings>;\n\t\t},\n) {\n\tconst rerender = useForceRerender();\n\n\tconst getProps = usePersistentFunction(() => {\n\t\tconst { settings, ...parameters } = props();\n\n\t\tconst extendedSettings = {\n\t\t\timageRestriction: ImageRestriction.fitArea,\n\t\t\ttransformImage: {\n\t\t\t\tadjustStencil: true,\n\t\t\t},\n\t\t\t...settings,\n\t\t};\n\n\t\tconst extendedParameters = {\n\t\t\ttransitions: true,\n\t\t\t...parameters,\n\t\t};\n\n\t\treturn {\n\t\t\tsettings: {\n\t\t\t\t...extendedSettings,\n\t\t\t\t...createDefaultSettings<Settings>(extendedSettings),\n\t\t\t\t// It's needed because of the nature of the settings field\n\t\t\t} as Settings,\n\t\t\t...extendedParameters,\n\t\t};\n\t});\n\n\tconst cropper = useRef(new CropperInstance<Settings, Instance>(getProps, rerender));\n\n\treturn cropper.current;\n}\nexport type CropperStateHook = ReturnType<typeof useCropperInstance>;\n","import { useEffect, useRef, useState } from 'react';\nimport { CropperImage, isUndefined, promiseTimeout, loadImage } from 'advanced-cropper';\nimport { useStateWithCallback } from \"./useStateWithCallback\";\n\nexport interface CropperImageHookSettings {\n\tsrc?: string | null;\n\tonLoadingStart?: () => void;\n\tonLoadingEnd?: () => void;\n\tonError?: () => void;\n\tonLoad?: (image?: CropperImage) => void;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n\tcheckOrientation?: boolean;\n\tcanvas?: string | boolean;\n\tunloadTime?: number;\n}\n\nexport function useCropperImage(options: CropperImageHookSettings) {\n\tconst { src, onLoadingStart, onLoadingEnd, onError, onLoad, crossOrigin, checkOrientation, canvas, unloadTime } = options;\n\tconst [image, setImage] = useState<CropperImage | null>(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst [loaded, setLoaded] = useStateWithCallback(false);\n\n\tconst currentSrc = useRef<string | null>(null);\n\n\tuseEffect(() => {\n\t\tif (currentSrc.current !== src) {\n\t\t\tcurrentSrc.current = src || null;\n\t\t\tsetLoaded(false);\n\t\t\tif (src) {\n\t\t\t\tsetLoading(true);\n\t\t\t\tonLoadingStart?.();\n\t\t\t\tconst promises: Promise<unknown>[] = [\n\t\t\t\t\tloadImage(src, {\n\t\t\t\t\t\tcrossOrigin: isUndefined(crossOrigin) ? canvas : crossOrigin,\n\t\t\t\t\t\tcheckOrientation,\n\t\t\t\t\t}),\n\t\t\t\t];\n\n\t\t\t\tif (loaded && unloadTime) {\n\t\t\t\t\tpromises.push(promiseTimeout(unloadTime));\n\t\t\t\t}\n\t\t\t\tPromise.all(promises)\n\t\t\t\t\t.then((responses) => {\n\t\t\t\t\t\tconst [image] = responses as [CropperImage];\n\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\tsetImage(image);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\tonError?.();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\tonLoadingEnd?.();\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (unloadTime) {\n\t\t\t\t\t\tpromiseTimeout(unloadTime).then(() => {\n\t\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\t\tsetImage(null)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t\tsetImage(null)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [src, image]);\n\n\tuseEffect(() => {\n\t\tif (image) {\n\t\t\tsetLoaded(true, () => {\n\t\t\t\tonLoad?.(image);\n\t\t\t})\n\t\t}\n\t}, [image])\n\n\treturn {\n\t\tisLoading() {\n\t\t\treturn loading;\n\t\t},\n\t\tisLoaded() {\n\t\t\treturn loaded\n\t\t},\n\t\tgetImage() {\n\t\t\treturn image;\n\t\t},\n\t\tsetImage,\n\t};\n}\n","import { useEffect, useRef } from 'react';\n\nexport const useWindowResize = (callback: (...args: unknown[]) => void) => {\n\tconst callbackRef = useRef<Function>(callback);\n\n\tconst internalCallback = () => {\n\t\tif (callbackRef.current) {\n\t\t\tcallbackRef.current();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tcallbackRef.current = callback;\n\t}, [callback]);\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('resize', internalCallback);\n\t\twindow.addEventListener('orientationchange', internalCallback);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', internalCallback);\n\t\t\twindow.removeEventListener('orientationchange', internalCallback);\n\t\t};\n\t}, []);\n};\n","import { useLayoutEffect, useState } from 'react';\n\ninterface CropperInstance {\n\thasInteractions: () => boolean;\n\treconcileState: () => void;\n}\n\nexport function useCropperAutoReconcile(cropper: CropperInstance, enabled = true) {\n\tconst [active, setActive] = useState(enabled);\n\n\tuseLayoutEffect(() => {\n\t\tif (active && !cropper.hasInteractions()) {\n\t\t\tcropper.reconcileState();\n\t\t}\n\t});\n\n\treturn {\n\t\tpause() {\n\t\t\tsetActive(false);\n\t\t},\n\t\tresume() {\n\t\t\tsetActive(true);\n\t\t},\n\t};\n}\n","import { useImperativeHandle, useRef } from 'react';\nimport {\n\tAbstractCropperInstanceCallbacks,\n\tAbstractCropperInstanceParameters,\n\tCropperImage,\n\tDrawOptions,\n} from 'advanced-cropper';\nimport { StretchableBoundaryMethods } from '../components/service/StretchableBoundary';\nimport { CropperCanvasMethods } from '../components/service/CropperCanvas';\nimport { ExtendedSettings, SettingsExtension } from '../types';\nimport { AbstractCropperRef, AbstractCropperSettings } from '../components/AbstractCropper';\nimport { useStateWithCallback } from './useStateWithCallback';\nimport { CropperInstanceSettingsProp, useCropperInstance } from './useCropperInstance';\nimport { useCropperImage } from './useCropperImage';\nimport { useWindowResize } from './useWindowResize';\nimport { useUpdateEffect } from './useUpdateEffect';\nimport { useCropperAutoReconcile } from './useCropperAutoReconcile';\n\nexport interface AbstractCropperHookProps<Settings extends AbstractCropperSettings>\n\textends AbstractCropperInstanceParameters<Settings>,\n\t\tAbstractCropperInstanceCallbacks<AbstractCropperRef<Settings>> {\n\tsrc?: string | null;\n\tcheckOrientation?: boolean;\n\tcanvas?: boolean;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n\tonReady?: (cropper: AbstractCropperRef<Settings>) => void;\n\tonError?: (cropper: AbstractCropperRef<Settings>) => void;\n\tonUpdate?: (cropper: AbstractCropperRef<Settings>) => void;\n\tunloadTime?: number;\n\tautoReconcileState?: boolean;\n\tsettings?: CropperInstanceSettingsProp<Settings>;\n}\n\nexport function useAbstractCropper<Extension extends SettingsExtension = {}>(\n\tprops: () => AbstractCropperHookProps<ExtendedSettings<Extension>>,\n) {\n\tconst {\n\t\tsrc,\n\t\tonReady,\n\t\tonError,\n\t\tonUpdate,\n\t\tcanvas = true,\n\t\tunloadTime = 500,\n\t\tcrossOrigin = true,\n\t\tcheckOrientation = true,\n\t\tautoReconcileState = true,\n\t} = props();\n\n\tconst imageRef = useRef<HTMLElement>(null);\n\tconst boundaryRef = useRef<StretchableBoundaryMethods>(null);\n\tconst canvasRef = useRef<CropperCanvasMethods>(null);\n\tconst cropperRef = useRef<AbstractCropperRef<ExtendedSettings<Extension>>>(null);\n\n\tconst [currentImage, setCurrentImage] = useStateWithCallback<CropperImage | null>(null);\n\n\tconst cropper = useCropperInstance(() => ({\n\t\t...props(),\n\t\tgetInstance() {\n\t\t\treturn cropperRef.current;\n\t\t},\n\t}));\n\n\tconst cropperImage = useCropperImage({\n\t\tsrc,\n\t\tcrossOrigin,\n\t\tcheckOrientation,\n\t\tunloadTime,\n\t\tcanvas,\n\t\tonError() {\n\t\t\tif (cropperRef.current) {\n\t\t\t\tonError?.(cropperRef.current);\n\t\t\t}\n\t\t},\n\t});\n\n\tconst autoReconcile = useCropperAutoReconcile(cropper, autoReconcileState);\n\n\tconst resetCropper = async () => {\n\t\tif (boundaryRef.current) {\n\t\t\tautoReconcile.pause();\n\t\t\tconst image = cropperImage.getImage();\n\t\t\tconst boundary = await boundaryRef.current?.stretchTo(image);\n\t\t\tsetCurrentImage(image, () => {\n\t\t\t\tif (boundary && image) {\n\t\t\t\t\tcropper.reset(boundary, image);\n\t\t\t\t} else {\n\t\t\t\t\tcropper.clear();\n\t\t\t\t}\n\t\t\t});\n\t\t\tautoReconcile.resume();\n\t\t}\n\t};\n\n\tconst refreshCropper = async () => {\n\t\tif (boundaryRef.current) {\n\t\t\tautoReconcile.pause();\n\t\t\tconst image = cropperImage.getImage();\n\t\t\tconst boundary = await boundaryRef.current?.stretchTo(image);\n\t\t\tif (boundary && image) {\n\t\t\t\tconst state = cropper.getState();\n\t\t\t\tif (state) {\n\t\t\t\t\tif (boundary.width !== state.boundary.width || boundary.height !== state.boundary.height) {\n\t\t\t\t\t\tcropper.setBoundary(boundary);\n\t\t\t\t\t\t// It's important because, probably, after the boundary reset\n\t\t\t\t\t\t// the cropper can meet some restrictions that were broken before\n\t\t\t\t\t\tcropper.reconcileState();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcropper.reset(boundary, image);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcropper.clear();\n\t\t\t}\n\t\t\tautoReconcile.resume();\n\t\t}\n\t};\n\tconst cropperInterface = {\n\t\treset: () => resetCropper(),\n\t\trefresh: () => refreshCropper(),\n\t\tsetImage: (image: CropperImage) => setCurrentImage(image),\n\t\treconcileState: cropper.reconcileState,\n\t\tmoveCoordinates: cropper.moveCoordinates,\n\t\tmoveCoordinatesEnd: cropper.moveCoordinatesEnd,\n\t\tresizeCoordinates: cropper.resizeCoordinates,\n\t\tclear: cropper.clear,\n\t\tresizeCoordinatesEnd: cropper.resizeCoordinatesEnd,\n\t\tmoveImage: cropper.moveImage,\n\t\tflipImage: cropper.flipImage,\n\t\tzoomImage: cropper.zoomImage,\n\t\trotateImage: cropper.rotateImage,\n\t\ttransformImage: cropper.transformImage,\n\t\ttransformImageEnd: cropper.transformImageEnd,\n\t\tsetCoordinates: cropper.setCoordinates,\n\t\tsetVisibleArea: cropper.setVisibleArea,\n\t\tstartTransitions: cropper.startTransitions,\n\t\tsetState: cropper.setState,\n\t\thasInteractions: cropper.hasInteractions,\n\t\tgetStencilCoordinates: cropper.getStencilCoordinates,\n\t\tgetCoordinates: cropper.getCoordinates,\n\t\tgetVisibleArea: cropper.getVisibleArea,\n\t\tgetTransforms: cropper.getTransforms,\n\t\tgetTransitions: cropper.getTransitions,\n\t\tgetInteractions: cropper.getInteractions,\n\t\tgetSettings: cropper.getSettings,\n\t\tgetState: cropper.getState,\n\t\tgetDefaultState() {\n\t\t\tconst state = cropper.getState();\n\t\t\tconst image = cropperImage.getImage();\n\t\t\tif (state && image) {\n\t\t\t\treturn cropper.createDefaultState(state.boundary, image);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tgetCanvas: (options?: DrawOptions) => {\n\t\t\tconst state = cropper.getState();\n\t\t\tif (imageRef.current && canvasRef.current && state) {\n\t\t\t\treturn canvasRef.current.draw(state, imageRef.current, options);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tgetImage: () => {\n\t\t\treturn currentImage ? { ...currentImage } : null;\n\t\t},\n\t\tisLoading: cropperImage.isLoading,\n\t\tisLoaded: cropperImage.isLoaded,\n\t};\n\n\tuseWindowResize(() => {\n\t\trefreshCropper();\n\t});\n\n\tuseUpdateEffect(() => {\n\t\tresetCropper();\n\t}, [cropperImage.getImage()]);\n\n\tuseUpdateEffect(() => {\n\t\tif (cropperRef.current && currentImage) {\n\t\t\tonReady?.(cropperRef.current);\n\t\t}\n\t}, [currentImage])\n\n\tuseUpdateEffect(() => {\n\t\tif (cropperRef.current) {\n\t\t\tonUpdate?.(cropperRef.current);\n\t\t}\n\t}, [cropperImage.isLoaded(), cropperImage.isLoading()]);\n\n\tuseImperativeHandle(cropperRef, () => cropperInterface);\n\n\treturn {\n\t\tcropper: cropperInterface,\n\t\trefs: {\n\t\t\timage: imageRef,\n\t\t\tboundary: boundaryRef,\n\t\t\tcanvas: canvasRef,\n\t\t},\n\t\timage: currentImage,\n\t};\n}\n","import React, { ReactNode, forwardRef, useImperativeHandle, useRef, CSSProperties } from 'react';\nimport cn from 'classnames';\nimport {\n\tBoundarySizeAlgorithm,\n\tSize,\n\tstretchCropperBoundary,\n\tBoundaryStretchAlgorithm,\n\tfillBoundary,\n} from 'advanced-cropper';\n\ninterface Props {\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tstretcherClassName?: string;\n\tcontentClassName?: string;\n\tstretchAlgorithm?: BoundaryStretchAlgorithm;\n\tsizeAlgorithm?: BoundarySizeAlgorithm;\n\tchildren?: ReactNode;\n}\n\nexport interface StretchableBoundaryMethods {\n\tstretchTo: (size: Size | null) => Promise<Size | null>;\n\treset: () => void;\n}\n\nexport const StretchableBoundary = forwardRef(\n\t(\n\t\t{\n\t\t\tclassName,\n\t\t\tstyle,\n\t\t\tstretcherClassName,\n\t\t\tcontentClassName,\n\t\t\tstretchAlgorithm = stretchCropperBoundary,\n\t\t\tsizeAlgorithm = fillBoundary,\n\t\t\tchildren,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst stretcherRef = useRef<HTMLDivElement>(null);\n\t\tconst boundaryRef = useRef<HTMLDivElement>(null);\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\treset: () => {\n\t\t\t\tconst stretcher = stretcherRef.current;\n\t\t\t\tif (stretcher) {\n\t\t\t\t\tstretcher.style.height = '';\n\t\t\t\t\tstretcher.style.width = '';\n\t\t\t\t}\n\t\t\t},\n\t\t\tstretchTo: (size: Size | null) => {\n\t\t\t\tconst stretcher = stretcherRef.current;\n\t\t\t\tconst boundary = boundaryRef.current;\n\n\t\t\t\tif (size?.width && size?.height && stretcher && boundary) {\n\t\t\t\t\tstretchAlgorithm(boundary, stretcher, size);\n\t\t\t\t\tconst result = sizeAlgorithm(boundary, size);\n\t\t\t\t\treturn Promise.resolve(result.width && result.height ? result : null);\n\t\t\t\t} else {\n\t\t\t\t\tif (stretcher) {\n\t\t\t\t\t\tstretcher.style.height = '';\n\t\t\t\t\t\tstretcher.style.width = '';\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(null);\n\t\t\t\t}\n\t\t\t},\n\t\t}));\n\n\t\treturn (\n\t\t\t<div ref={boundaryRef} style={style} className={cn('advanced-cropper-boundary', className)}>\n\t\t\t\t<div ref={stretcherRef} className={cn(['advanced-cropper-boundary__stretcher', stretcherClassName])} />\n\t\t\t\t<div className={cn(['advanced-cropper-boundary__content', contentClassName])}>{children}</div>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nStretchableBoundary.displayName = 'StretchableBoundary';\n","import React, { CSSProperties, FC, ReactNode } from 'react';\nimport cn from 'classnames';\n\ninterface Props {\n\tvisible?: unknown;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tchildren?: ReactNode;\n}\n\nexport const CropperFade: FC<Props> = ({ visible, className, style, children }) => {\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={cn(className, 'advanced-cropper-fade', Boolean(visible) && 'advanced-cropper-fade--visible')}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import React, { CSSProperties, FC, ReactNode } from 'react';\nimport cn from 'classnames';\nimport { CropperState } from 'advanced-cropper';\nimport { CropperFade } from './CropperFade';\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n\tisLoading: () => boolean;\n\tisLoaded: () => boolean;\n}\n\nexport interface CropperWrapperProps {\n\tcropper?: DesiredCropperRef;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tchildren?: ReactNode;\n\tdisabled?: boolean;\n}\n\nexport const CropperWrapper: FC<CropperWrapperProps> = ({ cropper, children, className, style }) => {\n\tconst state = cropper ? cropper.getState() : null;\n\tconst loaded = cropper ? cropper.isLoaded() : false;\n\treturn (\n\t\t<div className={cn(className, 'advanced-cropper-wrapper')} style={style}>\n\t\t\t<CropperFade visible={state && loaded} className={'advanced-cropper-wrapper__fade'}>\n\t\t\t\t{children}\n\t\t\t</CropperFade>\n\t\t</div>\n\t);\n};\n","import { MouseEvent } from 'react';\n\nexport function preventDefault(e: MouseEvent) {\n\te.preventDefault();\n}\n","import React, { CSSProperties, forwardRef } from 'react';\nimport cn from 'classnames';\nimport { CropperTransitions, CropperImage, CropperState, getBackgroundStyle } from 'advanced-cropper';\nimport { preventDefault } from '../../service/events';\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n\tgetTransitions: () => CropperTransitions;\n\tgetImage: () => CropperImage | null;\n}\n\nexport interface CropperBackgroundImageProps {\n\tclassName?: string;\n\tcropper: DesiredCropperRef;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n\tstyle?: CSSProperties;\n}\n\nexport const CropperBackgroundImage = forwardRef<HTMLImageElement, CropperBackgroundImageProps>(\n\t({ className, style, cropper, crossOrigin = true }: CropperBackgroundImageProps, ref) => {\n\t\tconst state = cropper.getState();\n\t\tconst transitions = cropper.getTransitions();\n\t\tconst image = cropper.getImage();\n\n\t\tconst transformStyles = image && state ? getBackgroundStyle(image, state, transitions) : {};\n\n\t\tconst src = image ? image.src : undefined;\n\n\t\treturn src ? (\n\t\t\t<img\n\t\t\t\tkey={src}\n\t\t\t\tref={ref}\n\t\t\t\tclassName={cn('advanced-cropper-background-image', className)}\n\t\t\t\tsrc={src}\n\t\t\t\tcrossOrigin={crossOrigin === true ? 'anonymous' : crossOrigin || undefined}\n\t\t\t\tstyle={{\n\t\t\t\t\t...transformStyles,\n\t\t\t\t\t...style,\n\t\t\t\t}}\n\t\t\t\tonMouseDown={preventDefault}\n\t\t\t/>\n\t\t) : null;\n\t},\n);\n\nCropperBackgroundImage.displayName = 'CropperBackgroundImage';\n","import React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport { CropperState, DrawOptions, drawCroppedArea } from 'advanced-cropper';\n\nexport interface CropperCanvasMethods {\n\tdraw: (state: CropperState, image: HTMLElement, options?: DrawOptions) => HTMLCanvasElement | null;\n}\n\nexport const CropperCanvas = forwardRef((_, ref) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\n\tconst spareCanvasRef = useRef<HTMLCanvasElement>(null);\n\n\tuseImperativeHandle(ref, () => ({\n\t\tdraw: (state: CropperState, image: HTMLElement, options: DrawOptions = {}) => {\n\t\t\tif (image && canvasRef.current && spareCanvasRef.current) {\n\t\t\t\treturn drawCroppedArea(\n\t\t\t\t\tstate,\n\t\t\t\t\timage as HTMLImageElement | HTMLCanvasElement,\n\t\t\t\t\tcanvasRef.current,\n\t\t\t\t\tspareCanvasRef.current,\n\t\t\t\t\toptions,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t}));\n\n\treturn (\n\t\t<>\n\t\t\t<canvas className=\"advanced-cropper-canvas\" ref={canvasRef} />\n\t\t\t<canvas className=\"advanced-cropper-canvas\" ref={spareCanvasRef} />\n\t\t</>\n\t);\n});\n\nCropperCanvas.displayName = 'CropperCanvas';\n","import React, { ReactNode, Component, RefObject, createRef } from 'react';\nimport cn from 'classnames';\nimport { MoveDirections, Point, SimpleTouch, distance } from 'advanced-cropper';\n\ninterface Props {\n\tclassName?: string;\n\tchildren?: ReactNode;\n\tdisabled?: boolean;\n\tonMove?: (directions: MoveDirections, nativeEvent: MouseEvent | TouchEvent) => void;\n\tonMoveEnd?: () => void;\n\tonMoveStart?: () => void;\n\tonLeave?: () => void;\n\tonEnter?: () => void;\n\tuseAnchor?: boolean;\n\tactivationDistance?: number;\n}\n\nexport class DraggableElement extends Component<Props> {\n\ttouches: SimpleTouch[];\n\tstarted: boolean;\n\thovered: boolean;\n\tanchor: Point;\n\tcontainer: RefObject<HTMLDivElement>;\n\n\tstatic defaultProps = {\n\t\tdisabled: false,\n\t\tactivationDistance: 30,\n\t\tuseAnchor: true,\n\t\trerender: true,\n\t};\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tthis.touches = [];\n\t\tthis.hovered = false;\n\t\tthis.started = false;\n\t\tthis.anchor = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t};\n\t\tthis.container = createRef();\n\t}\n\n\tprocessMove = (e: MouseEvent | TouchEvent, newTouches: SimpleTouch[]) => {\n\t\tconst container = this.container.current;\n\n\t\tif (container && this.touches.length) {\n\t\t\tconst { left, top } = container.getBoundingClientRect();\n\t\t\tif (this.touches.length === 1 && newTouches.length === 1) {\n\t\t\t\tif (this.props.onMove) {\n\t\t\t\t\tconst movingToAnchor = {\n\t\t\t\t\t\tleft:\n\t\t\t\t\t\t\tMath.abs(newTouches[0].clientX - this.anchor.left - left) <\n\t\t\t\t\t\t\tMath.abs(this.touches[0].clientX - this.anchor.left - left),\n\t\t\t\t\t\ttop:\n\t\t\t\t\t\t\tMath.abs(newTouches[0].clientY - this.anchor.top - top) <\n\t\t\t\t\t\t\tMath.abs(this.touches[0].clientY - this.anchor.top - top),\n\t\t\t\t\t};\n\n\t\t\t\t\tconst direction = {\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!this.props.useAnchor || !movingToAnchor.left) {\n\t\t\t\t\t\tdirection.left = newTouches[0].clientX - this.touches[0].clientX;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.props.useAnchor || !movingToAnchor.top) {\n\t\t\t\t\t\tdirection.top = newTouches[0].clientY - this.touches[0].clientY;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.props?.onMove(direction, e);\n\n\t\t\t\t\tthis.touches = [...newTouches];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tprocessEnd = () => {\n\t\tconst { onMoveEnd, onLeave } = this.props;\n\t\tif (!this.props.disabled && this.touches.length) {\n\t\t\tonMoveEnd?.();\n\t\t}\n\t\tif (this.hovered) {\n\t\t\tonLeave?.();\n\t\t\tthis.hovered = false;\n\t\t}\n\t\tthis.touches = [];\n\t};\n\n\tinitAnchor = (touch: SimpleTouch) => {\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\tconst { left, top } = container.getBoundingClientRect();\n\t\t\tthis.anchor = {\n\t\t\t\tleft: touch.clientX - left,\n\t\t\t\ttop: touch.clientY - top,\n\t\t\t};\n\t\t}\n\t};\n\n\tonMouseOver = () => {\n\t\tconst { onEnter, disabled } = this.props;\n\t\tif (!this.hovered && !disabled) {\n\t\t\tthis.hovered = true;\n\t\t\tonEnter?.();\n\t\t}\n\t};\n\n\tonMouseLeave = () => {\n\t\tconst { onLeave } = this.props;\n\t\tif (this.hovered && !this.touches.length) {\n\t\t\tthis.hovered = false;\n\t\t\tonLeave?.();\n\t\t}\n\t};\n\n\tonTouchStart = (e: TouchEvent) => {\n\t\tconst { onEnter, onMoveStart, disabled } = this.props;\n\t\tif (e.cancelable) {\n\t\t\tthis.touches = Array.from(e.touches);\n\n\t\t\tconst shouldStartMove = !disabled && e.touches.length === 1;\n\t\t\tif (shouldStartMove) {\n\t\t\t\tthis.touches = Array.from(e.touches);\n\t\t\t\tonMoveStart?.();\n\t\t\t}\n\n\t\t\tif (!this.hovered && !disabled) {\n\t\t\t\tthis.hovered = true;\n\t\t\t\tonEnter?.();\n\t\t\t}\n\n\t\t\tif (this.started || shouldStartMove) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\t};\n\n\tonTouchEnd = () => {\n\t\tthis.started = false;\n\t\tthis.processEnd();\n\t};\n\n\tonTouchMove = (e: TouchEvent) => {\n\t\tif (this.touches.length >= 1) {\n\t\t\tif (this.started) {\n\t\t\t\tthis.processMove(e, Array.from(e.touches));\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t} else if (\n\t\t\t\tdistance(\n\t\t\t\t\t{ left: this.touches[0].clientX, top: this.touches[0].clientY },\n\t\t\t\t\t{ left: e.touches[0].clientX, top: e.touches[0].clientY },\n\t\t\t\t) > (this.props.activationDistance || 0)\n\t\t\t) {\n\t\t\t\tthis.initAnchor({\n\t\t\t\t\tclientX: e.touches[0].clientX,\n\t\t\t\t\tclientY: e.touches[0].clientY,\n\t\t\t\t});\n\t\t\t\tthis.started = true;\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseDown = (e: MouseEvent) => {\n\t\tconst { onMoveStart, disabled } = this.props;\n\t\tif (!disabled && e.button === 0) {\n\t\t\tconst touch = {\n\t\t\t\tclientX: e.clientX,\n\t\t\t\tclientY: e.clientY,\n\t\t\t};\n\t\t\tthis.touches = [touch];\n\t\t\tthis.initAnchor(touch);\n\t\t\te.stopPropagation();\n\t\t\tonMoveStart?.();\n\t\t}\n\t};\n\n\tonMouseMove = (e: MouseEvent) => {\n\t\tif (!this.props.disabled && this.touches.length) {\n\t\t\tthis.processMove(e, [\n\t\t\t\t{\n\t\t\t\t\tclientX: e.clientX,\n\t\t\t\t\tclientY: e.clientY,\n\t\t\t\t},\n\t\t\t]);\n\t\t\tif (e.preventDefault && e.cancelable) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t}\n\t};\n\n\tonMouseUp = () => {\n\t\tthis.processEnd();\n\t};\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('mouseup', this.onMouseUp);\n\t\twindow.removeEventListener('mousemove', this.onMouseMove);\n\t\twindow.removeEventListener('touchmove', this.onTouchMove);\n\t\twindow.removeEventListener('touchend', this.onTouchEnd);\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\tcontainer.removeEventListener('touchstart', this.onTouchStart);\n\t\t\tcontainer.removeEventListener('mousedown', this.onMouseDown);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('mouseup', this.onMouseUp, { passive: false });\n\t\twindow.addEventListener('mousemove', this.onMouseMove, { passive: false });\n\t\twindow.addEventListener('touchmove', this.onTouchMove, { passive: false });\n\t\twindow.addEventListener('touchend', this.onTouchEnd, { passive: false });\n\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\t// Add event listeners here due to https://github.com/facebook/react/issues/9809#issuecomment-414072263\n\t\t\tcontainer.addEventListener('touchstart', this.onTouchStart, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t\tcontainer.addEventListener('mousedown', this.onMouseDown, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps: Readonly<Props>) {\n\t\tif (this.props.disabled && !prevProps.disabled) {\n\t\t\tthis.touches = [];\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { children, className } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={cn('advanced-cropper-draggable-element', className)}\n\t\t\t\tref={this.container}\n\t\t\t\tonMouseOver={this.onMouseOver}\n\t\t\t\tonMouseLeave={this.onMouseLeave}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { ReactNode } from 'react';\nimport cn from 'classnames';\nimport { HorizontalCardinalDirection, MoveDirections, VerticalCardinalDirection } from 'advanced-cropper';\nimport { DraggableElement } from './DraggableElement';\n\ninterface Props {\n\tclassName?: string;\n\tchildren?: ReactNode;\n\tonDrag?: (directions: MoveDirections, event: TouchEvent | MouseEvent) => void;\n\tonDragEnd?: () => void;\n\tonLeave?: () => void;\n\tonEnter?: () => void;\n\tdisabled?: boolean;\n\tposition?: HorizontalCardinalDirection | VerticalCardinalDirection;\n}\n\nexport const LineWrapper = ({\n\tposition,\n\tclassName,\n\tdisabled,\n\tonDrag,\n\tonDragEnd,\n\tonLeave,\n\tonEnter,\n\tchildren,\n}: Props) => {\n\treturn (\n\t\t<DraggableElement\n\t\t\tclassName={cn([\n\t\t\t\t'advanced-cropper-line-wrapper',\n\t\t\t\tposition && `advanced-cropper-line-wrapper--${position}`,\n\t\t\t\tdisabled && `advanced-cropper-line-wrapper--disabled`,\n\t\t\t\tclassName,\n\t\t\t])}\n\t\t\tdisabled={disabled}\n\t\t\tonMove={onDrag}\n\t\t\tonMoveEnd={onDragEnd}\n\t\t\tonLeave={onLeave}\n\t\t\tonEnter={onEnter}\n\t\t\tactivationDistance={0}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cn([\n\t\t\t\t\t'advanced-cropper-line-wrapper__content',\n\t\t\t\t\tposition && `advanced-cropper-line-wrapper__content--${position}`,\n\t\t\t\t])}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</DraggableElement>\n\t);\n};\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport { CardinalDirection, MoveDirections } from 'advanced-cropper';\nimport { LineWrapper } from '../service/LineWrapper';\n\ninterface Props {\n\tdefaultClassName?: string;\n\thoverClassName?: string;\n\twrapperClassName?: string;\n\tposition?: CardinalDirection;\n\tdisabled?: boolean;\n\tonMove?: (directions: MoveDirections, event: TouchEvent | MouseEvent) => void;\n\tonMoveEnd?: () => void;\n}\n\nexport const SimpleLine = ({\n\tposition,\n\thoverClassName,\n\twrapperClassName,\n\tdefaultClassName,\n\tdisabled,\n\tonMove,\n\tonMoveEnd,\n}: Props) => {\n\tconst [hover, setHover] = useState(false);\n\n\tconst onEnter = () => {\n\t\tsetHover(true);\n\t};\n\n\tconst onLeave = () => {\n\t\tsetHover(false);\n\t};\n\n\treturn (\n\t\t<LineWrapper\n\t\t\tclassName={cn('advanced-cropper-simple-line-wrapper', wrapperClassName, {\n\t\t\t\t[`advanced-cropper-simple-line-wrapper--${position}`]: !!position,\n\t\t\t})}\n\t\t\tposition={position}\n\t\t\tdisabled={disabled}\n\t\t\tonDrag={onMove}\n\t\t\tonDragEnd={onMoveEnd}\n\t\t\tonLeave={onLeave}\n\t\t\tonEnter={onEnter}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'advanced-cropper-simple-line',\n\t\t\t\t\thover && 'advanced-cropper-simple-line--hover',\n\t\t\t\t\tdefaultClassName,\n\t\t\t\t\thover && hoverClassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t[`advanced-cropper-simple-line--${position}`]: !!position,\n\t\t\t\t\t},\n\t\t\t\t)}\n\t\t\t/>\n\t\t</LineWrapper>\n\t);\n};\n","import React, { CSSProperties, ReactNode } from 'react';\nimport classnames from 'classnames';\nimport {\n\tHorizontalCardinalDirection,\n\tMoveDirections,\n\tVerticalCardinalDirection,\n\tgetDirectionNames,\n} from 'advanced-cropper';\nimport { DraggableElement } from './DraggableElement';\n\ninterface Props {\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tchildren?: ReactNode;\n\tonDrag?: (shift: MoveDirections, event: MouseEvent | TouchEvent) => void;\n\tonDragEnd?: () => void;\n\tonLeave?: () => void;\n\tonEnter?: () => void;\n\tdisabled?: boolean;\n\thorizontalPosition?: HorizontalCardinalDirection;\n\tverticalPosition?: VerticalCardinalDirection;\n}\n\nexport const HandlerWrapper = ({\n\thorizontalPosition,\n\tverticalPosition,\n\tclassName,\n\tdisabled,\n\tonDrag,\n\tonDragEnd,\n\tonLeave,\n\tonEnter,\n\tchildren,\n\tstyle,\n}: Props) => {\n\tconst position =\n\t\thorizontalPosition || verticalPosition\n\t\t\t? getDirectionNames(horizontalPosition, verticalPosition).snakeCase\n\t\t\t: null;\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={classnames(\n\t\t\t\tclassName,\n\t\t\t\t'advanced-cropper-handler-wrapper',\n\t\t\t\tposition && `advanced-cropper-handler-wrapper--${position}`,\n\t\t\t\tdisabled && 'advanced-cropper-handler-wrapper--disabled',\n\t\t\t)}\n\t\t>\n\t\t\t<DraggableElement\n\t\t\t\tclassName={'advanced-cropper-handler-wrapper__draggable'}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonMove={onDrag}\n\t\t\t\tonMoveEnd={onDragEnd}\n\t\t\t\tonLeave={onLeave}\n\t\t\t\tonEnter={onEnter}\n\t\t\t\tactivationDistance={0}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</DraggableElement>\n\t\t</div>\n\t);\n};\n","import React, { CSSProperties, useState } from 'react';\nimport cn from 'classnames';\nimport { HorizontalCardinalDirection, MoveDirections, VerticalCardinalDirection } from 'advanced-cropper';\nimport { HandlerWrapper } from '../service/HandlerWrapper';\n\ninterface Props {\n\tdefaultClassName?: string;\n\thoverClassName?: string;\n\twrapperClassName?: string;\n\twrapperStyle?: CSSProperties;\n\tverticalPosition?: VerticalCardinalDirection;\n\thorizontalPosition?: HorizontalCardinalDirection;\n\tdisabled?: boolean;\n\tonMove?: (shift: MoveDirections, event: TouchEvent | MouseEvent) => void;\n\tonMoveEnd?: () => void;\n}\n\nexport const SimpleHandler = ({\n\tverticalPosition,\n\thorizontalPosition,\n\thoverClassName,\n\twrapperClassName,\n\tdefaultClassName,\n\twrapperStyle,\n\tdisabled,\n\tonMove,\n\tonMoveEnd,\n}: Props) => {\n\tconst [hover, setHover] = useState(false);\n\n\tconst onEnter = () => {\n\t\tsetHover(true);\n\t};\n\n\tconst onLeave = () => {\n\t\tsetHover(false);\n\t};\n\n\treturn (\n\t\t<HandlerWrapper\n\t\t\tstyle={wrapperStyle}\n\t\t\tclassName={cn(\n\t\t\t\t'advanced-cropper-simple-handler-wrapper',\n\t\t\t\twrapperClassName,\n\t\t\t\tverticalPosition && `advanced-cropper-simple-handler-wrapper--${verticalPosition}`,\n\t\t\t\thorizontalPosition && `advanced-cropper-simple-handler-wrapper--${horizontalPosition}`,\n\t\t\t\thorizontalPosition &&\n\t\t\t\t\tverticalPosition &&\n\t\t\t\t\t`advanced-cropper-simple-handler-wrapper--${horizontalPosition}-${verticalPosition}`,\n\t\t\t\thover && 'advanced-cropper-simple-handler-wrapper--hover',\n\t\t\t)}\n\t\t\tverticalPosition={verticalPosition}\n\t\t\thorizontalPosition={horizontalPosition}\n\t\t\tdisabled={disabled}\n\t\t\tonDrag={onMove}\n\t\t\tonDragEnd={onMoveEnd}\n\t\t\tonLeave={onLeave}\n\t\t\tonEnter={onEnter}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'advanced-cropper-simple-handler',\n\t\t\t\t\thover && 'advanced-cropper-simple-handler--hover',\n\t\t\t\t\tdefaultClassName,\n\t\t\t\t\thover && hoverClassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t[`advanced-cropper-simple-handler--${verticalPosition}`]: !!verticalPosition,\n\t\t\t\t\t\t[`advanced-cropper-simple-handler--${horizontalPosition}`]: !!horizontalPosition,\n\t\t\t\t\t\t[`advanced-cropper-simple-handler--${horizontalPosition}-${verticalPosition}`]:\n\t\t\t\t\t\t\thorizontalPosition && verticalPosition,\n\t\t\t\t\t},\n\t\t\t\t)}\n\t\t\t/>\n\t\t</HandlerWrapper>\n\t);\n};\n","import React, { useMemo, ReactNode, CSSProperties, useState, FC } from 'react';\nimport cn from 'classnames';\nimport {\n\tCardinalDirection,\n\tOrdinalDirection,\n\tHorizontalCardinalDirection,\n\tVerticalCardinalDirection,\n\tMoveDirections,\n\tResizeOptions,\n\tgetDirectionNames,\n\tisCardinalDirection,\n\tisObject,\n\tCoordinates,\n\tResizeAnchor,\n} from 'advanced-cropper';\nimport { SimpleLine } from '../lines/SimpleLine';\nimport { SimpleHandler } from '../handlers/SimpleHandler';\n\nconst HORIZONTAL_DIRECTIONS = ['east', 'west', null] as const;\nconst VERTICAL_DIRECTIONS = ['south', 'north', null] as const;\n\ntype HandlerComponent = FC<any>;\n\ntype LineComponent = FC<any>;\n\ninterface HandlerClassNames extends Partial<Record<OrdinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface LineClassNames extends Partial<Record<CardinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface Props {\n\tstyle?: CSSProperties;\n\tclassName?: string;\n\thandlerComponent?: HandlerComponent;\n\thandlers?: boolean | Partial<Record<OrdinalDirection, boolean>>;\n\thandlerClassNames?: HandlerClassNames;\n\thandlerWrapperClassNames?: HandlerClassNames;\n\tlines?: boolean | Partial<Record<CardinalDirection, boolean>>;\n\tlineComponent?: LineComponent;\n\tlineClassNames?: LineClassNames;\n\tlineWrapperClassNames?: LineClassNames;\n\tdisabled?: boolean;\n\tonResize?: (anchor: ResizeAnchor, directions: MoveDirections, options: ResizeOptions) => void;\n\tonResizeEnd?: () => void;\n\tchildren?: ReactNode;\n\treference?: Coordinates | null;\n}\n\ninterface HandlerNode {\n\tname: OrdinalDirection;\n\tcomponent: HandlerComponent;\n\tclassName: string;\n\twrapperClassName?: string;\n\tcontainerClassName?: string;\n\thoverClassName?: string;\n\tstyle?: CSSProperties;\n\tverticalPosition: VerticalCardinalDirection | null;\n\thorizontalPosition: HorizontalCardinalDirection | null;\n\tdisabled: boolean;\n}\n\ninterface LineNode {\n\tname: CardinalDirection;\n\tcomponent: LineComponent;\n\tclassName: string;\n\twrapperClassName?: string;\n\thoverClassName?: string;\n\tstyle?: CSSProperties;\n\tverticalPosition: VerticalCardinalDirection | null;\n\thorizontalPosition: HorizontalCardinalDirection | null;\n\tdisabled: boolean;\n}\n\ninterface PointNode {\n\tname: OrdinalDirection;\n\tclassName: string;\n\tverticalPosition: VerticalCardinalDirection | null;\n\thorizontalPosition: HorizontalCardinalDirection | null;\n}\n\nexport const BoundingBox = ({\n\tstyle,\n\tclassName,\n\tchildren,\n\tonResize,\n\tonResizeEnd,\n\thandlerComponent = SimpleHandler,\n\thandlers = {\n\t\teastNorth: true,\n\t\tnorth: true,\n\t\twestNorth: true,\n\t\twest: true,\n\t\twestSouth: true,\n\t\tsouth: true,\n\t\teastSouth: true,\n\t\teast: true,\n\t},\n\thandlerClassNames = {},\n\thandlerWrapperClassNames = {},\n\tlines = {\n\t\twest: true,\n\t\tnorth: true,\n\t\teast: true,\n\t\tsouth: true,\n\t},\n\tlineComponent = SimpleLine,\n\tlineClassNames = {},\n\tlineWrapperClassNames = {},\n\tdisabled = false,\n\treference = null,\n}: Props) => {\n\tconst [lastReference, setLastReference] = useState<Coordinates | null>(null);\n\n\tconst points = useMemo(() => {\n\t\tconst result: PointNode[] = [];\n\t\tHORIZONTAL_DIRECTIONS.forEach((hDirection) => {\n\t\t\tVERTICAL_DIRECTIONS.forEach((vDirection) => {\n\t\t\t\tif (hDirection !== vDirection) {\n\t\t\t\t\tlet { snakeCase, camelCase } = getDirectionNames(hDirection, vDirection);\n\t\t\t\t\tif (snakeCase && camelCase) {\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\tname: camelCase,\n\t\t\t\t\t\t\tclassName: snakeCase,\n\t\t\t\t\t\t\tverticalPosition: vDirection,\n\t\t\t\t\t\t\thorizontalPosition: hDirection,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn result;\n\t}, []);\n\n\tconst lineNodes = useMemo(() => {\n\t\tconst result: LineNode[] = [];\n\t\tpoints.forEach((point) => {\n\t\t\tif (isCardinalDirection(point.name) && (isObject(lines) ? lines[point.name] : lines)) {\n\t\t\t\tresult.push({\n\t\t\t\t\tname: point.name,\n\t\t\t\t\tcomponent: lineComponent,\n\t\t\t\t\tclassName: cn(\n\t\t\t\t\t\tlineClassNames.default,\n\t\t\t\t\t\tlineClassNames[point.name],\n\t\t\t\t\t\tdisabled && lineClassNames.disabled,\n\t\t\t\t\t),\n\t\t\t\t\twrapperClassName: cn(\n\t\t\t\t\t\t`advanced-cropper-bounding-box__line`,\n\t\t\t\t\t\t`advanced-cropper-bounding-box__line--${point.name}`,\n\t\t\t\t\t\tlineWrapperClassNames.default,\n\t\t\t\t\t\tlineWrapperClassNames[point.name],\n\t\t\t\t\t\tdisabled && lineWrapperClassNames.disabled,\n\t\t\t\t\t),\n\t\t\t\t\thoverClassName: lineClassNames.hover,\n\t\t\t\t\tverticalPosition: point.verticalPosition,\n\t\t\t\t\thorizontalPosition: point.horizontalPosition,\n\t\t\t\t\tdisabled,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}, [points, lines, lineComponent, lineClassNames, lineWrapperClassNames, disabled]);\n\n\tconst handlerNodes = useMemo(() => {\n\t\tconst result: HandlerNode[] = [];\n\t\tpoints.forEach((point) => {\n\t\t\tif (isObject(handlers) ? handlers[point.name] : handlers) {\n\t\t\t\tresult.push({\n\t\t\t\t\tname: point.name,\n\t\t\t\t\tcomponent: handlerComponent,\n\t\t\t\t\tclassName: cn(handlerClassNames.default, handlerClassNames[point.name]),\n\t\t\t\t\tcontainerClassName: cn(\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler-wrapper`,\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler-wrapper--${point.className}`,\n\t\t\t\t\t),\n\t\t\t\t\twrapperClassName: cn(\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler`,\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler--${point.className}`,\n\t\t\t\t\t\thandlerWrapperClassNames.default,\n\t\t\t\t\t\thandlerWrapperClassNames[point.name],\n\t\t\t\t\t),\n\t\t\t\t\thoverClassName: handlerClassNames.hover,\n\t\t\t\t\tverticalPosition: point.verticalPosition,\n\t\t\t\t\thorizontalPosition: point.horizontalPosition,\n\t\t\t\t\tdisabled,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}, [points, handlers, handlerComponent, handlerClassNames, handlerWrapperClassNames, disabled]);\n\n\tconst onHandlerMove =\n\t\t(horizontalPosition: HorizontalCardinalDirection | null, verticalPosition: VerticalCardinalDirection | null) =>\n\t\t({ left, top }: MoveDirections, nativeEvent: MouseEvent | TouchEvent) => {\n\t\t\tconst directions = {\n\t\t\t\tleft,\n\t\t\t\ttop,\n\t\t\t};\n\n\t\t\tlet respectDirection: 'width' | 'height' | undefined;\n\t\t\tif (!verticalPosition && horizontalPosition) {\n\t\t\t\trespectDirection = 'width';\n\t\t\t} else if (verticalPosition && !horizontalPosition) {\n\t\t\t\trespectDirection = 'height';\n\t\t\t}\n\n\t\t\tif (!disabled) {\n\t\t\t\tif (onResize) {\n\t\t\t\t\tconst anchor = getDirectionNames(horizontalPosition, verticalPosition).camelCase;\n\t\t\t\t\tif (anchor) {\n\t\t\t\t\t\tonResize(anchor, directions, {\n\t\t\t\t\t\t\treference: lastReference || reference,\n\t\t\t\t\t\t\tpreserveAspectRatio: nativeEvent && nativeEvent.shiftKey,\n\t\t\t\t\t\t\trespectDirection,\n\t\t\t\t\t\t\tcompensate: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!lastReference) {\n\t\t\t\t\tsetLastReference(reference);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tconst onHandlerMoveEnd = () => {\n\t\tonResizeEnd?.();\n\t\tsetLastReference(null);\n\t};\n\n\treturn (\n\t\t<div className={cn('advanced-cropper-bounding-box', className)} style={style}>\n\t\t\t{children}\n\t\t\t<div>\n\t\t\t\t{lineNodes.map((line) => (\n\t\t\t\t\t<line.component\n\t\t\t\t\t\tkey={line.name}\n\t\t\t\t\t\tdefaultClassName={line.className}\n\t\t\t\t\t\thoverClassName={line.hoverClassName}\n\t\t\t\t\t\twrapperClassName={line.wrapperClassName}\n\t\t\t\t\t\tposition={line.name}\n\t\t\t\t\t\tdisabled={line.disabled}\n\t\t\t\t\t\tonMove={onHandlerMove(line.horizontalPosition, line.verticalPosition)}\n\t\t\t\t\t\tonMoveEnd={onHandlerMoveEnd}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{handlerNodes.map((handler) => {\n\t\t\t\t\tconst handlerElement = (\n\t\t\t\t\t\t<handler.component\n\t\t\t\t\t\t\tdefaultClassName={handler.className}\n\t\t\t\t\t\t\thoverClassName={handler.hoverClassName}\n\t\t\t\t\t\t\twrapperClassName={handler.wrapperClassName}\n\t\t\t\t\t\t\thorizontalPosition={handler.horizontalPosition}\n\t\t\t\t\t\t\tverticalPosition={handler.verticalPosition}\n\t\t\t\t\t\t\tdisabled={handler.disabled}\n\t\t\t\t\t\t\tonMove={onHandlerMove(handler.horizontalPosition, handler.verticalPosition)}\n\t\t\t\t\t\t\tonMoveEnd={onHandlerMoveEnd}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={handler.name} className={handler.containerClassName}>\n\t\t\t\t\t\t\t{handlerElement}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const StencilOverlay: FC<Props> = ({ className, children }) => {\n\treturn <div className={classnames('advanced-cropper-stencil-overlay', className)}>{children}</div>;\n};\n","import { CropperTransitions, Animation } from 'advanced-cropper';\nimport { useRef, useState } from 'react';\n\nexport function useTransition<T>(transitions: CropperTransitions | null = null): [(callback: (progress: number) => void) => void, boolean] {\n\tconst animation = useRef(new Animation());\n\tconst [active, setActive] = useState(false);\n\n\treturn [\n\t\t(callback: (progress: number) => void) => {\n\t\t\tif (transitions && transitions.active) {\n\t\t\t\t\tanimation.current.start({\n\t\t\t\t\t\t...transitions,\n\t\t\t\t\t\tonStart() {\n\t\t\t\t\t\t\tsetActive(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonProgress(progress) {\n\t\t\t\t\t\t\tcallback(progress);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonStop() {\n\t\t\t\t\t\t\tsetActive(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n \t\t\t} else if (!animation.current.active) {\n\t\t\t\tcallback(1);\n\t\t\t}\n\t\t},\n\t\tactive,\n\t];\n}\n","import React, { FC, ReactNode, useLayoutEffect, useRef, useState } from 'react';\nimport { Coordinates, CropperTransitions, deepCompare, isNumber } from 'advanced-cropper';\nimport classnames from 'classnames';\nimport { useTransition } from '../../hooks/useTransition';\n\ninterface Props {\n\tclassName?: string;\n\ttransitions?: CropperTransitions;\n\twidth?: number;\n\theight?: number;\n\tleft?: number;\n\ttop?: number;\n\tchildren?: ReactNode;\n}\n\nexport const ArtificialTransition: FC<Props> = ({ className, transitions, children, ...values }) => {\n\tconst root = useRef<HTMLDivElement>(null);\n\n\tconst transitionValues = useRef<Partial<Coordinates>>(values);\n\n\tconst [rememberedValues, setRememberedValues] = useState(values);\n\n\tconst [runTransitions, transitionsActive] = useTransition(transitions);\n\n\tuseLayoutEffect(() => {\n\t\tif (!deepCompare(rememberedValues, values)) {\n\t\t\tsetRememberedValues(values);\n\n\t\t\tconst startValues = transitionsActive\n\t\t\t\t? {\n\t\t\t\t\t\t...transitionValues.current,\n\t\t\t\t  }\n\t\t\t\t: rememberedValues;\n\n\t\t\trunTransitions((progress) => {\n\t\t\t\tconst properties = ['left', 'top', 'height', 'width'] as const;\n\n\t\t\t\tproperties.forEach((property) => {\n\t\t\t\t\tconst desiredValue = values[property];\n\t\t\t\t\tconst startValue = startValues[property];\n\n\t\t\t\t\ttransitionValues.current[property] =\n\t\t\t\t\t\tisNumber(startValue) && isNumber(desiredValue)\n\t\t\t\t\t\t\t? startValue + (desiredValue - startValue) * progress\n\t\t\t\t\t\t\t: desiredValue;\n\t\t\t\t});\n\n\t\t\t\tif (root.current) {\n\t\t\t\t\troot.current.style.width = `${transitionValues.current.width}px`;\n\t\t\t\t\troot.current.style.height = `${transitionValues.current.height}px`;\n\t\t\t\t\troot.current.style.transform = `translate3d(${transitionValues.current.left}px, ${transitionValues.current.top}px, 0px)`;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [rememberedValues, transitionsActive, values.width, values.height, values.top, values.left]);\n\n\tconst currentValues = transitionsActive ? transitionValues.current : values;\n\n\tconst rootStyle = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: `${currentValues.width}px`,\n\t\theight: `${currentValues.height}px`,\n\t\ttransform: `translate3d(${currentValues.left}px, ${currentValues.top}px, 0px)`,\n\t};\n\n\treturn (\n\t\t<div ref={root} className={classnames('advanced-cropper-artificial-transition', className)} style={rootStyle}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import React, { FC, ReactNode } from 'react';\nimport { CropperTransitions } from 'advanced-cropper';\nimport classnames from 'classnames';\n\nimport { ArtificialTransition } from './ArtificialTransition';\n\ninterface Props {\n\tchildren?: ReactNode;\n\tclassName?: string;\n\ttransitions?: CropperTransitions;\n\twidth?: number;\n\theight?: number;\n\tleft: number;\n\ttop: number;\n}\n\nexport const StencilWrapper: FC<Props> = ({ className, transitions, width, height, left, top, children }) => {\n\treturn (\n\t\t<ArtificialTransition\n\t\t\tclassName={classnames('advanced-cropper-stencil-wrapper', className)}\n\t\t\ttransitions={transitions}\n\t\t\twidth={width}\n\t\t\theight={height}\n\t\t\ttop={top}\n\t\t\tleft={left}\n\t\t>\n\t\t\t{children}\n\t\t</ArtificialTransition>\n\t);\n};\n","import React, { FC, ReactNode, useState } from 'react';\nimport cn from 'classnames';\nimport { useUpdateEffect } from '../../hooks/useUpdateEffect';\n\nexport interface StencilGridProps {\n\tvisible?: boolean;\n\tcolumns?: number;\n\trows?: number;\n\tclassName?: string;\n}\n\nexport const StencilGrid: FC<StencilGridProps> = ({ columns = 3, rows = 3, visible = false, className }) => {\n\tconst nodes: ReactNode[] = [];\n\n\tconst [currentColumns, setCurrentColumns] = useState(columns);\n\tconst [currentRows, setCurrentRows] = useState(rows);\n\n\tuseUpdateEffect(() => {\n\t\tif (visible) {\n\t\t\tsetCurrentRows(rows);\n\t\t\tsetCurrentColumns(columns);\n\t\t}\n\t}, [visible, columns, rows]);\n\n\tfor (let i = 0; i < currentRows; i++) {\n\t\tconst cells: ReactNode[] = [];\n\t\tfor (let j = 0; j < currentColumns; j++) {\n\t\t\tcells.push(\n\t\t\t\t<div\n\t\t\t\t\tkey={j}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'advanced-cropper-stencil-grid__cell',\n\t\t\t\t\t\ti === 0 && 'advanced-cropper-stencil-grid__cell--top',\n\t\t\t\t\t\ti === currentRows - 1 && 'advanced-cropper-stencil-grid__cell--bottom',\n\t\t\t\t\t\tj === 0 && 'advanced-cropper-stencil-grid__cell--left',\n\t\t\t\t\t\tj === currentColumns - 1 && 'advanced-cropper-stencil-grid__cell--right',\n\t\t\t\t\t)}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\t\tnodes.push(\n\t\t\t<div key={i} className={'advanced-cropper-stencil-grid__row'}>\n\t\t\t\t{cells}\n\t\t\t</div>,\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t'advanced-cropper-stencil-grid',\n\t\t\t\tvisible && 'advanced-cropper-stencil-grid--visible',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{nodes}\n\t\t</div>\n\t);\n};\n","import React, { FC, forwardRef, useImperativeHandle } from 'react';\nimport cn from 'classnames';\nimport {\n\tCardinalDirection,\n\tOrdinalDirection,\n\tCropperTransitions,\n\tCropperState,\n\tMoveDirections,\n\tResizeOptions,\n\tgetStencilCoordinates,\n\tCropperInteractions,\n\tResizeAnchor,\n\tisFunction,\n\tCoordinates,\n\tRawAspectRatio,\n\tcreateAspectRatio,\n} from 'advanced-cropper';\nimport { SimpleLine } from '../lines/SimpleLine';\nimport { SimpleHandler } from '../handlers/SimpleHandler';\nimport { BoundingBox } from '../service/BoundingBox';\nimport { StencilOverlay } from '../service/StencilOverlay';\nimport { DraggableArea } from '../service/DraggableArea';\nimport { StencilWrapper } from '../service/StencilWrapper';\nimport { StencilGrid } from '../service/StencilGrid';\n\ntype HandlerComponent = FC<any>;\n\ntype LineComponent = FC<any>;\n\ninterface HandlerClassNames extends Partial<Record<OrdinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface LineClassNames extends Partial<Record<CardinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n\tgetTransitions: () => CropperTransitions;\n\tgetInteractions: () => CropperInteractions;\n\thasInteractions: () => boolean;\n\tresizeCoordinates: (anchor: ResizeAnchor, directions: Partial<MoveDirections>, parameters: unknown) => void;\n\tresizeCoordinatesEnd: () => void;\n\tmoveCoordinates: (directions: Partial<MoveDirections>) => void;\n\tmoveCoordinatesEnd: () => void;\n}\n\ninterface Props {\n\tcropper: DesiredCropperRef;\n\tcoordinates?: Coordinates | ((state: CropperState | null) => Coordinates);\n\thandlerComponent?: HandlerComponent;\n\thandlers?: Partial<Record<OrdinalDirection, boolean>>;\n\thandlerClassNames?: HandlerClassNames;\n\thandlerWrapperClassNames?: HandlerClassNames;\n\tlines?: Partial<Record<CardinalDirection, boolean>>;\n\tlineComponent?: LineComponent;\n\tlineClassNames?: LineClassNames;\n\tlineWrapperClassNames?: LineClassNames;\n\tclassName?: string;\n\tmovingClassName?: string;\n\tresizingClassName?: string;\n\tgridClassName?: string;\n\tpreviewClassName?: string;\n\tboundingBoxClassName?: string;\n\toverlayClassName?: string;\n\tdraggableAreaClassName?: string;\n\tminAspectRatio?: number;\n\tmaxAspectRatio?: number;\n\taspectRatio?: RawAspectRatio;\n\tmovable?: boolean;\n\tresizable?: boolean;\n\tgrid?: boolean;\n\tdisabled?: boolean;\n}\n\ninterface Methods {\n\taspectRatio: RawAspectRatio;\n}\n\nexport const RectangleStencil = forwardRef<Methods, Props>(\n\t(\n\t\t{\n\t\t\tcropper,\n\t\t\tcoordinates,\n\t\t\taspectRatio,\n\t\t\tminAspectRatio,\n\t\t\tmaxAspectRatio,\n\t\t\thandlerComponent = SimpleHandler,\n\t\t\thandlers = {\n\t\t\t\teastNorth: true,\n\t\t\t\tnorth: true,\n\t\t\t\twestNorth: true,\n\t\t\t\twest: true,\n\t\t\t\twestSouth: true,\n\t\t\t\tsouth: true,\n\t\t\t\teastSouth: true,\n\t\t\t\teast: true,\n\t\t\t},\n\t\t\thandlerClassNames = {},\n\t\t\thandlerWrapperClassNames = {},\n\t\t\tlines = {\n\t\t\t\twest: true,\n\t\t\t\tnorth: true,\n\t\t\t\teast: true,\n\t\t\t\tsouth: true,\n\t\t\t},\n\t\t\tlineComponent = SimpleLine,\n\t\t\tlineClassNames = {},\n\t\t\tlineWrapperClassNames = {},\n\t\t\tresizable = true,\n\t\t\tmovable = true,\n\t\t\tgrid,\n\t\t\tgridClassName,\n\t\t\tclassName,\n\t\t\tmovingClassName,\n\t\t\tresizingClassName,\n\t\t\tpreviewClassName,\n\t\t\tboundingBoxClassName,\n\t\t\toverlayClassName,\n\t\t\tdraggableAreaClassName,\n\t\t\tdisabled,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst state = cropper.getState();\n\t\tconst transitions = cropper.getTransitions();\n\t\tconst interactions = cropper.getInteractions();\n\n\t\tconst resizeAllowed = resizable && !disabled;\n\t\tconst moveAllowed = movable && !disabled;\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\taspectRatio: createAspectRatio(\n\t\t\t\taspectRatio || {\n\t\t\t\t\tminimum: minAspectRatio,\n\t\t\t\t\tmaximum: maxAspectRatio,\n\t\t\t\t},\n\t\t\t),\n\t\t}));\n\n\t\tconst onMove = (directions: MoveDirections) => {\n\t\t\tif (cropper && moveAllowed) {\n\t\t\t\tcropper.moveCoordinates(directions);\n\t\t\t}\n\t\t};\n\n\t\tconst onMoveEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.moveCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst onResize = (anchor: ResizeAnchor, directions: MoveDirections, options: ResizeOptions) => {\n\t\t\tif (cropper && resizeAllowed) {\n\t\t\t\tcropper.resizeCoordinates(anchor, directions, options);\n\t\t\t}\n\t\t};\n\n\t\tconst onResizeEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.resizeCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst { width, height, left, top } = coordinates\n\t\t\t? isFunction(coordinates)\n\t\t\t\t? coordinates(state)\n\t\t\t\t: coordinates\n\t\t\t: getStencilCoordinates(state);\n\n\t\treturn (\n\t\t\tstate && (\n\t\t\t\t<StencilWrapper\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'advanced-cropper-rectangle-stencil',\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tinteractions.moveCoordinates && movingClassName,\n\t\t\t\t\t\tinteractions.resizeCoordinates && resizingClassName,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'advanced-cropper-rectangle-stencil--movable': moveAllowed,\n\t\t\t\t\t\t\t'advanced-cropper-rectangle-stencil--moving': interactions.moveCoordinates,\n\t\t\t\t\t\t\t'advanced-cropper-rectangle-stencil--resizable': resizeAllowed,\n\t\t\t\t\t\t\t'advanced-cropper-rectangle-stencil--resizing': interactions.resizeCoordinates,\n\t\t\t\t\t\t\t'advanced-cropper-rectangle-stencil--disabled': disabled,\n\t\t\t\t\t\t},\n\t\t\t\t\t)}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tleft={left}\n\t\t\t\t\ttop={top}\n\t\t\t\t\ttransitions={transitions}\n\t\t\t\t>\n\t\t\t\t\t<BoundingBox\n\t\t\t\t\t\treference={state.coordinates}\n\t\t\t\t\t\tclassName={cn(boundingBoxClassName, 'advanced-cropper-rectangle-stencil__bounding-box')}\n\t\t\t\t\t\thandlers={handlers}\n\t\t\t\t\t\thandlerComponent={handlerComponent}\n\t\t\t\t\t\thandlerClassNames={handlerClassNames}\n\t\t\t\t\t\thandlerWrapperClassNames={handlerWrapperClassNames}\n\t\t\t\t\t\tlines={lines}\n\t\t\t\t\t\tlineComponent={lineComponent}\n\t\t\t\t\t\tlineClassNames={lineClassNames}\n\t\t\t\t\t\tlineWrapperClassNames={lineWrapperClassNames}\n\t\t\t\t\t\tonResize={onResize}\n\t\t\t\t\t\tonResizeEnd={onResizeEnd}\n\t\t\t\t\t\tdisabled={!resizeAllowed}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DraggableArea\n\t\t\t\t\t\t\tdisabled={!moveAllowed}\n\t\t\t\t\t\t\tonMove={onMove}\n\t\t\t\t\t\t\tonMoveEnd={onMoveEnd}\n\t\t\t\t\t\t\tclassName={cn('advanced-cropper-rectangle-stencil__draggable-area', draggableAreaClassName)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StencilOverlay\n\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-rectangle-stencil__overlay', overlayClassName)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{grid && (\n\t\t\t\t\t\t\t\t\t<StencilGrid\n\t\t\t\t\t\t\t\t\t\tvisible={cropper.hasInteractions()}\n\t\t\t\t\t\t\t\t\t\tcolumns={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\trows={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-rectangle-stencil__grid', gridClassName)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className={cn('advanced-cropper-rectangle-stencil__preview', previewClassName)} />\n\t\t\t\t\t\t\t</StencilOverlay>\n\t\t\t\t\t\t</DraggableArea>\n\t\t\t\t\t</BoundingBox>\n\t\t\t\t</StencilWrapper>\n\t\t\t)\n\t\t);\n\t},\n);\n\nRectangleStencil.displayName = 'RectangleStencil';\n","import { useMemo } from 'react';\nimport { getOptions } from 'advanced-cropper';\nimport { RotateImageOptions } from '../types';\n\ninterface DefinedRotateImageOptions {\n\ttouch: boolean;\n}\n\nexport function useRotateImageOptions(rotateImage: RotateImageOptions | boolean): DefinedRotateImageOptions {\n\treturn useMemo(\n\t\t() =>\n\t\t\tgetOptions(\n\t\t\t\trotateImage,\n\t\t\t\t{\n\t\t\t\t\ttouch: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttouch: false,\n\t\t\t\t},\n\t\t\t),\n\t\t[rotateImage],\n\t);\n}\n","import { useMemo } from 'react';\nimport { getOptions } from 'advanced-cropper';\nimport { ScaleImageOptions } from '../types';\n\ninterface DefinedScaleImageOptions {\n\ttouch: boolean;\n\twheel:\n\t\t| boolean\n\t\t| {\n\t\t\t\tratio: number;\n\t\t  };\n}\n\nexport function useScaleImageOptions(scaleImage: ScaleImageOptions | boolean): DefinedScaleImageOptions {\n\treturn useMemo(\n\t\t() =>\n\t\t\tgetOptions(\n\t\t\t\tscaleImage,\n\t\t\t\t{\n\t\t\t\t\ttouch: true,\n\t\t\t\t\twheel: {\n\t\t\t\t\t\tratio: 0.1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttouch: false,\n\t\t\t\t\twheel: false,\n\t\t\t\t},\n\t\t\t),\n\t\t[scaleImage],\n\t);\n}\n","import { useMemo } from 'react';\nimport { getOptions } from 'advanced-cropper';\nimport { MoveImageOptions } from '../types';\n\ninterface DefinedMoveImageOptions {\n\ttouch: boolean;\n\tmouse: boolean;\n}\n\nexport function useMoveImageOptions(moveImage: MoveImageOptions | boolean): DefinedMoveImageOptions {\n\treturn useMemo(\n\t\t() =>\n\t\t\tgetOptions(\n\t\t\t\tmoveImage,\n\t\t\t\t{\n\t\t\t\t\ttouch: true,\n\t\t\t\t\tmouse: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttouch: false,\n\t\t\t\t\tmouse: false,\n\t\t\t\t},\n\t\t\t),\n\t\t[moveImage],\n\t);\n}\n","import React, { ReactNode, CSSProperties, Component, RefObject, createRef } from 'react';\nimport {\n\tdebounce,\n\tDebouncedFunction,\n\tImageTransform,\n\tPoint,\n\tSimpleTouch,\n\ttouchesToImageTransform,\n\twheelEventToImageTransform,\n} from 'advanced-cropper';\n\ninterface Props {\n\tonTransform?: (transform: ImageTransform) => void;\n\tonTransformEnd?: () => void;\n\tonEvent?: (transformEvent: TransformableImageEvent, nativeEvent: Event) => unknown;\n\tdisabled?: boolean;\n\ttouchMove?: boolean;\n\tmouseMove?: boolean;\n\ttouchScale?: boolean;\n\ttouchRotate?: boolean;\n\twheelScale?:\n\t\t| boolean\n\t\t| {\n\t\t\t\tratio: number;\n\t\t  };\n\ttimeout?: number;\n\tchildren?: ReactNode;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tpreventDefault?: boolean;\n}\n\nexport class TransformableImageEvent {\n\tconstructor({ active }: { active: boolean }) {\n\t\tthis.active = active;\n\t\tthis.defaultPrevented = false;\n\t}\n\tpreventDefault() {\n\t\tthis.defaultPrevented = true;\n\t}\n\tdefaultPrevented: boolean;\n\tactive: boolean;\n}\n\nexport class TransformableImage extends Component<Props> {\n\ttouches: (SimpleTouch & { identifier?: number })[];\n\ttransforming: boolean;\n\tanchor: Point;\n\tcontainer: RefObject<HTMLDivElement>;\n\tdebouncedProcessEnd: DebouncedFunction<TransformableImage['processEnd']>;\n\n\tstatic defaultProps = {\n\t\ttouchMove: true,\n\t\tmouseMove: true,\n\t\ttouchScale: true,\n\t\ttouchRotate: false,\n\t\twheelScale: true,\n\t\ttimeout: 500,\n\t};\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.transforming = false;\n\t\tthis.touches = [];\n\t\tthis.anchor = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t};\n\t\tthis.container = createRef();\n\t\tthis.debouncedProcessEnd = debounce(this.processEnd, props.timeout);\n\t}\n\n\tprocessMove = (newTouches: SimpleTouch[]) => {\n\t\tconst { onTransform, touchScale, touchMove, touchRotate } = this.props;\n\t\tconst container = this.container.current;\n\t\tif (container && onTransform) {\n\t\t\tonTransform(\n\t\t\t\ttouchesToImageTransform(newTouches, this.touches, container, {\n\t\t\t\t\tscale: touchScale,\n\t\t\t\t\trotate: touchRotate,\n\t\t\t\t\tmove: touchMove,\n\t\t\t\t}),\n\t\t\t);\n\t\t\tthis.touches = newTouches;\n\t\t}\n\t};\n\n\tprocessEnd = () => {\n\t\tconst { onTransformEnd } = this.props;\n\t\tif (this.transforming) {\n\t\t\tthis.transforming = false;\n\t\t\tif (onTransformEnd) {\n\t\t\t\tonTransformEnd();\n\t\t\t}\n\t\t}\n\t};\n\n\tprocessStart = () => {\n\t\tthis.transforming = true;\n\t\tthis.debouncedProcessEnd.clear();\n\t};\n\n\tprocessEvent = (nativeEvent: Event) => {\n\t\tconst { onEvent, disabled, preventDefault = true } = this.props;\n\t\tconst transformEvent = new TransformableImageEvent({ active: this.transforming });\n\n\t\tif (onEvent) {\n\t\t\tonEvent(transformEvent, nativeEvent);\n\t\t} else if (preventDefault) {\n\t\t\tnativeEvent.preventDefault();\n\t\t\tnativeEvent.stopPropagation();\n\t\t}\n\n\t\treturn !disabled && !transformEvent.defaultPrevented;\n\t};\n\n\tonWheel = (event: WheelEvent) => {\n\t\tconst { onTransform, wheelScale } = this.props;\n\t\tconst container = this.container.current;\n\n\t\tif (wheelScale) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tthis.processStart();\n\t\t\t\tif (onTransform && container) {\n\t\t\t\t\tonTransform(\n\t\t\t\t\t\twheelEventToImageTransform(event, container, wheelScale === true ? 0.1 : wheelScale.ratio),\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (!this.touches.length) {\n\t\t\t\t\tthis.debouncedProcessEnd();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tonTouchStart = (event: TouchEvent) => {\n\t\tconst { touchMove, touchScale, touchRotate } = this.props;\n\t\tif (event.cancelable && (touchMove || ((touchScale || touchRotate) && event.touches.length > 1))) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tconst container = this.container.current;\n\t\t\t\tif (container) {\n\t\t\t\t\tconst { left, top, bottom, right } = container.getBoundingClientRect();\n\t\t\t\t\tthis.touches = Array.from(event.touches).filter(\n\t\t\t\t\t\t(touch) =>\n\t\t\t\t\t\t\ttouch.clientX > left &&\n\t\t\t\t\t\t\ttouch.clientX < right &&\n\t\t\t\t\t\t\ttouch.clientY > top &&\n\t\t\t\t\t\t\ttouch.clientY < bottom,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tonTouchEnd = (event: TouchEvent) => {\n\t\tif (event.touches.length === 0) {\n\t\t\tthis.touches = [];\n\t\t\tthis.processEnd();\n\t\t}\n\t};\n\n\tonTouchMove = (event: TouchEvent) => {\n\t\tif (this.touches.length) {\n\t\t\tconst touches = [...event.touches].filter(\n\t\t\t\t(touch) =>\n\t\t\t\t\t!touch.identifier ||\n\t\t\t\t\tthis.touches.find((anotherTouch) => anotherTouch.identifier === touch.identifier),\n\t\t\t);\n\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tthis.processMove(touches);\n\t\t\t\tthis.processStart();\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseDown = (event: MouseEvent) => {\n\t\tconst { mouseMove } = this.props;\n\t\tif (mouseMove && 'buttons' in event && event.buttons === 1) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tconst touch = {\n\t\t\t\t\tclientX: event.clientX,\n\t\t\t\t\tclientY: event.clientY,\n\t\t\t\t};\n\t\t\t\tthis.touches = [touch];\n\t\t\t\tthis.processStart();\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseMove = (event: MouseEvent) => {\n\t\tif (this.touches.length) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tthis.processMove([\n\t\t\t\t\t{\n\t\t\t\t\t\tclientX: event.clientX,\n\t\t\t\t\t\tclientY: event.clientY,\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseUp = () => {\n\t\tthis.touches = [];\n\t\tthis.processEnd();\n\t};\n\n\tshouldComponentUpdate(): boolean {\n\t\treturn true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('mouseup', this.onMouseUp);\n\t\twindow.removeEventListener('mousemove', this.onMouseMove);\n\t\twindow.removeEventListener('touchmove', this.onTouchMove);\n\t\twindow.removeEventListener('touchend', this.onTouchEnd);\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\tcontainer.removeEventListener('touchstart', this.onTouchStart);\n\t\t\tcontainer.removeEventListener('mousedown', this.onMouseDown);\n\t\t\tcontainer.removeEventListener('wheel', this.onWheel);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('mouseup', this.onMouseUp, { passive: false });\n\t\twindow.addEventListener('mousemove', this.onMouseMove, { passive: false });\n\t\twindow.addEventListener('touchmove', this.onTouchMove, { passive: false });\n\t\twindow.addEventListener('touchend', this.onTouchEnd, { passive: false });\n\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\t// Add event listeners here due to https://github.com/facebook/react/issues/9809#issuecomment-414072263\n\t\t\tcontainer.addEventListener('touchstart', this.onTouchStart, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t\tcontainer.addEventListener('mousedown', this.onMouseDown, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t\tcontainer.addEventListener('wheel', this.onWheel, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { className, children, style } = this.props;\n\t\treturn (\n\t\t\t<div className={className} style={style} ref={this.container}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { CSSProperties, ReactNode } from 'react';\nimport { CropperTransitions, ImageTransform } from 'advanced-cropper';\nimport { useRotateImageOptions } from '../../hooks/useRotateImageOptions';\nimport { useScaleImageOptions } from '../../hooks/useScaleImageOptions';\nimport { useMoveImageOptions } from '../../hooks/useMoveImageOptions';\nimport { MoveImageOptions, RotateImageOptions, ScaleImageOptions } from '../../types';\nimport { TransformableImage } from './TransformableImage';\n\ninterface DesiredCropperRef {\n\ttransformImage: (transform: ImageTransform) => void;\n\ttransformImageEnd: () => void;\n\tgetTransitions: () => CropperTransitions;\n}\n\nexport interface CropperBackgroundWrapperProps {\n\tcropper: DesiredCropperRef;\n\trotateImage?: boolean | RotateImageOptions;\n\tscaleImage?: boolean | ScaleImageOptions;\n\tmoveImage?: boolean | MoveImageOptions;\n\tchildren?: ReactNode;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\ttimeout?: number;\n\tdisabled?: boolean;\n}\n\nexport const CropperBackgroundWrapper = ({\n\tscaleImage = true,\n\tmoveImage = true,\n\trotateImage = false,\n\tchildren,\n\tclassName,\n\tstyle,\n\tcropper,\n\ttimeout,\n\tdisabled\n}: CropperBackgroundWrapperProps) => {\n\tconst transitions = cropper.getTransitions();\n\n\tconst rotateImageOptions = useRotateImageOptions(rotateImage);\n\tconst scaleImageOptions = useScaleImageOptions(scaleImage);\n\tconst moveImageOptions = useMoveImageOptions(moveImage);\n\n\treturn (\n\t\t<TransformableImage\n\t\t\tclassName={className}\n\t\t\tstyle={style}\n\t\t\tonTransform={cropper.transformImage}\n\t\t\tonTransformEnd={cropper.transformImageEnd}\n\t\t\ttouchMove={moveImageOptions.touch}\n\t\t\tmouseMove={moveImageOptions.mouse}\n\t\t\ttouchScale={scaleImageOptions.touch}\n\t\t\twheelScale={scaleImageOptions.wheel}\n\t\t\ttouchRotate={rotateImageOptions.touch}\n\t\t\tdisabled={transitions.active || disabled}\n\t\t\tpreventDefault={!disabled}\n\t\t\ttimeout={timeout}\n\t\t>\n\t\t\t{children}\n\t\t</TransformableImage>\n\t);\n};\n","import React, { useImperativeHandle, useRef, CSSProperties, Ref } from 'react';\nimport cn from 'classnames';\nimport {\n\tDrawOptions,\n\tDefaultSettings,\n\tdefaultStencilConstraints,\n\tCoreSettings,\n\tCropperImage,\n\tCropperState,\n\tCropperTransitions,\n\tModifierSettings,\n\tInitializeSettings,\n} from 'advanced-cropper';\n\nimport {\n\tCropperBackgroundWrapperComponent,\n\tCropperWrapperComponent,\n\tStencilComponent,\n\tCropperBackgroundComponent,\n\tArbitraryProps,\n\tStencilConstraints,\n\tSettingsExtension,\n\tExtendedSettings,\n\tCustomCropperRef,\n\tCropperBoundaryComponent,\n} from '../types';\nimport { CropperStateHook, CropperInstanceSettings, CropperInstanceSettingsProp } from '../hooks/useCropperInstance';\nimport { createCropper } from '../service/cropper';\nimport { AbstractCropperHookProps, useAbstractCropper } from '../hooks/useAbstractCropper';\nimport { StretchableBoundary } from './service/StretchableBoundary';\nimport { CropperWrapper } from './service/CropperWrapper';\nimport { CropperBackgroundImage } from './service/CropperBackgroundImage';\nimport { CropperCanvas } from './service/CropperCanvas';\nimport { RectangleStencil } from './stencils/RectangleStencil';\nimport { CropperBackgroundWrapper } from './service/CropperBackgroundWrapper';\n\nexport type AbstractCropperSettingsProp<Settings extends CropperInstanceSettings> =\n\tCropperInstanceSettingsProp<Settings>;\n\nexport type AbstractCropperSettings = DefaultSettings & CoreSettings & ModifierSettings & InitializeSettings;\n\nexport interface AbstractCropperRef<Settings extends AbstractCropperSettings = AbstractCropperSettings> {\n\treset: () => void;\n\trefresh: () => void;\n\tclear: () => void;\n\tsetCoordinates: CropperStateHook['setCoordinates'];\n\tsetState: CropperStateHook['setState'];\n\tsetImage: (image: CropperImage) => void;\n\tflipImage: CropperStateHook['flipImage'];\n\tzoomImage: CropperStateHook['zoomImage'];\n\trotateImage: CropperStateHook['rotateImage'];\n\treconcileState: CropperStateHook['reconcileState'];\n\tmoveImage: CropperStateHook['moveImage'];\n\tmoveCoordinates: CropperStateHook['moveCoordinates'];\n\tmoveCoordinatesEnd: CropperStateHook['moveCoordinatesEnd'];\n\tresizeCoordinates: CropperStateHook['resizeCoordinates'];\n\tresizeCoordinatesEnd: CropperStateHook['resizeCoordinatesEnd'];\n\ttransformImage: CropperStateHook['transformImage'];\n\ttransformImageEnd: CropperStateHook['transformImageEnd'];\n\tgetCoordinates: CropperStateHook['getCoordinates'];\n\tgetVisibleArea: CropperStateHook['getVisibleArea'];\n\tgetTransforms: CropperStateHook['getTransforms'];\n\tgetStencilCoordinates: CropperStateHook['getStencilCoordinates'];\n\tgetDefaultState: () => CropperState | null;\n\tgetCanvas: (options?: DrawOptions) => HTMLCanvasElement | null;\n\tgetSettings: () => Settings;\n\tgetImage: () => CropperImage | null;\n\tgetState: () => CropperState | null;\n\tgetTransitions: () => CropperTransitions;\n\tisLoading: () => boolean;\n\tisLoaded: () => boolean;\n}\n\nexport interface AbstractCropperProps<Settings extends AbstractCropperSettings>\n\textends Omit<AbstractCropperHookProps<Settings>, 'settings'> {\n\tbackgroundComponent?: CropperBackgroundComponent;\n\tbackgroundProps?: ArbitraryProps;\n\tbackgroundClassName?: string;\n\tbackgroundWrapperComponent?: CropperBackgroundWrapperComponent;\n\tbackgroundWrapperProps?: ArbitraryProps;\n\tbackgroundWrapperClassName?: string;\n\twrapperComponent?: CropperWrapperComponent;\n\twrapperProps?: ArbitraryProps;\n\tstencilComponent?: StencilComponent;\n\tstencilProps?: ArbitraryProps;\n\tstencilConstraints?: StencilConstraints<AbstractCropperSettingsProp<Settings>>;\n\tclassName?: string;\n\tboundaryComponent?: CropperBoundaryComponent;\n\tboundaryProps?: ArbitraryProps;\n\tboundaryClassName?: string;\n\tstyle?: CSSProperties;\n\tsettings: CropperInstanceSettingsProp<Settings>;\n\tdisabled?: boolean;\n}\n\nexport type AbstractCropperIntrinsicProps<Settings extends AbstractCropperSettings> = Omit<\n\tAbstractCropperProps<Settings>,\n\t'settings'\n>;\n\nconst AbstractCropperComponent = <Extension extends SettingsExtension = {}>(\n\tprops: AbstractCropperProps<ExtendedSettings<Extension>>,\n\tref: Ref<CustomCropperRef<Extension>>,\n) => {\n\tconst {\n\t\tstyle,\n\t\tclassName,\n\t\tstencilComponent = RectangleStencil,\n\t\tstencilConstraints = defaultStencilConstraints,\n\t\tstencilProps = {},\n\t\twrapperComponent = CropperWrapper,\n\t\twrapperProps = {},\n\t\tbackgroundComponent = CropperBackgroundImage,\n\t\tbackgroundProps = {},\n\t\tbackgroundClassName,\n\t\tbackgroundWrapperComponent = CropperBackgroundWrapper,\n\t\tbackgroundWrapperProps = {},\n\t\tboundaryComponent = StretchableBoundary,\n\t\tboundaryProps,\n\t\tboundaryClassName,\n\t\tcanvas = true,\n\t\tcrossOrigin = true,\n\t\tdisabled,\n\t\tsettings,\n\t\t...parameters\n\t} = props;\n\n\tconst stencilRef = useRef<StencilComponent>(null);\n\n\tconst { cropper, image, refs } = useAbstractCropper(() => ({\n\t\t...parameters,\n\t\tcrossOrigin,\n\t\tstencilProps,\n\t\tcanvas,\n\t\tsettings: {\n\t\t\t...settings,\n\t\t\t...stencilConstraints(settings, {\n\t\t\t\t...stencilProps,\n\t\t\t\t...stencilRef.current,\n\t\t\t}),\n\t\t},\n\t}));\n\n\tconst StencilComponent = stencilComponent;\n\n\tconst WrapperComponent = wrapperComponent;\n\n\tconst BackgroundWrapperComponent = backgroundWrapperComponent;\n\n\tconst BackgroundComponent = backgroundComponent;\n\n\tconst BoundaryComponent = boundaryComponent;\n\n\tuseImperativeHandle(ref, () => cropper);\n\n\tconst deprecatedWrapperProps = {\n\t\tloading: cropper.isLoading(),\n\t\tloaded: cropper.isLoaded(),\n\t};\n\n\treturn (\n\t\t<WrapperComponent\n\t\t\t{...wrapperProps}\n\t\t\tdisabled={disabled}\n\t\t\tclassName={cn('advanced-cropper', className)}\n\t\t\tcropper={cropper}\n\t\t\tstyle={style}\n\t\t\t{...deprecatedWrapperProps}\n\t\t>\n\t\t\t<BoundaryComponent\n\t\t\t\t{...boundaryProps}\n\t\t\t\tref={refs.boundary}\n\t\t\t\tclassName={cn('advanced-cropper__boundary', boundaryClassName)}\n\t\t\t>\n\t\t\t\t<BackgroundWrapperComponent\n\t\t\t\t\t{...backgroundWrapperProps}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tcropper={cropper}\n\t\t\t\t\tclassName={'advanced-cropper__background-wrapper'}\n\t\t\t\t>\n\t\t\t\t\t{cropper.getState() && (\n\t\t\t\t\t\t<BackgroundComponent\n\t\t\t\t\t\t\t{...backgroundProps}\n\t\t\t\t\t\t\tref={refs.image}\n\t\t\t\t\t\t\tcrossOrigin={crossOrigin}\n\t\t\t\t\t\t\tcropper={cropper}\n\t\t\t\t\t\t\tclassName={cn('advanced-cropper__background', backgroundClassName)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<StencilComponent {...stencilProps} disabled={disabled} ref={stencilRef} cropper={cropper} image={image} />\n\t\t\t\t</BackgroundWrapperComponent>\n\t\t\t\t{canvas && <CropperCanvas ref={refs.canvas} />}\n\t\t\t</BoundaryComponent>\n\t\t</WrapperComponent>\n\t);\n};\n\nexport const AbstractCropper = createCropper(AbstractCropperComponent);\n","export const defaultSettings = [\n\t'transformImage',\n\t'moveCoordinates',\n\t'resizeCoordinates',\n\t'defaultCoordinates',\n\t'defaultVisibleArea',\n\t'areaPositionRestrictions',\n\t'areaSizeRestrictions',\n\t'sizeRestrictions',\n\t'positionRestrictions',\n\t'aspectRatio',\n\t'minWidth',\n\t'minHeight',\n\t'maxWidth',\n\t'maxHeight',\n\t'defaultSize',\n\t'defaultPosition',\n\t'defaultTransforms',\n\t'imageRestriction',\n\t'priority',\n];\n","import { ExtendedSettings, SettingsExtension } from '../types';\nimport { AbstractCropperIntrinsicProps } from '../components/AbstractCropper';\nimport { defaultSettings } from '../service/constants';\nimport { CoreSettings, DefaultSettings, ModifierSettings } from '../../../../Advanced Cropper/advanced-cropper/dist';\n\ntype Props<Extension extends SettingsExtension> = AbstractCropperIntrinsicProps<ExtendedSettings<Extension>>;\n\nexport function useAbstractCropperProps<Extension extends SettingsExtension>(\n\tprops: Props<Extension>,\n\tsettings: string[] = defaultSettings,\n) {\n\tconst result: any = { settings: {}, props: {} };\n\n\t(Object.keys(props) as (keyof typeof props)[]).forEach((key) => {\n\t\tif (settings.some((setting) => setting === key)) {\n\t\t\tresult.settings[key] = props[key];\n\t\t} else {\n\t\t\tresult.props[key] = props[key];\n\t\t}\n\t});\n\n\treturn result as {\n\t\tsettings: Extension & Partial<DefaultSettings & CoreSettings & ModifierSettings>;\n\t\tprops: Props<Extension>;\n\t};\n}\n","import React, { forwardRef, Ref } from 'react';\nimport {\n\tdefaultSize,\n\tsizeRestrictions,\n\taspectRatio,\n\tfixedStencil,\n\tStencilSize,\n\tfixedStencilConstraints,\n} from 'advanced-cropper/extensions/stencil-size';\nimport { withDefaultSizeRestrictions } from 'advanced-cropper/defaults';\nimport { CustomCropperProps, CustomCropperRef } from '../../types';\nimport { AbstractCropper } from '../AbstractCropper';\nimport { useAbstractCropperProps } from '../../hooks/useAbstractCropperProps';\nimport { defaultSettings } from '../../service/constants';\n\ntype UnavailableProps = 'sizeRestrictions' | 'aspectRatio';\n\nexport interface FixedCropperSettings {\n\tstencilSize: StencilSize<this>;\n}\n\nexport type FixedCropperProps = Omit<CustomCropperProps<FixedCropperSettings>, UnavailableProps>;\n\nexport type FixedCropperRef = CustomCropperRef<FixedCropperSettings>;\n\nexport const FixedCropper = forwardRef((props: FixedCropperProps, ref?: Ref<FixedCropperRef>) => {\n\tconst cropperProps = useAbstractCropperProps(props, [...defaultSettings, 'stencilSize']);\n\treturn (\n\t\t<AbstractCropper<FixedCropperSettings>\n\t\t\tpostProcess={fixedStencil}\n\t\t\tstencilConstraints={fixedStencilConstraints}\n\t\t\t{...cropperProps.props}\n\t\t\tsettings={{\n\t\t\t\tdefaultSize,\n\t\t\t\taspectRatio,\n\t\t\t\tsizeRestrictions: withDefaultSizeRestrictions(sizeRestrictions),\n\t\t\t\t...cropperProps.settings,\n\t\t\t\ttransformImage: {\n\t\t\t\t\t...cropperProps.settings.transformImage,\n\t\t\t\t\tadjustStencil: false,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tref={ref}\n\t\t/>\n\t);\n});\n\nFixedCropper.displayName = 'FixedCropper';\n","import React, { forwardRef, Ref } from 'react';\nimport { isUndefined } from 'advanced-cropper';\nimport { StencilSize } from 'advanced-cropper/extensions/stencil-size';\nimport { CustomCropperProps, CustomCropperRef, ExtendedSettings, SettingsExtension } from '../../types';\nimport { hybridStencilAutoZoom } from '../../deprecated/hybridAutoZoom';\nimport { useDeprecationWarning } from '../../hooks/useDeprecationWarning';\nimport { AbstractCropper, AbstractCropperIntrinsicProps } from '../AbstractCropper';\nimport { useAbstractCropperProps } from '../../hooks/useAbstractCropperProps';\nimport { FixedCropper, FixedCropperRef, FixedCropperSettings } from './FixedCropper';\n\ninterface DeprecatedCropperSettings {\n\tstencilSize?: StencilSize;\n\tautoZoom?: boolean;\n}\n\nexport type CropperProps<Extension extends SettingsExtension = {}> = CustomCropperProps<Extension>;\n\nexport type CropperRef<Extension extends SettingsExtension = {}> = CustomCropperRef<Extension>;\n\nexport const Cropper = forwardRef((props: CropperProps, ref?: Ref<CropperRef>) => {\n\tconst cropperProps = useAbstractCropperProps(props);\n\n\tconst intrinsicProps = cropperProps.props;\n\n\t// Process the deprecated properties\n\tconst { stencilSize, autoZoom, ...actualSettings } = cropperProps.settings as DeprecatedCropperSettings;\n\n\tconst deprecationWarning = useDeprecationWarning();\n\n\tif (!isUndefined(autoZoom)) {\n\t\tif (intrinsicProps.postProcess || stencilSize) {\n\t\t\tdeprecationWarning(\n\t\t\t\t`prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function.`,\n\t\t\t);\n\t\t} else {\n\t\t\tdeprecationWarning(\n\t\t\t\t`prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function. The 'postProcess' automatically set to 'hybridAutoZoom'`,\n\t\t\t);\n\t\t\tintrinsicProps.postProcess = hybridStencilAutoZoom;\n\t\t}\n\t}\n\n\tif (!isUndefined(stencilSize)) {\n\t\tdeprecationWarning(\n\t\t\t`prop 'stencilSize' is deprecated for <Cropper/> component now and will be removed, use <FixedCropper/> component instead.`,\n\t\t);\n\t\treturn (\n\t\t\t<FixedCropper\n\t\t\t\tref={ref as Ref<FixedCropperRef>}\n\t\t\t\tstencilSize={stencilSize}\n\t\t\t\t{...actualSettings}\n\t\t\t\t{...(intrinsicProps as AbstractCropperIntrinsicProps<ExtendedSettings<FixedCropperSettings>>)}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <AbstractCropper {...intrinsicProps} ref={ref} settings={actualSettings} />;\n});\n\nCropper.displayName = 'CropperComponent';\n","import React, { ComponentType, forwardRef, useImperativeHandle } from 'react';\nimport cn from 'classnames';\nimport {\n\tCardinalDirection,\n\tOrdinalDirection,\n\tCropperTransitions,\n\tCropperState,\n\tMoveDirections,\n\tResizeOptions,\n\tgetStencilCoordinates,\n\tCropperInteractions,\n\tResizeAnchor,\n\tisFunction,\n\tCoordinates,\n\tRawAspectRatio,\n} from 'advanced-cropper';\nimport { SimpleLine } from '../lines/SimpleLine';\nimport { SimpleHandler } from '../handlers/SimpleHandler';\nimport { BoundingBox } from '../service/BoundingBox';\nimport { StencilOverlay } from '../service/StencilOverlay';\nimport { DraggableArea } from '../service/DraggableArea';\nimport { StencilWrapper } from '../service/StencilWrapper';\nimport { StencilGrid } from '../service/StencilGrid';\n\ntype HandlerComponent = ComponentType<any>;\n\ntype LineComponent = ComponentType<any>;\n\ninterface HandlerClassNames extends Partial<Record<OrdinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface LineClassNames extends Partial<Record<CardinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n\tgetTransitions: () => CropperTransitions;\n\tgetInteractions: () => CropperInteractions;\n\thasInteractions: () => boolean;\n\tresizeCoordinates: (anchor: ResizeAnchor, directions: Partial<MoveDirections>, parameters: unknown) => void;\n\tresizeCoordinatesEnd: () => void;\n\tmoveCoordinates: (directions: Partial<MoveDirections>) => void;\n\tmoveCoordinatesEnd: () => void;\n}\n\ninterface Props {\n\tcropper: DesiredCropperRef;\n\tcoordinates?: Coordinates | ((state: CropperState | null) => Coordinates);\n\thandlerComponent?: HandlerComponent;\n\thandlers?: Partial<Record<OrdinalDirection, boolean>>;\n\thandlerClassNames?: HandlerClassNames;\n\thandlerWrapperClassNames?: HandlerClassNames;\n\tlines?: Partial<Record<CardinalDirection, boolean>>;\n\tlineComponent?: LineComponent;\n\tlineClassNames?: LineClassNames;\n\tlineWrapperClassNames?: LineClassNames;\n\tclassName?: string;\n\tmovingClassName?: string;\n\tresizingClassName?: string;\n\tgridClassName?: string;\n\tpreviewClassName?: string;\n\tboundingBoxClassName?: string;\n\toverlayClassName?: string;\n\tdraggableAreaClassName?: string;\n\tmovable?: boolean;\n\tresizable?: boolean;\n\tdisabled?: boolean;\n\tgrid?: boolean;\n}\n\ninterface Methods {\n\taspectRatio: RawAspectRatio;\n}\n\nexport const CircleStencil = forwardRef<Methods, Props>(\n\t(\n\t\t{\n\t\t\tcropper,\n\t\t\tcoordinates,\n\t\t\thandlerComponent = SimpleHandler,\n\t\t\thandlers = {\n\t\t\t\teastNorth: true,\n\t\t\t\twestNorth: true,\n\t\t\t\twestSouth: true,\n\t\t\t\teastSouth: true,\n\t\t\t},\n\t\t\thandlerClassNames = {},\n\t\t\thandlerWrapperClassNames = {},\n\t\t\tlines = {\n\t\t\t\twest: true,\n\t\t\t\tnorth: true,\n\t\t\t\teast: true,\n\t\t\t\tsouth: true,\n\t\t\t},\n\t\t\tlineComponent = SimpleLine,\n\t\t\tlineClassNames = {},\n\t\t\tlineWrapperClassNames = {},\n\t\t\tresizable = true,\n\t\t\tmovable = true,\n\t\t\tgrid,\n\t\t\tgridClassName,\n\t\t\tclassName,\n\t\t\tmovingClassName,\n\t\t\tresizingClassName,\n\t\t\tpreviewClassName,\n\t\t\tboundingBoxClassName,\n\t\t\toverlayClassName,\n\t\t\tdraggableAreaClassName,\n\t\t\tdisabled,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst state = cropper.getState();\n\t\tconst transitions = cropper.getTransitions();\n\t\tconst interactions = cropper.getInteractions();\n\n\t\tconst resizeAllowed = resizable && !disabled;\n\t\tconst moveAllowed = movable && !disabled;\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\taspectRatio: 1,\n\t\t\tboundingBox: 'circle',\n\t\t}));\n\n\t\tconst onMove = (directions: MoveDirections) => {\n\t\t\tif (cropper && moveAllowed) {\n\t\t\t\tcropper.moveCoordinates(directions);\n\t\t\t}\n\t\t};\n\n\t\tconst onMoveEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.moveCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst onResize = (anchor: ResizeAnchor, directions: MoveDirections, options: ResizeOptions) => {\n\t\t\tif (cropper && resizeAllowed) {\n\t\t\t\tcropper.resizeCoordinates(anchor, directions, options);\n\t\t\t}\n\t\t};\n\n\t\tconst onResizeEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.resizeCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst { width, height, left, top } = coordinates\n\t\t\t? isFunction(coordinates)\n\t\t\t\t? coordinates(state)\n\t\t\t\t: coordinates\n\t\t\t: getStencilCoordinates(state);\n\n\t\treturn (\n\t\t\tstate && (\n\t\t\t\t<StencilWrapper\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'advanced-cropper-circle-stencil',\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tinteractions.moveCoordinates && movingClassName,\n\t\t\t\t\t\tinteractions.resizeCoordinates && resizingClassName,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'advanced-cropper-circle-stencil--movable': moveAllowed,\n\t\t\t\t\t\t\t'advanced-cropper-circle-stencil--moving': interactions.moveCoordinates,\n\t\t\t\t\t\t\t'advanced-cropper-circle-stencil--resizable': resizeAllowed,\n\t\t\t\t\t\t\t'advanced-cropper-circle-stencil--resizing': interactions.resizeCoordinates,\n\t\t\t\t\t\t\t'advanced-cropper-circle-stencil--disabled': disabled,\n\t\t\t\t\t\t},\n\t\t\t\t\t)}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tleft={left}\n\t\t\t\t\ttop={top}\n\t\t\t\t\ttransitions={transitions}\n\t\t\t\t>\n\t\t\t\t\t<BoundingBox\n\t\t\t\t\t\treference={state.coordinates}\n\t\t\t\t\t\tclassName={cn(boundingBoxClassName, 'advanced-cropper-circle-stencil__bounding-box')}\n\t\t\t\t\t\thandlers={handlers}\n\t\t\t\t\t\thandlerComponent={handlerComponent}\n\t\t\t\t\t\thandlerClassNames={handlerClassNames}\n\t\t\t\t\t\thandlerWrapperClassNames={handlerWrapperClassNames}\n\t\t\t\t\t\tlines={lines}\n\t\t\t\t\t\tlineComponent={lineComponent}\n\t\t\t\t\t\tlineClassNames={lineClassNames}\n\t\t\t\t\t\tlineWrapperClassNames={lineWrapperClassNames}\n\t\t\t\t\t\tonResize={onResize}\n\t\t\t\t\t\tonResizeEnd={onResizeEnd}\n\t\t\t\t\t\tdisabled={!resizeAllowed}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DraggableArea\n\t\t\t\t\t\t\tdisabled={!moveAllowed}\n\t\t\t\t\t\t\tonMove={onMove}\n\t\t\t\t\t\t\tonMoveEnd={onMoveEnd}\n\t\t\t\t\t\t\tclassName={cn('advanced-cropper-circle-stencil__draggable-area', draggableAreaClassName)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StencilOverlay\n\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-circle-stencil__overlay', overlayClassName)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{grid && (\n\t\t\t\t\t\t\t\t\t<StencilGrid\n\t\t\t\t\t\t\t\t\t\tvisible={cropper.hasInteractions()}\n\t\t\t\t\t\t\t\t\t\tcolumns={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\trows={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-circle-stencil__grid', gridClassName)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className={cn('advanced-cropper-circle-stencil__preview', previewClassName)} />\n\t\t\t\t\t\t\t</StencilOverlay>\n\t\t\t\t\t\t</DraggableArea>\n\t\t\t\t\t</BoundingBox>\n\t\t\t\t</StencilWrapper>\n\t\t\t)\n\t\t);\n\t},\n);\n\nCircleStencil.displayName = 'CircleStencil';\n","import React, { forwardRef, HTMLAttributes, RefObject } from 'react';\nimport cn from 'classnames';\n\ninterface Props extends HTMLAttributes<HTMLImageElement> {\n\tsrc?: string | null;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n}\n\nexport const CropperSource = forwardRef<HTMLImageElement, Props>(\n\t({ src, crossOrigin = true, ...props }: Props, ref) => {\n\t\treturn src ? (\n\t\t\t<img\n\t\t\t\tkey={src}\n\t\t\t\tref={ref as RefObject<HTMLImageElement>}\n\t\t\t\tsrc={src}\n\t\t\t\tclassName={cn('advanced-cropper-source')}\n\t\t\t\tcrossOrigin={crossOrigin === true ? 'anonymous' : crossOrigin || undefined}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t) : null;\n\t},\n);\n\nCropperSource.displayName = 'CropperSource';\n","import React, { CSSProperties, FC, ReactNode } from 'react';\nimport cn from 'classnames';\nimport { CropperFade } from '../service/CropperFade';\n\ninterface DesiredCropperRef {\n\tisLoaded: () => boolean;\n}\n\nexport interface CropperPreviewWrapperProps {\n\tcropper?: DesiredCropperRef;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tchildren?: ReactNode;\n}\n\nexport const CropperPreviewWrapper: FC<CropperPreviewWrapperProps> = ({ children, cropper, className, style }) => {\n\treturn (\n\t\t<div className={cn(className, 'cropper-preview-wrapper')} style={style}>\n\t\t\t<CropperFade visible={cropper?.isLoaded()} className={'cropper-preview-wrapper__fade'}>\n\t\t\t\t{children}\n\t\t\t</CropperFade>\n\t\t</div>\n\t);\n};\n","import React, { CSSProperties } from 'react';\nimport cn from 'classnames';\nimport { CropperTransitions, CropperImage, CropperState, Size, getPreviewStyle } from 'advanced-cropper';\nimport { preventDefault } from '../../service/events';\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n\tgetTransitions: () => CropperTransitions;\n\tgetImage: () => CropperImage | null;\n}\n\nexport interface CropperPreviewBackgroundProps {\n\tclassName?: string;\n\tcropper: DesiredCropperRef;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n\tsize?: Size | null;\n\tstyle?: CSSProperties;\n}\n\nexport const CropperPreviewBackground = ({\n\tclassName,\n\tcropper,\n\tcrossOrigin = true,\n\tsize,\n\tstyle,\n}: CropperPreviewBackgroundProps) => {\n\tconst state = cropper.getState();\n\tconst transitions = cropper.getTransitions();\n\tconst image = cropper.getImage();\n\n\tconst transformStyles = size && image && state?.coordinates ? getPreviewStyle(image, state, size, transitions) : {};\n\n\tconst src = image ? image.src : undefined;\n\n\treturn src ? (\n\t\t<img\n\t\t\tkey={src}\n\t\t\tclassName={cn('advanced-cropper-background-image', className)}\n\t\t\tsrc={src}\n\t\t\tcrossOrigin={crossOrigin === true ? 'anonymous' : crossOrigin || undefined}\n\t\t\tstyle={{\n\t\t\t\t...transformStyles,\n\t\t\t\t...style,\n\t\t\t}}\n\t\t\tonMouseDown={preventDefault}\n\t\t/>\n\t) : null;\n};\n","import React, {\n\tRefObject,\n\tComponentType,\n\tCSSProperties,\n\tforwardRef,\n\tuseImperativeHandle,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseState,\n} from 'react';\nimport cn from 'classnames';\nimport {\n\tCropperImage,\n\tCropperState,\n\tCropperTransitions,\n\tSize,\n\tratio,\n\tisGreater,\n\tstretchPreviewBoundary,\n} from 'advanced-cropper';\nimport { StretchableBoundary, StretchableBoundaryMethods } from '../service/StretchableBoundary';\nimport { useWindowResize } from '../../hooks/useWindowResize';\nimport { ArbitraryProps, CropperBoundaryComponent } from '../../types';\nimport { useForceRerender } from '../../hooks/useForceRerender';\nimport { CropperPreviewWrapper } from './CropperPreviewWrapper';\nimport { CropperPreviewBackground } from './CropperPreviewBackground';\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n\tgetImage: () => CropperImage | null;\n\tgetTransitions: () => CropperTransitions;\n\tisLoading: () => boolean;\n\tisLoaded: () => boolean;\n}\n\nexport interface CropperPreviewRef {\n\trefresh: () => void;\n\tupdate: (cropper?: DesiredCropperRef) => void;\n}\n\ntype PreviewWrapperComponent = ComponentType<{\n\tcropper: any;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tloading?: boolean;\n\tloaded?: boolean;\n}>;\n\ntype PreviewBackgroundComponent = ComponentType<{\n\tcropper: any;\n\tsize: Size | null;\n\tclassName?: string;\n}>;\n\ninterface Props {\n\tstate?: CropperState | null;\n\timage?: CropperImage | null;\n\ttransitions?: CropperTransitions | null;\n\tloading?: boolean;\n\tloaded?: boolean;\n\tclassName?: string;\n\tcontentClassName?: string;\n\tbackgroundClassName?: string;\n\tbackgroundComponent?: PreviewBackgroundComponent;\n\tbackgroundProps?: ArbitraryProps;\n\tboundaryComponent?: CropperBoundaryComponent;\n\tboundaryProps?: ArbitraryProps;\n\tboundaryClassName?: string;\n\twrapperComponent?: PreviewWrapperComponent;\n\twrapperProps?: ArbitraryProps;\n\tstyle?: CSSProperties;\n\tcropper?: RefObject<DesiredCropperRef | null>;\n}\n\nexport const CropperPreview = forwardRef<CropperPreviewRef, Props>(\n\t(\n\t\t{\n\t\t\tclassName,\n\t\t\tcontentClassName,\n\t\t\tstate = null,\n\t\t\timage = null,\n\t\t\ttransitions = null,\n\t\t\tbackgroundComponent = CropperPreviewBackground,\n\t\t\tbackgroundProps,\n\t\t\tbackgroundClassName,\n\t\t\tboundaryComponent = StretchableBoundary,\n\t\t\tboundaryProps,\n\t\t\tboundaryClassName,\n\t\t\twrapperComponent = CropperPreviewWrapper,\n\t\t\twrapperProps,\n\t\t\tloaded = true,\n\t\t\tloading = false,\n\t\t\tstyle,\n\t\t\tcropper,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst rerender = useForceRerender();\n\n\t\tconst boundaryRef = useRef<StretchableBoundaryMethods>(null);\n\n\t\tconst internalInstance = useRef<DesiredCropperRef | null>(null);\n\n\t\tconst instance = cropper || (internalInstance.current ? internalInstance : {\n\t\t\tcurrent: {\n\t\t\t\tgetState: () => state,\n\t\t\t\tgetTransitions: () => transitions,\n\t\t\t\tgetImage: () => image,\n\t\t\t\tisLoaded: () => loaded,\n\t\t\t\tisLoading: () => loading,\n\t\t\t},\n\t\t});\n\n\t\tconst [size, setSize] = useState<Size | null>(null);\n\n\t\tconst coordinates = instance.current?.getState()?.coordinates;\n\n\t\tconst src = instance.current?.getImage()?.src;\n\n\t\tconst contentStyle = size\n\t\t\t? {\n\t\t\t\t\twidth: `${size.width}px`,\n\t\t\t\t\theight: `${size.height}px`,\n\t\t\t  }\n\t\t\t: {};\n\n\t\tconst refresh = () => {\n\t\t\tconst coordinates = instance.current?.getState()?.coordinates;\n\t\t\tif (boundaryRef.current && coordinates) {\n\t\t\t\tboundaryRef.current.stretchTo(coordinates).then((size) => {\n\t\t\t\t\tif (size && coordinates) {\n\t\t\t\t\t\tif (isGreater(ratio(coordinates), ratio(size))) {\n\t\t\t\t\t\t\tsetSize({\n\t\t\t\t\t\t\t\twidth: size.width,\n\t\t\t\t\t\t\t\theight: size.width / ratio(coordinates),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetSize({\n\t\t\t\t\t\t\t\twidth: size.height * ratio(coordinates),\n\t\t\t\t\t\t\t\theight: size.height,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetSize(null);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\trerender();\n\t\t};\n\n\t\tuseWindowResize(refresh);\n\n\t\tuseLayoutEffect(refresh, [coordinates?.height, coordinates?.width]);\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\trefresh,\n\t\t\tupdate(cropper?: DesiredCropperRef) {\n\t\t\t\tif (cropper) {\n\t\t\t\t\tinternalInstance.current = cropper;\n\t\t\t\t} else {\n\t\t\t\t\tinternalInstance.current = null;\n\t\t\t\t}\n\t\t\t\trefresh();\n\t\t\t}\n\t\t}));\n\n\t\tconst WrapperComponent = wrapperComponent;\n\n\t\tconst BackgroundComponent = backgroundComponent;\n\n\t\tconst BoundaryComponent = boundaryComponent;\n\n\t\treturn (\n\t\t\t<WrapperComponent\n\t\t\t\t{...wrapperProps}\n\t\t\t\tclassName={cn(className, 'advanced-cropper-preview')}\n\t\t\t\tcropper={instance.current}\n\t\t\t\tstyle={style}\n\t\t\t>\n\t\t\t\t<BoundaryComponent\n\t\t\t\t\tref={boundaryRef}\n\t\t\t\t\tstretchAlgorithm={stretchPreviewBoundary}\n\t\t\t\t\t{...boundaryProps}\n\t\t\t\t\tclassName={cn('advanced-cropper-preview__boundary', boundaryClassName)}\n\t\t\t\t>\n\t\t\t\t\t<div className={cn(contentClassName, 'advanced-cropper-preview__content')} style={contentStyle}>\n\t\t\t\t\t\t{instance.current && (\n\t\t\t\t\t\t\t<BackgroundComponent\n\t\t\t\t\t\t\t\t{...backgroundProps}\n\t\t\t\t\t\t\t\tcropper={instance.current}\n\t\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\tbackgroundClassName,\n\t\t\t\t\t\t\t\t\t'advanced-cropper-preview__image',\n\t\t\t\t\t\t\t\t\tsrc && 'advanced-cropper-preview__image--visible',\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</BoundaryComponent>\n\t\t\t</WrapperComponent>\n\t\t);\n\t},\n);\n","import { MutableRefObject, LegacyRef, RefCallback } from 'react';\n\nexport function mergeRefs<T = any>(refs: (MutableRefObject<T> | LegacyRef<T>)[]): RefCallback<T> {\n\treturn (value) => {\n\t\trefs.forEach((ref) => {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(value);\n\t\t\t} else if (ref != null) {\n\t\t\t\t(ref as MutableRefObject<T | null>).current = value;\n\t\t\t}\n\t\t});\n\t};\n}\n","'use client';\r\n\r\nimport { useCallback, useEffect, useRef } from 'react';\r\nimport type { Message } from '@/types/Message';\r\nimport { isVideoFile } from '@/utils/utils';\r\n\r\nconst MESSAGE_SOUND_URL = 'https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3';\r\n\r\nlet globalAudioContext: AudioContext | null = null;\r\n\r\ninterface UseChatNotificationsOptions {\r\n  chatName?: string;\r\n}\r\n\r\nexport function useChatNotifications({ chatName }: UseChatNotificationsOptions) {\r\n  const messageAudioRef = useRef<HTMLAudioElement | null>(null);\r\n  const lastPlayedAtRef = useRef<number>(0);\r\n  const flashingIntervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const flashTabTitle = useCallback(() => {\r\n    if (typeof window === 'undefined') return;\r\n    if (!document.hidden) return; // Chỉ nhấp nháy khi tab đang ẩn\r\n\r\n    if (flashingIntervalRef.current) return; // Đang nhấp nháy rồi thì thôi\r\n\r\n    const originalTitle = document.title;\r\n    let isOriginal = false;\r\n    \r\n    flashingIntervalRef.current = setInterval(() => {\r\n      document.title = isOriginal ? 'Bạn có tin nhắn mới' : originalTitle;\r\n      isOriginal = !isOriginal;\r\n    }, 1000);\r\n\r\n    const stopFlashing = () => {\r\n      if (flashingIntervalRef.current) {\r\n        clearInterval(flashingIntervalRef.current);\r\n        flashingIntervalRef.current = null;\r\n      }\r\n      document.title = originalTitle;\r\n      window.removeEventListener('focus', stopFlashing);\r\n      window.removeEventListener('click', stopFlashing);\r\n    };\r\n\r\n    window.addEventListener('focus', stopFlashing);\r\n    window.addEventListener('click', stopFlashing);\r\n  }, []);\r\n\r\n  const playMessageSound = useCallback(() => {\r\n    if (typeof window === 'undefined') return;\r\n    try {\r\n      const now = Date.now();\r\n      if (now - (lastPlayedAtRef.current || 0) < 400) {\r\n        return;\r\n      }\r\n      if (!messageAudioRef.current) {\r\n        const a = new Audio(MESSAGE_SOUND_URL);\r\n        a.preload = 'auto';\r\n        messageAudioRef.current = a;\r\n      }\r\n      const audio = messageAudioRef.current;\r\n      audio.currentTime = 0;\r\n      void audio.play().catch(() => {\r\n        try {\r\n          const AC = (window as unknown as { AudioContext?: typeof AudioContext; webkitAudioContext?: typeof AudioContext })\r\n            .AudioContext || (window as unknown as { webkitAudioContext?: typeof AudioContext }).webkitAudioContext;\r\n          if (!AC) return;\r\n          \r\n          let ctx = globalAudioContext;\r\n          if (!ctx) {\r\n            ctx = new AC();\r\n            globalAudioContext = ctx;\r\n          }\r\n\r\n          if (ctx.state === 'suspended') {\r\n             void ctx.resume();\r\n          }\r\n\r\n          const gain = ctx.createGain();\r\n          gain.gain.setValueAtTime(0, ctx.currentTime);\r\n          gain.connect(ctx.destination);\r\n\r\n          const osc1 = ctx.createOscillator();\r\n          osc1.type = 'sine';\r\n          osc1.frequency.setValueAtTime(820, ctx.currentTime);\r\n          osc1.frequency.linearRampToValueAtTime(1180, ctx.currentTime + 0.08);\r\n          osc1.connect(gain);\r\n\r\n          const osc2 = ctx.createOscillator();\r\n          osc2.type = 'sine';\r\n          osc2.frequency.setValueAtTime(620, ctx.currentTime + 0.05);\r\n          osc2.frequency.linearRampToValueAtTime(980, ctx.currentTime + 0.12);\r\n          osc2.connect(gain);\r\n\r\n          gain.gain.linearRampToValueAtTime(0.14, ctx.currentTime + 0.02);\r\n          gain.gain.linearRampToValueAtTime(0.0, ctx.currentTime + 0.20);\r\n\r\n          osc1.start(ctx.currentTime);\r\n          osc1.stop(ctx.currentTime + 0.18);\r\n          osc2.start(ctx.currentTime + 0.05);\r\n          try {\r\n            osc2.stop(ctx.currentTime + 0.23);\r\n          } catch {}\r\n          setTimeout(() => {\r\n            try {\r\n              osc1.disconnect();\r\n              osc2.disconnect();\r\n              gain.disconnect();\r\n              // Do NOT close the global context, just disconnect nodes\r\n              // ctx.close(); \r\n            } catch {}\r\n          }, 260);\r\n        } catch {}\r\n      });\r\n      lastPlayedAtRef.current = now;\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }, []);\r\n\r\n  const showMessageNotification = useCallback(\r\n    (msg: Message) => {\r\n      if (typeof window === 'undefined') return;\r\n      if (!('Notification' in window)) return;\r\n\r\n      // Nếu chưa xin quyền, xin ngay lúc nhận tin nhắn\r\n      if (Notification.permission === 'default') {\r\n        Notification.requestPermission().then((permission) => {\r\n          if (permission === 'granted') {\r\n            new Notification(chatName || 'Tin nhắn mới', {\r\n              body:\r\n                msg.content ||\r\n                (msg.type === 'image'\r\n                  ? 'Đã gửi cho bạn một ảnh.'\r\n                  : msg.type === 'video' || isVideoFile(msg.fileName)\r\n                    ? 'Đã gửi cho bạn một video.'\r\n                    : msg.type === 'file'\r\n                      ? 'Đã gửi cho bạn một file.'\r\n                      : 'Bạn có tin nhắn mới.'),\r\n            });\r\n          }\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (Notification.permission !== 'granted') return;\r\n\r\n      const body =\r\n        msg.content ||\r\n        (msg.type === 'image'\r\n          ? 'Đã gửi cho bạn một ảnh.'\r\n          : msg.type === 'video' || isVideoFile(msg.fileName)\r\n            ? 'Đã gửi cho bạn một video.'\r\n            : msg.type === 'file'\r\n              ? 'Đã gửi cho bạn một file.'\r\n              : 'Bạn có tin nhắn mới.');\r\n\r\n      new Notification(chatName || 'Tin nhắn mới', {\r\n        body,\r\n      });\r\n    },\r\n    [chatName],\r\n  );\r\n\r\n  // Xin quyền thông báo 1 lần khi mở cửa sổ chat\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    if (!('Notification' in window)) return;\r\n    if (Notification.permission === 'default') {\r\n      Notification.requestPermission().catch(() => {\r\n        // ignore\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Unlock WebAudio context on user interaction\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const initAudio = () => {\r\n      // 1. Unlock HTML5 Audio (existing logic)\r\n      if (!messageAudioRef.current) {\r\n        const a = new Audio(MESSAGE_SOUND_URL);\r\n        a.preload = 'auto';\r\n        messageAudioRef.current = a;\r\n      }\r\n      const audio = messageAudioRef.current;\r\n      try {\r\n        audio.muted = true;\r\n        audio.currentTime = 0;\r\n        void audio\r\n          .play()\r\n          .then(() => {\r\n            audio.pause();\r\n            audio.muted = false;\r\n            audio.currentTime = 0;\r\n          })\r\n          .catch(() => {\r\n            // ignore\r\n          });\r\n      } catch {\r\n        // ignore\r\n      }\r\n\r\n      // 2. Unlock WebAudio Context (New Logic for Mobile)\r\n      try {\r\n        const AC = (window as unknown as { AudioContext?: typeof AudioContext; webkitAudioContext?: typeof AudioContext })\r\n          .AudioContext || (window as unknown as { webkitAudioContext?: typeof AudioContext }).webkitAudioContext;\r\n        \r\n        if (AC) {\r\n          if (!globalAudioContext) {\r\n            globalAudioContext = new AC();\r\n          }\r\n          const ctx = globalAudioContext;\r\n          if (ctx.state === 'suspended') {\r\n            void ctx.resume();\r\n          }\r\n          // Play a silent buffer to fully unlock iOS/Android\r\n          const buffer = ctx.createBuffer(1, 1, 22050);\r\n          const source = ctx.createBufferSource();\r\n          source.buffer = buffer;\r\n          source.connect(ctx.destination);\r\n          source.start(0);\r\n        }\r\n      } catch {\r\n        // ignore\r\n      }\r\n    };\r\n\r\n    const events = ['click', 'pointerdown', 'touchstart', 'keydown'] as const;\r\n    events.forEach((ev) => window.addEventListener(ev, initAudio, { once: true }));\r\n    return () => {\r\n      events.forEach((ev) => window.removeEventListener(ev, initAudio));\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    playMessageSound,\r\n    showMessageNotification,\r\n    flashTabTitle,\r\n  };\r\n}\r\n\r\n\r\n"],"names":["classnames","DraggableArea","ratio"],"mappings":"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","ignoreList":[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93]}