module.exports=[22437,e=>{"use strict";e.s(["USERS_COLLECTION_NAME",0,"Users"])},70406,(e,t,n)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,n)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},93695,(e,t,n)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},81769,(e,t,n)=>{t.exports=e.x("mongodb",()=>require("mongodb"))},36973,e=>{"use strict";var t=e.i(81769);let n=process.env.MONGODB_URI||"mongodb://localhost:27017/",r=process.env.MONGODB_DB||"hupuna-price",i=null,a=null;async function o(){if(i&&a)return{client:i,db:a};(n.includes("localhost")||n.includes("127.0.0.1"))&&console.error("âŒ ERROR: You are using a localhost MongoDB URI in production. Please set MONGODB_URI in your Vercel project settings to a remote database (e.g., MongoDB Atlas).");let e=new t.MongoClient(n);await e.connect();let o=e.db(r);return i=e,a=o,{client:e,db:o}}e.s(["connectToDatabase",()=>o])},58632,e=>{"use strict";var t=e.i(81769),n=e.i(36973);let r=async(e,{id:r,code:i,_id:a})=>{let{db:o}=await (0,n.connectToDatabase)(),s={};a&&(t.ObjectId.isValid(a)?s._id=new t.ObjectId(a):isNaN(Number(a))||(s._id=Number(a))),r&&(s.id=r),i&&(s.code=i);let l=await o.collection(e).findOne(s);return l?{rowIndex:0,row:l}:null},i=async(e,{search:t,skip:r=0,limit:i,field:a,value:o,filters:s,sort:l,collation:c}={})=>{let{db:d}=await (0,n.connectToDatabase)(),u=d.collection(e),p={};if(a&&void 0!==o&&(p[a]=o),s&&Object.keys(s).length>0){for(let[e,t]of Object.entries(s))if(null!=t){if("$or"===e||"$and"===e||"object"==typeof t&&null!==t&&("$gte"in t||"$lte"in t)||"object"==typeof t&&null!==t&&Object.keys(t).some(e=>["$in","$nin","$gte","$lte","$gt","$lt","$ne"].includes(e))){p[e]=t;continue}if("string"==typeof t&&t.trim().startsWith("#")){p[e]={$regex:t.trim().slice(1),$options:"i"};continue}p[e]=t}}if(t){let e=await u.findOne();if(e){let n=(e,t="")=>{let r=[];for(let[i,a]of Object.entries(e)){let e=t?`${t}.${i}`:i;"string"==typeof a?r.push(e):a&&"object"==typeof a&&!Array.isArray(a)&&(r=r.concat(n(a,e)))}return r},r=n(e);r.length>0&&(p.$or=r.map(e=>({[e]:{$regex:t,$options:"i"}})))}}let y={};l&&(y=(Array.isArray(l)?l:[l]).reduce((e,t)=>(e[t.field]="desc"===t.order?-1:1,e),{}));let b=await u.countDocuments(p,c?{collation:c}:void 0),g=u.find(p);return c&&(g=g.collation(c)),{total:b,data:await g.sort(y).skip(r).limit(i??0).toArray()}},a=async(e,t)=>{let{db:r}=await (0,n.connectToDatabase)();return(await r.collection(e).insertOne(t)).insertedId.toString()};async function o(e){let{db:t}=await (0,n.connectToDatabase)();return t.collection(e)}let s=async(e,r,i,a)=>{let{db:o}=await (0,n.connectToDatabase)();"_id"in a&&delete a._id;let s=i;return"_id"===r&&"string"==typeof i&&(t.ObjectId.isValid(i)?s=new t.ObjectId(i):isNaN(Number(i))||(s=Number(i))),(await o.collection(e).updateOne({[r]:s},{$set:a})).modifiedCount>0};async function l(e,t,n){let r=await o(e),i="object"==typeof n&&null!==n&&Object.keys(n).some(e=>e.startsWith("$"))?n:{$set:n};return r.updateMany(t,i)}let c=async(e,t,r)=>{let{db:i}=await (0,n.connectToDatabase)();return(await i.collection(e).deleteOne({[t]:r})).deletedCount>0},d=async(e,r)=>{let{db:i}=await (0,n.connectToDatabase)();return(await i.collection(e).deleteOne({_id:new t.ObjectId(r)})).deletedCount>0};async function u(e,t){return(await o(e)).deleteMany(t)}e.s(["addRow",0,a,"deleteByField",0,c,"deleteById",0,d,"deleteManyRows",()=>u,"getAllRows",0,i,"getCollection",()=>o,"getRowByIdOrCode",0,r,"updateByField",0,s,"updateMany",()=>l])},538,e=>{"use strict";e.s(["MESSAGES_COLLECTION_NAME",0,"Messages"])},4559,e=>{"use strict";function t(e,t){let n={};return("boolean"==typeof t.isPinned&&(n[`isPinnedBy.${e}`]=t.isPinned),"boolean"==typeof t.isHidden&&(n[`isHiddenBy.${e}`]=t.isHidden),0===Object.keys(n).length)?null:n}function n(e){return Array.isArray(e)?e.filter(e=>"string"==typeof e):[]}function r(e,t){return{[`categoriesBy.${e}`]:n(t)}}function i(e,t){return{[`tagsBy.${e}`]:n(t)}}e.s(["buildToggleChatStatusFields",()=>t,"buildUpdateCategoriesFields",()=>r,"buildUpdateTagsFields",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__01cd8fbc._.js.map