{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/utils/dateUtils.ts"],"sourcesContent":["export const formatTimeAgo = (timestamp?: number | null): string => {\r\n  if (!timestamp) return '';\r\n\r\n  const now = Date.now();\r\n  const diff = now - timestamp;\r\n\r\n  // Quy ƒë·ªïi ra gi√¢y, ph√∫t, gi·ªù, ng√†y\r\n  const seconds = Math.floor(diff / 1000);\r\n  const minutes = Math.floor(seconds / 60);\r\n  const hours = Math.floor(minutes / 60);\r\n  const days = Math.floor(hours / 24);\r\n\r\n  if (seconds < 60) {\r\n    return 'V·ª´a xong';\r\n  } else if (minutes < 60) {\r\n    return `${minutes} ph√∫t`;\r\n  } else if (hours < 24) {\r\n    return `${hours} gi·ªù`;\r\n  } else if (days < 7) {\r\n    return `${days} ng√†y`;\r\n  } else {\r\n    // N·∫øu qu√° 7 ng√†y th√¨ hi·ªán ng√†y th√°ng (VD: 20/11)\r\n    const date = new Date(timestamp);\r\n    return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}`;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,gBAAgB,CAAC;IAC5B,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,OAAO,MAAM;IAEnB,mCAAmC;IACnC,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO;IAClC,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,OAAO,KAAK,KAAK,CAAC,QAAQ;IAEhC,IAAI,UAAU,IAAI;QAChB,OAAO;IACT,OAAO,IAAI,UAAU,IAAI;QACvB,OAAO,GAAG,QAAQ,KAAK,CAAC;IAC1B,OAAO,IAAI,QAAQ,IAAI;QACrB,OAAO,GAAG,MAAM,IAAI,CAAC;IACvB,OAAO,IAAI,OAAO,GAAG;QACnB,OAAO,GAAG,KAAK,KAAK,CAAC;IACvB,OAAO;QACL,iDAAiD;QACjD,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,GAAG,KAAK,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,KAAK,QAAQ,KAAK,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAC7G;AACF"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/utils/getFbEmojiUrl.ts"],"sourcesContent":["export function getEmojiUrl(unicode: string) {\r\n  return `https://cdn.jsdelivr.net/gh/twitter/twemoji/assets/72x72/${unicode}.png`;\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,YAAY,OAAe;IACzC,OAAO,CAAC,yDAAyD,EAAE,QAAQ,IAAI,CAAC;AAClF"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/utils/uploadHelper.ts"],"sourcesContent":["/**\r\n * Upload file s·ª≠ d·ª•ng XMLHttpRequest ƒë·ªÉ theo d√µi ti·∫øn tr√¨nh (Progress)\r\n * @param url ƒê∆∞·ªùng d·∫´n API (v√≠ d·ª•: /api/upload)\r\n * @param formData D·ªØ li·ªáu form ch·ª©a file\r\n * @param onProgress Callback nh·∫≠n % ho√†n th√†nh (0 -> 100)\r\n */\r\nimport type { MessageCreate } from '@/types/Message';\r\n\r\nexport interface UploadSuccessResponse {\r\n  success: true;\r\n  link: string;\r\n  data: MessageCreate;\r\n  _id?: string;\r\n  saved?: boolean;\r\n}\r\n\r\nexport interface UploadErrorResponse {\r\n  success: false;\r\n  message: string;\r\n}\r\n\r\nexport type UploadResponse = UploadSuccessResponse | UploadErrorResponse;\r\n\r\nexport const uploadFileWithProgress = (\r\n  url: string,\r\n  formData: FormData,\r\n  onProgress: (percent: number) => void,\r\n): Promise<UploadResponse> => {\r\n  return new Promise((resolve) => {\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    // 1. L·∫Øng nghe s·ª± ki·ªán ti·∫øn tr√¨nh upload (quan tr·ªçng nh·∫•t)\r\n    xhr.upload.onprogress = (event) => {\r\n      if (event.lengthComputable) {\r\n        const percentComplete = (event.loaded / event.total) * 100;\r\n        onProgress(percentComplete); // G·ªçi callback ƒë·ªÉ c·∫≠p nh·∫≠t UI\r\n      }\r\n    };\r\n\r\n    // 2. M·ªü k·∫øt n·ªëi POST\r\n    xhr.open('POST', url);\r\n\r\n    // 3. X·ª≠ l√Ω khi ho√†n t·∫•t\r\n    xhr.onload = () => {\r\n      if (xhr.status >= 200 && xhr.status < 300) {\r\n        try {\r\n          // Parse k·∫øt qu·∫£ tr·∫£ v·ªÅ t·ª´ server (JSON)\r\n          const response = JSON.parse(xhr.responseText) as UploadResponse;\r\n          resolve(response);\r\n        } catch {\r\n          resolve({ success: false, message: 'Ph·∫£n h·ªìi t·ª´ server kh√¥ng ph·∫£i JSON h·ª£p l·ªá' });\r\n        }\r\n      } else {\r\n        try {\r\n          const parsed = JSON.parse(xhr.responseText) as { message?: string };\r\n          const msg =\r\n            typeof parsed?.message === 'string' && parsed.message.trim()\r\n              ? parsed.message\r\n              : xhr.statusText || `Upload th·∫•t b·∫°i (${xhr.status})`;\r\n          resolve({ success: false, message: msg });\r\n        } catch {\r\n          const msg = xhr.statusText || `Upload th·∫•t b·∫°i (${xhr.status})`;\r\n          resolve({ success: false, message: msg });\r\n        }\r\n      }\r\n    };\r\n\r\n    // 4. X·ª≠ l√Ω l·ªói m·∫°ng\r\n    xhr.onerror = () => {\r\n      resolve({ success: false, message: 'L·ªói m·∫°ng (Network Error)' });\r\n    };\r\n\r\n    // 5. G·ª≠i d·ªØ li·ªáu ƒëi\r\n    xhr.send(formData);\r\n  });\r\n};\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAkBM,MAAM,yBAAyB,CACpC,KACA,UACA;IAEA,OAAO,IAAI,QAAQ,CAAC;QAClB,MAAM,MAAM,IAAI;QAEhB,2DAA2D;QAC3D,IAAI,MAAM,CAAC,UAAU,GAAG,CAAC;YACvB,IAAI,MAAM,gBAAgB,EAAE;gBAC1B,MAAM,kBAAkB,AAAC,MAAM,MAAM,GAAG,MAAM,KAAK,GAAI;gBACvD,WAAW,kBAAkB,8BAA8B;YAC7D;QACF;QAEA,qBAAqB;QACrB,IAAI,IAAI,CAAC,QAAQ;QAEjB,wBAAwB;QACxB,IAAI,MAAM,GAAG;YACX,IAAI,IAAI,MAAM,IAAI,OAAO,IAAI,MAAM,GAAG,KAAK;gBACzC,IAAI;oBACF,wCAAwC;oBACxC,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI,YAAY;oBAC5C,QAAQ;gBACV,EAAE,OAAM;oBACN,QAAQ;wBAAE,SAAS;wBAAO,SAAS;oBAA4C;gBACjF;YACF,OAAO;gBACL,IAAI;oBACF,MAAM,SAAS,KAAK,KAAK,CAAC,IAAI,YAAY;oBAC1C,MAAM,MACJ,OAAO,QAAQ,YAAY,YAAY,OAAO,OAAO,CAAC,IAAI,KACtD,OAAO,OAAO,GACd,IAAI,UAAU,IAAI,CAAC,iBAAiB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;oBACzD,QAAQ;wBAAE,SAAS;wBAAO,SAAS;oBAAI;gBACzC,EAAE,OAAM;oBACN,MAAM,MAAM,IAAI,UAAU,IAAI,CAAC,iBAAiB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;oBAC/D,QAAQ;wBAAE,SAAS;wBAAO,SAAS;oBAAI;gBACzC;YACF;QACF;QAEA,oBAAoB;QACpB,IAAI,OAAO,GAAG;YACZ,QAAQ;gBAAE,SAAS;gBAAO,SAAS;YAA2B;QAChE;QAEA,oBAAoB;QACpB,IAAI,IAAI,CAAC;IACX;AACF"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/utils/chatInput.ts"],"sourcesContent":["export const insertTextAtCursor = (editable: HTMLDivElement, text: string) => {\r\n  const selection = window.getSelection();\r\n  if (!selection || selection.rangeCount === 0) {\r\n    editable.appendChild(document.createTextNode(text));\r\n    return;\r\n  }\r\n\r\n  const range = selection.getRangeAt(0);\r\n\r\n  // ƒê·∫£m b·∫£o range n·∫±m b√™n trong editable\r\n  let current: Node | null = range.commonAncestorContainer;\r\n  let isInside = false;\r\n  while (current) {\r\n    if (current === editable) {\r\n      isInside = true;\r\n      break;\r\n    }\r\n    current = current.parentNode;\r\n  }\r\n\r\n  if (!isInside) {\r\n    editable.appendChild(document.createTextNode(text));\r\n    return;\r\n  }\r\n\r\n  range.deleteContents();\r\n  const textNode = document.createTextNode(text);\r\n  range.insertNode(textNode);\r\n\r\n  // Di chuy·ªÉn caret sau emoji v·ª´a ch√®n\r\n  range.setStartAfter(textNode);\r\n  range.collapse(true);\r\n  selection.removeAllRanges();\r\n  selection.addRange(range);\r\n};\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,qBAAqB,CAAC,UAA0B;IAC3D,MAAM,YAAY,OAAO,YAAY;IACrC,IAAI,CAAC,aAAa,UAAU,UAAU,KAAK,GAAG;QAC5C,SAAS,WAAW,CAAC,SAAS,cAAc,CAAC;QAC7C;IACF;IAEA,MAAM,QAAQ,UAAU,UAAU,CAAC;IAEnC,uCAAuC;IACvC,IAAI,UAAuB,MAAM,uBAAuB;IACxD,IAAI,WAAW;IACf,MAAO,QAAS;QACd,IAAI,YAAY,UAAU;YACxB,WAAW;YACX;QACF;QACA,UAAU,QAAQ,UAAU;IAC9B;IAEA,IAAI,CAAC,UAAU;QACb,SAAS,WAAW,CAAC,SAAS,cAAc,CAAC;QAC7C;IACF;IAEA,MAAM,cAAc;IACpB,MAAM,WAAW,SAAS,cAAc,CAAC;IACzC,MAAM,UAAU,CAAC;IAEjB,qCAAqC;IACrC,MAAM,aAAa,CAAC;IACpB,MAAM,QAAQ,CAAC;IACf,UAAU,eAAe;IACzB,UAAU,QAAQ,CAAC;AACrB"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/utils/chatMessages.ts"],"sourcesContent":["import type { Message } from '@/types/Message';\r\n\r\nexport const groupMessagesByDate = (msgs: Message[]) => {\r\n  const groups = new Map<string, Message[]>();\r\n  const seen = new Set<string>();\r\n  msgs.forEach((msg) => {\r\n    const id = String(msg._id);\r\n    if (seen.has(id)) return;\r\n    seen.add(id);\r\n    const ts =\r\n      Number((msg as unknown as { serverTimestamp?: number }).serverTimestamp ?? msg.timestamp) || 0;\r\n    const dateKey = new Date(ts).toLocaleDateString('vi-VN', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n    });\r\n    if (!groups.has(dateKey)) {\r\n      groups.set(dateKey, []);\r\n    }\r\n    groups.get(dateKey)!.push(msg);\r\n  });\r\n  const safeNum = (t: unknown) => {\r\n    const n = Number(t);\r\n    return Number.isFinite(n) ? n : 0;\r\n  };\r\n  const cmp = (a: Message, b: Message) => {\r\n    const ta = safeNum((a as unknown as { serverTimestamp?: number }).serverTimestamp ?? a.timestamp);\r\n    const tb = safeNum((b as unknown as { serverTimestamp?: number }).serverTimestamp ?? b.timestamp);\r\n    if (ta !== tb) return ta - tb;\r\n    const ia = String(a._id || '');\r\n    const ib = String(b._id || '');\r\n    if (ia.startsWith('temp_') && !ib.startsWith('temp_')) return 1;\r\n    if (!ia.startsWith('temp_') && ib.startsWith('temp_')) return -1;\r\n    return ia.localeCompare(ib);\r\n  };\r\n  Array.from(groups.values()).forEach((arr) => arr.sort(cmp));\r\n  return groups;\r\n};\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,sBAAsB,CAAC;IAClC,MAAM,SAAS,IAAI;IACnB,MAAM,OAAO,IAAI;IACjB,KAAK,OAAO,CAAC,CAAC;QACZ,MAAM,KAAK,OAAO,IAAI,GAAG;QACzB,IAAI,KAAK,GAAG,CAAC,KAAK;QAClB,KAAK,GAAG,CAAC;QACT,MAAM,KACJ,OAAO,AAAC,IAAgD,eAAe,IAAI,IAAI,SAAS,KAAK;QAC/F,MAAM,UAAU,IAAI,KAAK,IAAI,kBAAkB,CAAC,SAAS;YACvD,MAAM;YACN,OAAO;YACP,KAAK;QACP;QACA,IAAI,CAAC,OAAO,GAAG,CAAC,UAAU;YACxB,OAAO,GAAG,CAAC,SAAS,EAAE;QACxB;QACA,OAAO,GAAG,CAAC,SAAU,IAAI,CAAC;IAC5B;IACA,MAAM,UAAU,CAAC;QACf,MAAM,IAAI,OAAO;QACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;IAClC;IACA,MAAM,MAAM,CAAC,GAAY;QACvB,MAAM,KAAK,QAAQ,AAAC,EAA8C,eAAe,IAAI,EAAE,SAAS;QAChG,MAAM,KAAK,QAAQ,AAAC,EAA8C,eAAe,IAAI,EAAE,SAAS;QAChG,IAAI,OAAO,IAAI,OAAO,KAAK;QAC3B,MAAM,KAAK,OAAO,EAAE,GAAG,IAAI;QAC3B,MAAM,KAAK,OAAO,EAAE,GAAG,IAAI;QAC3B,IAAI,GAAG,UAAU,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC,UAAU,OAAO;QAC9D,IAAI,CAAC,GAAG,UAAU,CAAC,YAAY,GAAG,UAAU,CAAC,UAAU,OAAO,CAAC;QAC/D,OAAO,GAAG,aAAa,CAAC;IAC1B;IACA,MAAM,IAAI,CAAC,OAAO,MAAM,IAAI,OAAO,CAAC,CAAC,MAAQ,IAAI,IAAI,CAAC;IACtD,OAAO;AACT"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/context/ChatContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext } from 'react';\r\n\r\nimport type { User } from '../types/User';\r\nimport type { ChatItem } from '../types/Group';\r\nimport type { Message } from '../types/Message';\r\n\r\nexport interface ChatContextValue {\r\n  currentUser: User;\r\n  allUsers: User[];\r\n  selectedChat: ChatItem;\r\n  messages: Message[];\r\n  isGroup: boolean;\r\n  chatName: string;\r\n}\r\n\r\nconst ChatContext = createContext<ChatContextValue | undefined>(undefined);\r\n\r\ninterface ChatProviderProps {\r\n  value: ChatContextValue;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const ChatProvider: React.FC<ChatProviderProps> = ({ value, children }) => {\r\n  return <ChatContext.Provider value={value}>{children}</ChatContext.Provider>;\r\n};\r\n\r\nexport const useChatContext = (): ChatContextValue => {\r\n  const context = useContext(ChatContext);\r\n\r\n  if (!context) {\r\n    throw new Error('useChatContext must be used within a ChatProvider');\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAiBA,MAAM,4BAAc,IAAA,8KAAa,EAA+B;AAOzD,MAAM,eAA4C,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IAC3E,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;KAFa;AAIN,MAAM,iBAAiB;;IAC5B,MAAM,UAAU,IAAA,2KAAU,EAAC;IAE3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;GARa"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/data/fbEmojis.ts"],"sourcesContent":["export const FB_EMOJIS = [\r\n  '1f600',\r\n  '1f601',\r\n  '1f602',\r\n  '1f603',\r\n  '1f604',\r\n  '1f606',\r\n  '1f607',\r\n  '1f609',\r\n  '1f60a',\r\n  '1f60b',\r\n  '1f60d',\r\n  '1f60e',\r\n  '1f60f',\r\n  '1f612',\r\n  '1f613',\r\n  '1f614',\r\n  '1f616',\r\n  '1f618',\r\n  '1f61a',\r\n  '1f61c',\r\n  '1f61d',\r\n  '1f61e',\r\n  '1f620',\r\n  '1f621',\r\n  '1f622',\r\n  '1f623',\r\n  '1f624',\r\n  '1f625',\r\n  '1f626',\r\n  '1f627',\r\n  '1f628',\r\n  '1f629',\r\n  '1f62a',\r\n  '1f62b',\r\n  '1f62d',\r\n  '1f630',\r\n  '1f631',\r\n  '1f632',\r\n  '1f633',\r\n  '1f634',\r\n  '1f635',\r\n  '1f636',\r\n  '1f637',\r\n  '1f641',\r\n  '1f642',\r\n  '1f643',\r\n  '1f644',\r\n  '1f910',\r\n  '1f911',\r\n  '1f912',\r\n  '1f914',\r\n  '1f917',\r\n  '1f920',\r\n  '1f921',\r\n  '1f922',\r\n  '1f923',\r\n  '1f924',\r\n  '1f925',\r\n  '1f927',\r\n  '1f928',\r\n  '1f929',\r\n  '1f92a',\r\n  '1f92b',\r\n  '1f92c',\r\n  '1f92d',\r\n  '1f92e',\r\n  '1f92f',\r\n  '1f970',\r\n  '1f973',\r\n  '1f974',\r\n  '1f975',\r\n  '1f976',\r\n  '1f978',\r\n  '1f979',\r\n  '1f97a',\r\n  '1f9d0',\r\n  '2764',\r\n  '1f49b',\r\n  '1f49a',\r\n  '1f499',\r\n  '1f49c',\r\n  '1f90e',\r\n  '1f5a4',\r\n  '1f44d',\r\n  '1f44f',\r\n  '1f64f',\r\n  '1f44e',\r\n  '1f448',\r\n  '1f449',\r\n  '1f64c',\r\n  '270a',\r\n  '270c',\r\n  '1f64b',\r\n  '1f91d',\r\n  '1f44a',\r\n  '1f680',\r\n];\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,YAAY;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/data/dataBanner.tsx"],"sourcesContent":["export interface Banner {\r\n  image: string; // ƒê∆∞·ªùng d·∫´n h√¨nh ·∫£nh\r\n  title: string; // Ti√™u ƒë·ªÅ banner\r\n  description: string; // M√¥ t·∫£ banner\r\n  buttonText?: string; // Text n√∫t b·∫•m, c√≥ th·ªÉ kh√¥ng c√≥\r\n}\r\nexport const banners: Banner[] = [\r\n  {\r\n    image: '/imgs/banner1.png',\r\n    title: 'Giao di·ªán Dark Mode',\r\n    description: 'Th∆∞ gi√£n v√† b·∫£o v·ªá m·∫Øt v·ªõi ch·∫ø ƒë·ªô giao di·ªán t·ªëi m·ªõi tr√™n Zalo',\r\n    buttonText: 'Th·ª≠ ngay',\r\n  },\r\n  {\r\n    image: '/imgs/banner2.png',\r\n    title: 'Kinh doanh hi·ªáu qu·∫£ v·ªõi zBusiness Pro',\r\n    description:\r\n      'B√°n h√†ng chuy√™n nghi·ªáp v·ªõi Nh√¢n Business v√† B·ªô c√¥ng c·ª• kinh doanh, m·ªü kho√° t·∫ßm nƒÉng ti·∫øp c·∫≠n kh√°ch h√†ng tr√™n Zalo',\r\n    buttonText: 'T√¨m hi·ªÉu ngay',\r\n  },\r\n  {\r\n    image: '/imgs/banner3.png',\r\n    title: 'Nh·∫Øn tin nhi·ªÅu h∆°n ,so·∫°n th·∫£o √≠t h∆°n',\r\n    description: 'S·ª≠ d·ª•ng Tin Nh·∫Øn Nhanh ƒë·ªÉ l∆∞u s·∫µn c√°c tin nh·∫Øn th∆∞·ªùng d√πng v√† g·ª≠i nhanh trong h·ªôi tho·∫°i b·∫•t k·ª≥',\r\n  },\r\n  {\r\n    image: '/imgs/banner4.png',\r\n    title: 'Tr·∫£i nghi·ªám xuy√™n su·ªët',\r\n    description: 'K·∫øt n·ªëi v√† gi·∫£i quy·∫øt c√¥ng vi·ªác tr√™n m·ªçi thi·∫øt b·ªã d·ªØ li·ªáu lu√¥n ƒë∆∞·ª£c ƒë·ªìng b·ªô',\r\n  },\r\n  { image: '/imgs/banner5.png', title: 'G·ª≠i File n·∫∑ng?', description: 'ƒê√£ c√≥ Zalo \"x·ª≠\" h·∫øt ' },\r\n];\r\n"],"names":[],"mappings":";;;;AAMO,MAAM,UAAoB;IAC/B;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,YAAY;IACd;IACA;QACE,OAAO;QACP,OAAO;QACP,aACE;QACF,YAAY;IACd;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;IACf;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;IACf;IACA;QAAE,OAAO;QAAqB,OAAO;QAAkB,aAAa;IAAuB;CAC5F"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/lib/uploadStore.ts"],"sourcesContent":["// lib/uploadStore.ts\r\n\r\n// üëá KHAI B√ÅO KI·ªÇU CHO GLOBAL\r\ndeclare global {\r\n  var uploadProgressMap: Map<string, number> | undefined;\r\n}\r\n\r\n// Kh·ªüi t·∫°o n·∫øu ch∆∞a c√≥\r\nglobalThis.uploadProgressMap = globalThis.uploadProgressMap || new Map<string, number>();\r\n\r\nexport const setProgress = (id: string, percent: number) => {\r\n  if (globalThis.uploadProgressMap) {\r\n    globalThis.uploadProgressMap.set(id, percent);\r\n  }\r\n};\r\n\r\nexport const getProgress = (id: string) => {\r\n  const map = globalThis.uploadProgressMap;\r\n  if (!map) return -1;\r\n  return map.has(id) ? (map.get(id) ?? 0) : -1;\r\n};\r\n\r\nexport const clearProgress = (id: string) => {\r\n  globalThis.uploadProgressMap?.delete(id);\r\n};\r\n"],"names":[],"mappings":"AAAA,qBAAqB;AAErB,8BAA8B;;;;;;;;;AAK9B,uBAAuB;AACvB,WAAW,iBAAiB,GAAG,WAAW,iBAAiB,IAAI,IAAI;AAE5D,MAAM,cAAc,CAAC,IAAY;IACtC,IAAI,WAAW,iBAAiB,EAAE;QAChC,WAAW,iBAAiB,CAAC,GAAG,CAAC,IAAI;IACvC;AACF;AAEO,MAAM,cAAc,CAAC;IAC1B,MAAM,MAAM,WAAW,iBAAiB;IACxC,IAAI,CAAC,KAAK,OAAO,CAAC;IAClB,OAAO,IAAI,GAAG,CAAC,MAAO,IAAI,GAAG,CAAC,OAAO,IAAK,CAAC;AAC7C;AAEO,MAAM,gBAAgB,CAAC;IAC5B,WAAW,iBAAiB,EAAE,OAAO;AACvC"}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/lib/onesignal.ts"],"sourcesContent":["import OneSignal from 'react-onesignal';\r\nlet __inited = false;\r\n\r\nexport async function initOneSignal() {\r\n  if (__inited) return;\r\n  await OneSignal.init({\r\n    appId: String(process.env.NEXT_PUBLIC_ONESIGNAL_APP_ID || process.env.ONESIGNAL_APP_ID || '').trim(),\r\n    allowLocalhostAsSecureOrigin: true, // cho ph√©p test localhost\r\n    notifyButton: {\r\n      enable: true,\r\n      prenotify: false,\r\n      showCredit: false,\r\n      text: {\r\n        'tip.state.unsubscribed': 'Subscribe to notifications',\r\n        'tip.state.subscribed': \"You're subscribed to notifications\",\r\n        'tip.state.blocked': 'You have blocked notifications',\r\n        'message.prenotify': 'Click to subscribe to notifications',\r\n        'message.action.subscribing': 'Subscribing...',\r\n        'message.action.subscribed': 'Thanks for subscribing!',\r\n        'message.action.resubscribed': 'You are subscribed to notifications',\r\n        'message.action.unsubscribed': 'You will not receive notifications',\r\n        'dialog.main.title': 'Manage Site Notifications',\r\n        'dialog.main.button.subscribe': 'SUBSCRIBE',\r\n        'dialog.main.button.unsubscribe': 'UNSUBSCRIBE',\r\n        'dialog.blocked.title': 'Unblock Notifications',\r\n        'dialog.blocked.message': 'Follow these instructions to allow notifications:',\r\n      },\r\n    },\r\n    enable: true, // hi·ªán n√∫t bell ƒë·ªÉ subscribe\r\n    serviceWorkerPath: '/OneSignalSDKWorker.js',\r\n    serviceWorkerUpdaterPath: '/OneSignalSDKUpdaterWorker.js',\r\n  });\r\n  __inited = true;\r\n}\r\n\r\n// H√†m ƒëƒÉng k√Ω nh·∫≠n th√¥ng b√°o\r\nexport async function subscribeNotification() {\r\n  const permission = await OneSignal.Notifications.requestPermission();\r\n  return permission;\r\n}\r\n\r\n// L·∫•y user ID (player ID)\r\nexport async function getUserId() {\r\n  const userId = await OneSignal.User.PushSubscription.id;\r\n  return userId;\r\n}\r\n\r\n// Th√™m tag cho user (ƒë·ªÉ g·ª≠i targeted notification)\r\nexport async function addUserTags(tags: Record<string, string>) {\r\n  await OneSignal.User.addTags(tags);\r\n}\r\n\r\nexport async function loginOneSignal(externalId: string) {\r\n  try {\r\n    await OneSignal.login(externalId);\r\n  } catch {}\r\n}\r\n\r\nexport async function ensureSubscribed() {\r\n  try {\r\n    const id = await OneSignal.User.PushSubscription.id;\r\n    if (id) return id;\r\n    await OneSignal.Notifications.requestPermission();\r\n    for (let i = 0; i < 5; i++) {\r\n      const cur = await OneSignal.User.PushSubscription.id;\r\n      if (cur) return cur;\r\n      await new Promise((r) => setTimeout(r, 800));\r\n    }\r\n    return await OneSignal.User.PushSubscription.id;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function waitForOneSignalReady() {\r\n  const max = 30;\r\n  for (let i = 0; i < max; i++) {\r\n    if (typeof window !== 'undefined' && (window as { OneSignal?: unknown }).OneSignal) return;\r\n    await new Promise((r) => setTimeout(r, 200));\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAMkB;AANlB;;AACA,IAAI,WAAW;AAER,eAAe;IACpB,IAAI,UAAU;IACd,MAAM,iKAAS,CAAC,IAAI,CAAC;QACnB,OAAO,OAAO,4EAA4C,2KAAO,CAAC,GAAG,CAAC,gBAAgB,IAAI,IAAI,IAAI;QAClG,8BAA8B;QAC9B,cAAc;YACZ,QAAQ;YACR,WAAW;YACX,YAAY;YACZ,MAAM;gBACJ,0BAA0B;gBAC1B,wBAAwB;gBACxB,qBAAqB;gBACrB,qBAAqB;gBACrB,8BAA8B;gBAC9B,6BAA6B;gBAC7B,+BAA+B;gBAC/B,+BAA+B;gBAC/B,qBAAqB;gBACrB,gCAAgC;gBAChC,kCAAkC;gBAClC,wBAAwB;gBACxB,0BAA0B;YAC5B;QACF;QACA,QAAQ;QACR,mBAAmB;QACnB,0BAA0B;IAC5B;IACA,WAAW;AACb;AAGO,eAAe;IACpB,MAAM,aAAa,MAAM,iKAAS,CAAC,aAAa,CAAC,iBAAiB;IAClE,OAAO;AACT;AAGO,eAAe;IACpB,MAAM,SAAS,MAAM,iKAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;IACvD,OAAO;AACT;AAGO,eAAe,YAAY,IAA4B;IAC5D,MAAM,iKAAS,CAAC,IAAI,CAAC,OAAO,CAAC;AAC/B;AAEO,eAAe,eAAe,UAAkB;IACrD,IAAI;QACF,MAAM,iKAAS,CAAC,KAAK,CAAC;IACxB,EAAE,OAAM,CAAC;AACX;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,KAAK,MAAM,iKAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;QACnD,IAAI,IAAI,OAAO;QACf,MAAM,iKAAS,CAAC,aAAa,CAAC,iBAAiB;QAC/C,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;YAC1B,MAAM,MAAM,MAAM,iKAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;YACpD,IAAI,KAAK,OAAO;YAChB,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;QACzC;QACA,OAAO,MAAM,iKAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;IACjD,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe;IACpB,MAAM,MAAM;IACZ,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,IAAK;QAC5B,IAAI,+CAAkB,eAAe,AAAC,OAAmC,SAAS,EAAE;QACpF,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;IACzC;AACF"}}]
}