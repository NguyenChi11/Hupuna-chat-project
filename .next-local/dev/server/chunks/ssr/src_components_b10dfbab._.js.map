{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/modal/ComingSoonModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport { HiX, HiSparkles } from 'react-icons/hi';\r\n\r\ninterface ComingSoonModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  description?: string;\r\n}\r\n\r\nconst ComingSoonModal: React.FC<ComingSoonModalProps> = ({ \r\n  isOpen, \r\n  onClose, \r\n  title = \"Tính năng đang phát triển\", \r\n  description = \"Chúng tôi đang nỗ lực hoàn thiện tính năng này để mang đến trải nghiệm tốt nhất cho bạn. Vui lòng quay lại sau!\" \r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4\">\r\n      {/* Overlay */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity\"\r\n        onClick={onClose}\r\n      />\r\n\r\n      {/* Modal Content */}\r\n      <div className=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden transform transition-all animate-in fade-in zoom-in duration-200\">\r\n        {/* Decorative Header Background */}\r\n        <div className=\"h-24 bg-gradient-to-br from-blue-500 to-indigo-600 relative overflow-hidden\">\r\n          <div className=\"absolute top-0 right-0 p-8 bg-white/10 rounded-full transform translate-x-1/2 -translate-y-1/2 blur-2xl w-32 h-32\" />\r\n          <div className=\"absolute bottom-0 left-0 p-8 bg-black/10 rounded-full transform -translate-x-1/2 translate-y-1/2 blur-xl w-24 h-24\" />\r\n          \r\n          <button \r\n            onClick={onClose}\r\n            className=\"absolute top-3 right-3 p-1.5 bg-white/20 hover:bg-white/30 text-white rounded-full transition-colors backdrop-blur-sm\"\r\n          >\r\n            <HiX className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Icon & Content */}\r\n        <div className=\"px-6 pb-8 pt-0 relative\">\r\n          <div className=\"absolute -top-12 left-1/2 transform -translate-x-1/2\">\r\n            <div className=\"w-10 h-10 bg-white rounded-full p-1.5 shadow-lg flex items-center justify-center\">\r\n              <div className=\"w-full h-full bg-blue-50 rounded-full flex items-center justify-center\">\r\n                <HiSparkles className=\"w-10 h-10 text-blue-500 animate-pulse\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-10 text-center space-y-3\">\r\n            <h3 className=\"text-xl font-bold text-gray-900\">\r\n              {title}\r\n            </h3>\r\n            <p className=\"text-gray-500 text-sm leading-relaxed\">\r\n              {description}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"mt-8 flex justify-center\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-8 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 shadow-lg shadow-blue-500/30 transform transition-all active:scale-95\"\r\n            >\r\n              Đã hiểu\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComingSoonModal;\r\n"],"names":[],"mappings":";;;;;AACA;;;AASA,MAAM,kBAAkD,CAAC,EACvD,MAAM,EACN,OAAO,EACP,QAAQ,2BAA2B,EACnC,cAAc,iHAAiH,EAChI;IACC,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CAEf,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC,qJAAG;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKnB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,4JAAU;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;0CAK5B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX;;;;;;kDAEH,8OAAC;wCAAE,WAAU;kDACV;;;;;;;;;;;;0CAIL,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;uCAEe"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/modal/BaseManagerModal.tsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { HiXMark, HiPlus, HiBars3, HiChevronLeft, HiCheck } from 'react-icons/hi2';\r\nimport { CiEdit, CiTrash } from 'react-icons/ci';\r\nimport type { User } from '@/types/User';\r\nimport type { GroupConversation, ChatItem as ChatItemType } from '@/types/Group';\r\nimport { getProxyUrl, normalizeNoAccent, hasDiacritics, accentAwareIncludes } from '@/utils/utils';\r\nimport Image from 'next/image';\r\n\r\nexport interface TagItem {\r\n  id: string;\r\n  label: string;\r\n  color: string;\r\n}\r\n\r\nexport interface ManagerConfig {\r\n  titles: {\r\n    main: string;\r\n    list: string;\r\n    add: string;\r\n    edit: string;\r\n    create: string;\r\n    deleteConfirm: string;\r\n    itemName: string;\r\n  };\r\n  fields: {\r\n    userTags: 'categoryTags' | 'userTags';\r\n    chatTagsBy: 'categoriesBy' | 'tagsBy';\r\n    chatTagsSimple: 'categories' | 'tags';\r\n  };\r\n  events: {\r\n    userUpdated: string;\r\n    chatUpdated: string;\r\n    localStorageKeyPrefix: string;\r\n  };\r\n  api: {\r\n    updateChatAction: string;\r\n    updateChatDataField: 'categories' | 'tags';\r\n  };\r\n}\r\n\r\ninterface BaseManagerModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  currentUserId?: string;\r\n  currentUser?: User;\r\n  groups?: GroupConversation[];\r\n  allUsers?: User[];\r\n  config: ManagerConfig;\r\n}\r\n\r\nexport default function BaseManagerModal({\r\n  isOpen,\r\n  onClose,\r\n  currentUserId,\r\n  currentUser,\r\n  groups = [],\r\n  allUsers = [],\r\n  config,\r\n}: BaseManagerModalProps) {\r\n  const [tags, setTags] = useState<TagItem[]>((currentUser?.[config.fields.userTags] as TagItem[]) || []);\r\n\r\n  React.useEffect(() => {\r\n    async function loadUserTags() {\r\n      if (!currentUserId) return;\r\n      try {\r\n        const res = await fetch('/api/users', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ action: 'getById', _id: currentUserId }),\r\n        });\r\n        const data = await res.json();\r\n        const row = (data && data.row) || (Array.isArray(data?.data) ? data.data[0] : null);\r\n        const existing = (row?.[config.fields.userTags] as TagItem[]) || [];\r\n        setTags(Array.isArray(existing) ? existing : []);\r\n      } catch {}\r\n    }\r\n    if (isOpen) {\r\n      loadUserTags();\r\n    }\r\n  }, [isOpen, currentUserId, config.fields.userTags]);\r\n\r\n  React.useEffect(() => {\r\n    function handleTagsUpdated(e: Event) {\r\n      const ev = e as CustomEvent<{ userId: string; tags: TagItem[] }>;\r\n      const detail = ev.detail;\r\n      if (!detail) return;\r\n      if (String(detail.userId) !== String(currentUserId)) return;\r\n      setTags(Array.isArray(detail.tags) ? detail.tags : []);\r\n    }\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener(config.events.userUpdated, handleTagsUpdated as EventListener);\r\n    }\r\n    return () => {\r\n      if (typeof window !== 'undefined') {\r\n        window.removeEventListener(config.events.userUpdated, handleTagsUpdated as EventListener);\r\n      }\r\n    };\r\n  }, [currentUserId, config.events.userUpdated]);\r\n\r\n  const [editingTagId, setEditingTagId] = useState<string | null>(null);\r\n  const [deletingTagId, setDeletingTagId] = useState<string | null>(null);\r\n  const editingTag = useMemo(() => tags.find((t) => t.id === editingTagId) || null, [tags, editingTagId]);\r\n  const deletingTag = useMemo(() => tags.find((t) => t.id === deletingTagId) || null, [tags, deletingTagId]);\r\n  const allChats: ChatItemType[] = useMemo(() => [...groups, ...allUsers], [groups, allUsers]);\r\n\r\n  const getChatDisplayName = (chat: ChatItemType): string => {\r\n    const maybeGroup = chat as GroupConversation;\r\n    const isGroupChat = maybeGroup.isGroup === true || Array.isArray(maybeGroup.members);\r\n    if (isGroupChat) return (maybeGroup.name || '').trim() || 'Nhóm';\r\n    const u = chat as User;\r\n    if (currentUserId && u.nicknames?.[currentUserId]) return u.nicknames[currentUserId].trim();\r\n    return (u.name || u.username || 'Người dùng').trim();\r\n  };\r\n\r\n  const [chatTagsMap, setChatTagsMap] = useState<Record<string, string[]>>({});\r\n\r\n  React.useEffect(() => {\r\n    function handleChatTagsUpdated(e: Event) {\r\n      const ev = e as CustomEvent<{\r\n        userId: string;\r\n        roomId: string;\r\n        categories?: string[];\r\n        tags?: string[];\r\n        [key: string]: unknown;\r\n      }>;\r\n      const detail = ev.detail;\r\n      if (!detail) return;\r\n      if (String(detail.userId) !== String(currentUserId)) return;\r\n\r\n      // Determine which field contains the tags array in the event detail\r\n      // Usually it matches config.api.updateChatDataField ('categories' or 'tags')\r\n      const tagsData =\r\n        (detail[config.api.updateChatDataField] as string[] | undefined) || detail.categories || detail.tags;\r\n\r\n      setChatTagsMap((prev) => ({\r\n        ...prev,\r\n        [detail.roomId]: tagsData || [],\r\n      }));\r\n    }\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener(config.events.chatUpdated, handleChatTagsUpdated as EventListener);\r\n    }\r\n    return () => {\r\n      if (typeof window !== 'undefined') {\r\n        window.removeEventListener(config.events.chatUpdated, handleChatTagsUpdated as EventListener);\r\n      }\r\n    };\r\n  }, [currentUserId, config.events.chatUpdated, config.api.updateChatDataField]);\r\n\r\n  const getItemTags = (chat: ChatItemType): string[] => {\r\n    if (chatTagsMap[String(chat._id)]) {\r\n      return chatTagsMap[String(chat._id)];\r\n    }\r\n    const byField = (chat as Record<string, unknown>)[config.fields.chatTagsBy] as Record<string, string[]> | undefined;\r\n    const simple = (chat as Record<string, unknown>)[config.fields.chatTagsSimple] as string[] | undefined;\r\n    const arr =\r\n      (simple && Array.isArray(simple) ? simple : undefined) ||\r\n      (byField && currentUserId ? byField[String(currentUserId)] : undefined) ||\r\n      [];\r\n    if (Array.isArray(arr)) return arr.filter((x: unknown): x is string => typeof x === 'string');\r\n    return [];\r\n  };\r\n\r\n  const [selectedChats, setSelectedChats] = useState<string[]>([]);\r\n  const [labelDraft, setLabelDraft] = useState<string>('');\r\n  const [colorDraft, setColorDraft] = useState<string>('');\r\n  const [addingPanelOpen, setAddingPanelOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [showColorPicker, setShowColorPicker] = useState(false);\r\n\r\n  const availableColors = useMemo(\r\n    () => [\r\n      'bg-red-500',\r\n      'bg-pink-500',\r\n      'bg-orange-400',\r\n      'bg-yellow-400',\r\n      'bg-green-500',\r\n      'bg-teal-500',\r\n      'bg-blue-500',\r\n      'bg-purple-500',\r\n    ],\r\n    [],\r\n  );\r\n\r\n  const [isCreating, setIsCreating] = useState(false);\r\n\r\n  const saveTagsToUser = async (newTags: TagItem[]) => {\r\n    if (!currentUserId) return;\r\n    try {\r\n      await fetch('/api/users', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'update',\r\n          field: '_id',\r\n          value: currentUserId,\r\n          data: { [config.fields.userTags]: newTags },\r\n        }),\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to save tags', error);\r\n    }\r\n  };\r\n\r\n  const openEdit = (tagId: string) => {\r\n    setEditingTagId(tagId);\r\n    setIsCreating(false);\r\n    const tag = tags.find((t) => t.id === tagId);\r\n    setLabelDraft(tag?.label || '');\r\n    setColorDraft(tag?.color || availableColors[0]);\r\n    const assigned = allChats.filter((c) => getItemTags(c).includes(tagId)).map((c) => String(c._id));\r\n    setSelectedChats(assigned);\r\n    setAddingPanelOpen(false);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  const openCreate = () => {\r\n    setIsCreating(true);\r\n    setEditingTagId(null);\r\n    setLabelDraft('');\r\n    setColorDraft(availableColors[0]);\r\n    setSelectedChats([]);\r\n    setAddingPanelOpen(false);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  const closeEdit = () => {\r\n    setEditingTagId(null);\r\n    setIsCreating(false);\r\n    setSelectedChats([]);\r\n    setLabelDraft('');\r\n    setColorDraft('');\r\n    setAddingPanelOpen(false);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  const requestUpdateTags = async (chat: ChatItemType, newTags: string[]) => {\r\n    try {\r\n      const maybeGroup = chat as GroupConversation;\r\n      const isGroupChat = maybeGroup.isGroup === true || Array.isArray(maybeGroup.members);\r\n      const endpoint = isGroupChat ? '/api/groups' : '/api/users';\r\n      const roomId = String(chat._id);\r\n      await fetch(endpoint, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: config.api.updateChatAction,\r\n          currentUserId,\r\n          roomId,\r\n          data: { [config.api.updateChatDataField]: newTags },\r\n        }),\r\n      });\r\n      try {\r\n        const k = `${config.events.localStorageKeyPrefix}:${String(currentUserId)}:${roomId}`;\r\n        localStorage.setItem(k, JSON.stringify(newTags));\r\n        const ev = new CustomEvent(config.events.chatUpdated, {\r\n          detail: {\r\n            userId: String(currentUserId),\r\n            roomId,\r\n            [config.api.updateChatDataField]: newTags,\r\n          },\r\n        });\r\n        window.dispatchEvent(ev as unknown as Event);\r\n      } catch {}\r\n    } catch {}\r\n  };\r\n\r\n  const handleApplyEdit = async () => {\r\n    if (!editingTag && !isCreating) return;\r\n    const tagId = isCreating ? `tag_${Date.now()}` : editingTag!.id;\r\n    const originalAssigned = isCreating\r\n      ? []\r\n      : allChats.filter((c) => getItemTags(c).includes(tagId)).map((c) => String(c._id));\r\n    const toAdd = selectedChats.filter((id) => !originalAssigned.includes(id));\r\n    const toRemove = originalAssigned.filter((id) => !selectedChats.includes(id));\r\n    setIsUpdating(true);\r\n    const operations: Array<Promise<void>> = [];\r\n    for (const chat of allChats) {\r\n      const id = String(chat._id);\r\n      const currentTags = getItemTags(chat);\r\n      if (toAdd.includes(id)) {\r\n        const nextTags = [...currentTags, tagId].filter((v, i, a) => a.indexOf(v) === i); // unique\r\n        operations.push(requestUpdateTags(chat, nextTags));\r\n      } else if (toRemove.includes(id)) {\r\n        const nextTags = currentTags.filter((x) => x !== tagId);\r\n        operations.push(requestUpdateTags(chat, nextTags));\r\n      }\r\n    }\r\n    await Promise.all(operations);\r\n\r\n    let newTags = [...tags];\r\n    if (isCreating) {\r\n      newTags.push({ id: tagId, label: labelDraft, color: colorDraft });\r\n    } else {\r\n      newTags = tags.map((t) => (t.id === tagId ? { ...t, label: labelDraft, color: colorDraft } : t));\r\n    }\r\n    await saveTagsToUser(newTags);\r\n    setTags(newTags);\r\n    try {\r\n      const ev = new CustomEvent(config.events.userUpdated, {\r\n        detail: { userId: String(currentUserId), tags: newTags },\r\n      });\r\n      window.dispatchEvent(ev as unknown as Event);\r\n    } catch {}\r\n\r\n    setIsUpdating(false);\r\n    closeEdit();\r\n  };\r\n\r\n  const confirmDelete = (tagId: string) => {\r\n    setDeletingTagId(tagId);\r\n  };\r\n  const handleDelete = () => {\r\n    if (!deletingTag) return;\r\n    const newTags = tags.filter((t) => t.id !== deletingTag.id);\r\n    setTags(newTags);\r\n    saveTagsToUser(newTags);\r\n    try {\r\n      const ev = new CustomEvent(config.events.userUpdated, {\r\n        detail: { userId: String(currentUserId), tags: newTags },\r\n      });\r\n      window.dispatchEvent(ev as unknown as Event);\r\n    } catch {}\r\n    setDeletingTagId(null);\r\n  };\r\n  const cancelDelete = () => setDeletingTagId(null);\r\n\r\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\r\n\r\n  const handleDragStart = (e: React.DragEvent, index: number) => {\r\n    setDraggedIndex(index);\r\n    e.dataTransfer.effectAllowed = 'move';\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = 'move';\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent, dropIndex: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex === null || draggedIndex === dropIndex) return;\r\n    const newTags = [...tags];\r\n    const [moved] = newTags.splice(draggedIndex, 1);\r\n    newTags.splice(dropIndex, 0, moved);\r\n    setTags(newTags);\r\n    saveTagsToUser(newTags);\r\n    try {\r\n      const ev = new CustomEvent(config.events.userUpdated, {\r\n        detail: { userId: String(currentUserId), tags: newTags },\r\n      });\r\n      window.dispatchEvent(ev as unknown as Event);\r\n    } catch {}\r\n    setDraggedIndex(null);\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 md:p-4\">\r\n      <div className=\"bg-white w-full h-full md:h-auto md:max-w-md md:rounded-lg shadow-xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 flex flex-col\">\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 flex-none\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">{config.titles.main}</h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-1 rounded-full hover:bg-gray-100 text-gray-500 transition-colors cursor-pointer\"\r\n          >\r\n            <HiXMark className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-4 flex-1 flex flex-col min-h-0\">\r\n          <div className=\"mb-3 text-sm text-gray-600 flex-none\">{config.titles.list}</div>\r\n\r\n          <div className=\"space-y-2 flex-1 overflow-y-auto custom-scrollbar md:max-h-[60vh]\">\r\n            {tags.map((tag, index) => (\r\n              <div\r\n                key={tag.id}\r\n                draggable\r\n                onDragStart={(e) => handleDragStart(e, index)}\r\n                onDragOver={handleDragOver}\r\n                onDrop={(e) => handleDrop(e, index)}\r\n                className={`flex items-center justify-between gap-3 p-3 bg-gray-50 rounded-md group hover:bg-gray-100 transition-colors cursor-move mr-1 ${\r\n                  draggedIndex === index ? 'opacity-50 ring-2 ring-blue-500 ring-dashed' : ''\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button className=\"text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing\">\r\n                    <HiBars3 className=\"w-5 h-5\" />\r\n                  </button>\r\n\r\n                  <div className={`flex items-center justify-center`}>\r\n                    <div\r\n                      className={`h-4 w-6 ${tag.color}`}\r\n                      style={{ clipPath: 'polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)' }}\r\n                    />\r\n                  </div>\r\n\r\n                  <span className=\"flex-1 text-gray-700 font-medium text-sm\">{tag.label}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <button\r\n                    className=\"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors\"\r\n                    onClick={() => openEdit(tag.id)}\r\n                  >\r\n                    <CiEdit className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button\r\n                    className=\"cursor-pointer text-red-600 hover:text-red-700 transition-colors\"\r\n                    onClick={() => confirmDelete(tag.id)}\r\n                  >\r\n                    <CiTrash className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <button\r\n            className=\"cursor-pointer mt-4 flex items-center gap-2 text-blue-600 font-medium hover:text-blue-700 transition-colors w-full px-2 py-2 rounded-md hover:bg-blue-50\"\r\n            onClick={openCreate}\r\n          >\r\n            <HiPlus className=\"w-5 h-5\" />\r\n            <span>{config.titles.add}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {deletingTag && (\r\n        <div className=\"fixed inset-0 z-[10000] flex items-center justify-center bg-black/40 p-4\">\r\n          <div className=\"bg-white w-full max-w-sm rounded-lg shadow-xl overflow-hidden\">\r\n            <div className=\"px-4 py-3 border-b border-gray-100\">\r\n              <h4 className=\"text-base font-semibold text-gray-800\">{config.titles.deleteConfirm}</h4>\r\n            </div>\r\n            <div className=\"px-4 py-3 text-sm text-gray-700\">\r\n              Bạn có chắc muốn xóa {config.titles.itemName} “{deletingTag.label}”?\r\n            </div>\r\n            <div className=\"px-4 py-3 flex items-center justify-end gap-2\">\r\n              <button\r\n                className=\"cursor-pointer px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 text-sm font-medium\"\r\n                onClick={cancelDelete}\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                className=\"cursor-pointer px-3 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white text-sm font-medium\"\r\n                onClick={handleDelete}\r\n              >\r\n                Xóa\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {(editingTag || isCreating) && (\r\n        <div className=\"fixed inset-0 z-[10000] flex items-center justify-center bg-black/40 md:p-4\">\r\n          <div className=\"bg-white w-full h-full md:h-auto md:max-w-lg md:rounded-lg shadow-xl overflow-hidden flex flex-col\">\r\n            <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 flex-none\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={closeEdit}\r\n                  className=\"p-1 rounded-full hover:bg-gray-100 text-gray-500 transition-colors cursor-pointer\"\r\n                  title=\"Quay lại\"\r\n                >\r\n                  <HiChevronLeft className=\"w-6 h-6\" />\r\n                </button>\r\n                <h4 className=\"text-base font-semibold text-gray-800\">\r\n                  {isCreating ? config.titles.create : config.titles.edit}\r\n                </h4>\r\n              </div>\r\n              <button\r\n                onClick={closeEdit}\r\n                className=\"p-1 rounded-full hover:bg-gray-100 text-gray-500 transition-colors cursor-pointer\"\r\n              >\r\n                <HiXMark className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"p-4 space-y-4 flex-1 overflow-y-auto\">\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-sm text-gray-600\">Tên {config.titles.itemName}</div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input\r\n                    value={labelDraft}\r\n                    onChange={(e) => setLabelDraft(e.target.value)}\r\n                    placeholder={`Nhập tên ${config.titles.itemName}`}\r\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <div className=\"relative\">\r\n                    <button\r\n                      className={`cursor-pointer h-6 w-10 ${colorDraft} rounded-md`}\r\n                      onClick={() => setShowColorPicker((s) => !s)}\r\n                      style={{ clipPath: 'polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)' }}\r\n                      title=\"Đổi màu\"\r\n                    />\r\n                    {showColorPicker && (\r\n                      <div className=\"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl p-2 z-[10001]\">\r\n                        <div className=\"px-1 pb-1 text-xs font-medium text-gray-600\">Thay đổi màu thẻ</div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {availableColors.map((c) => (\r\n                            <button\r\n                              key={c}\r\n                              className={`relative w-6 h-6 rounded-sm ${c} border border-white shadow-sm`}\r\n                              onClick={() => {\r\n                                setColorDraft(c);\r\n                                setShowColorPicker(false);\r\n                              }}\r\n                              title={c}\r\n                            >\r\n                              {colorDraft === c && (\r\n                                <span className=\"absolute inset-0 flex items-center justify-center\">\r\n                                  <HiCheck className=\"w-3.5 h-3.5 text-yellow-300 drop-shadow\" />\r\n                                </span>\r\n                              )}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-sm text-gray-600\">Hội thoại được gắn thẻ</div>\r\n                <button\r\n                  className=\"cursor-pointer text-blue-600 text-sm font-medium\"\r\n                  onClick={() => setAddingPanelOpen((s) => !s)}\r\n                >\r\n                  + Thêm hội thoại\r\n                </button>\r\n                {addingPanelOpen && (\r\n                  <div className=\"mt-2 border border-gray-200 rounded-md\">\r\n                    <div className=\"p-2 border-b border-gray-200\">\r\n                      <input\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        placeholder=\"Tìm hội thoại\"\r\n                        className=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"max-h-48 overflow-auto custom-scrollbar\">\r\n                      {allChats\r\n                        .filter((c) => !selectedChats.includes(String(c._id)))\r\n                        .filter((c) => accentAwareIncludes(getChatDisplayName(c), searchTerm.trim()))\r\n                        .slice(0, 50)\r\n                        .map((c) => (\r\n                          <button\r\n                            key={String(c._id)}\r\n                            className=\"w-full flex items-center gap-3 p-2 hover:bg-gray-50 text-left transition-colors\"\r\n                            onClick={() => {\r\n                              setSelectedChats((p) => [...p, String(c._id)]);\r\n                              setAddingPanelOpen(false);\r\n                              setSearchTerm('');\r\n                            }}\r\n                          >\r\n                            <div className=\"relative w-8 h-8 flex-none\">\r\n                              <Image\r\n                                src={getProxyUrl(c.avatar || '/logo/avata.webp')}\r\n                                alt=\"\"\r\n                                fill\r\n                                className=\"rounded-full object-cover\"\r\n                              />\r\n                            </div>\r\n                            <span className=\"text-sm text-gray-700 truncate\">{getChatDisplayName(c)}</span>\r\n                          </button>\r\n                        ))}\r\n                      {allChats.filter((c) => !selectedChats.includes(String(c._id))).length === 0 && (\r\n                        <div className=\"p-4 text-center text-sm text-gray-500\">Không còn hội thoại nào để thêm</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"space-y-1 max-h-48 overflow-y-auto custom-scrollbar\">\r\n                  {selectedChats.map((chatId) => {\r\n                    const chat = allChats.find((c) => String(c._id) === chatId);\r\n                    if (!chat) return null;\r\n                    return (\r\n                      <div key={chatId} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-md\">\r\n                        <div className=\"flex items-center gap-2 overflow-hidden\">\r\n                          <div className=\"relative w-6 h-6 flex-none\">\r\n                            <Image\r\n                              src={getProxyUrl(chat.avatar || '/placeholder-user.jpg')}\r\n                              alt=\"\"\r\n                              fill\r\n                              className=\"rounded-full object-cover\"\r\n                            />\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-700 truncate\">{getChatDisplayName(chat)}</span>\r\n                        </div>\r\n                        <button\r\n                          className=\"text-gray-400 hover:text-red-500 transition-colors p-1\"\r\n                          onClick={() => {\r\n                            setSelectedChats((prev) => prev.filter((x) => x !== chatId));\r\n                            // Optional: Remove immediately if in edit mode (not create mode)\r\n                            // The original code did this:\r\n                            // if (editingTag && !isCreating) { handleRemoveChatFromTag(chatId) }\r\n                            // where handleRemoveChatFromTag calls API directly.\r\n                            // However, standard UI pattern often waits for \"Apply\" / \"Save\".\r\n                            // But original code had:\r\n                            // const handleRemoveChatFromTag = async (chatId: string) => { ... if (editingTag && !isCreating) { ... requestUpdateCategories ... } }\r\n                            // And the UI called it.\r\n                            // Here I am just removing from selectedChats state.\r\n                            // If I want to replicate exact behavior, I need to call API here if editing.\r\n                          }}\r\n                        >\r\n                          <HiXMark className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {selectedChats.length === 0 && !addingPanelOpen && (\r\n                    <div className=\"text-sm text-gray-400 italic py-2\">Chưa có hội thoại nào được chọn</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-4 border-t border-gray-100 flex justify-end gap-2 bg-gray-50\">\r\n              <button\r\n                className=\"cursor-pointer px-4 py-2 rounded-md text-gray-700 hover:bg-gray-200 text-sm font-medium transition-colors\"\r\n                onClick={closeEdit}\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                className=\"cursor-pointer px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                onClick={handleApplyEdit}\r\n                disabled={!labelDraft.trim() || isUpdating}\r\n              >\r\n                {isUpdating ? 'Đang lưu...' : 'Lưu thay đổi'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/modal/CategoryManagerModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport type { User } from '@/types/User';\r\nimport type { GroupConversation } from '@/types/Group';\r\nimport BaseManagerModal, { ManagerConfig } from './BaseManagerModal';\r\n\r\ninterface CategoryManagerModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  currentUserId?: string;\r\n  currentUser?: User;\r\n  groups?: GroupConversation[];\r\n  allUsers?: User[];\r\n}\r\n\r\nconst config: ManagerConfig = {\r\n  titles: {\r\n    main: 'Quản lý thẻ phân loại',\r\n    list: 'Danh sách thẻ phân loại',\r\n    add: 'Thêm phân loại',\r\n    edit: 'Chi tiết thẻ phân loại',\r\n    create: 'Thêm phân loại',\r\n    deleteConfirm: 'Xác nhận xóa',\r\n    itemName: 'thẻ phân loại',\r\n  },\r\n  fields: {\r\n    userTags: 'categoryTags',\r\n    chatTagsBy: 'categoriesBy',\r\n    chatTagsSimple: 'categories',\r\n  },\r\n  events: {\r\n    userUpdated: 'userCategoryTagsUpdated',\r\n    chatUpdated: 'chatCategoriesUpdated',\r\n    localStorageKeyPrefix: 'chatCategories',\r\n  },\r\n  api: {\r\n    updateChatAction: 'updateCategories',\r\n    updateChatDataField: 'categories',\r\n  },\r\n};\r\n\r\nexport default function CategoryManagerModal(props: CategoryManagerModalProps) {\r\n  return <BaseManagerModal {...props} config={config} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;;;AAWA,MAAM,SAAwB;IAC5B,QAAQ;QACN,MAAM;QACN,MAAM;QACN,KAAK;QACL,MAAM;QACN,QAAQ;QACR,eAAe;QACf,UAAU;IACZ;IACA,QAAQ;QACN,UAAU;QACV,YAAY;QACZ,gBAAgB;IAClB;IACA,QAAQ;QACN,aAAa;QACb,aAAa;QACb,uBAAuB;IACzB;IACA,KAAK;QACH,kBAAkB;QAClB,qBAAqB;IACvB;AACF;AAEe,SAAS,qBAAqB,KAAgC;IAC3E,qBAAO,8OAAC,0JAAgB;QAAE,GAAG,KAAK;QAAE,QAAQ;;;;;;AAC9C"}},
    {"offset": {"line": 1237, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/modal/TagManagerModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport type { User } from '@/types/User';\r\nimport type { GroupConversation } from '@/types/Group';\r\nimport BaseManagerModal, { ManagerConfig } from './BaseManagerModal';\r\n\r\ninterface TagManagerModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  currentUserId?: string;\r\n  currentUser?: User;\r\n  groups?: GroupConversation[];\r\n  allUsers?: User[];\r\n}\r\n\r\nconst config: ManagerConfig = {\r\n  titles: {\r\n    main: 'Quản lý thẻ tags',\r\n    list: 'Danh sách thẻ tags',\r\n    add: 'Thêm thẻ mới',\r\n    edit: 'Chi tiết thẻ tags',\r\n    create: 'Thêm thẻ mới',\r\n    deleteConfirm: 'Xác nhận xóa',\r\n    itemName: 'thẻ tags',\r\n  },\r\n  fields: {\r\n    userTags: 'userTags',\r\n    chatTagsBy: 'tagsBy',\r\n    chatTagsSimple: 'tags',\r\n  },\r\n  events: {\r\n    userUpdated: 'userTagsUpdated',\r\n    chatUpdated: 'chatTagsUpdated',\r\n    localStorageKeyPrefix: 'chatTags',\r\n  },\r\n  api: {\r\n    updateChatAction: 'updateTags',\r\n    updateChatDataField: 'tags',\r\n  },\r\n};\r\n\r\nexport default function TagManagerModal(props: TagManagerModalProps) {\r\n  return <BaseManagerModal {...props} config={config} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;;;AAWA,MAAM,SAAwB;IAC5B,QAAQ;QACN,MAAM;QACN,MAAM;QACN,KAAK;QACL,MAAM;QACN,QAAQ;QACR,eAAe;QACf,UAAU;IACZ;IACA,QAAQ;QACN,UAAU;QACV,YAAY;QACZ,gBAAgB;IAClB;IACA,QAAQ;QACN,aAAa;QACb,aAAa;QACb,uBAAuB;IACzB;IACA,KAAK;QACH,kBAAkB;QAClB,qBAAqB;IACvB;AACF;AAEe,SAAS,gBAAgB,KAA2B;IACjE,qBAAO,8OAAC,0JAAgB;QAAE,GAAG,KAAK;QAAE,QAAQ;;;;;;AAC9C"}},
    {"offset": {"line": 1284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/modal/SuccessModal.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { HiCheck, HiX } from 'react-icons/hi';\r\n\r\ninterface SuccessModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  description?: string;\r\n  autoCloseTime?: number; // ms\r\n}\r\n\r\nconst SuccessModal: React.FC<SuccessModalProps> = ({ \r\n  isOpen, \r\n  onClose, \r\n  title = \"Thành công\", \r\n  description = \"Thao tác đã được thực hiện thành công.\",\r\n  autoCloseTime = 3000\r\n}) => {\r\n  useEffect(() => {\r\n    if (isOpen && autoCloseTime > 0) {\r\n      const timer = setTimeout(() => {\r\n        onClose();\r\n      }, autoCloseTime);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isOpen, autoCloseTime, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4\">\r\n      {/* Overlay */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity\"\r\n        onClick={onClose}\r\n      />\r\n\r\n      {/* Modal Content */}\r\n      <div className=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden transform transition-all animate-in fade-in zoom-in duration-200\">\r\n        {/* Decorative Header Background */}\r\n        <div className=\"h-24 bg-gradient-to-br from-green-400 to-emerald-600 relative overflow-hidden\">\r\n          <div className=\"absolute top-0 right-0 p-8 bg-white/10 rounded-full transform translate-x-1/2 -translate-y-1/2 blur-2xl w-32 h-32\" />\r\n          <div className=\"absolute bottom-0 left-0 p-8 bg-black/10 rounded-full transform -translate-x-1/2 translate-y-1/2 blur-xl w-24 h-24\" />\r\n          \r\n          <button \r\n            onClick={onClose}\r\n            className=\"absolute top-3 right-3 p-1.5 bg-white/20 hover:bg-white/30 text-white rounded-full transition-colors backdrop-blur-sm\"\r\n          >\r\n            <HiX className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Icon & Content */}\r\n        <div className=\"px-6 pb-8 pt-0 relative\">\r\n          <div className=\"absolute -top-12 left-1/2 transform -translate-x-1/2\">\r\n            <div className=\"w-10 h-10 bg-white rounded-full p-2 shadow-lg flex items-center justify-center\">\r\n              <div className=\"w-full h-full bg-green-50 rounded-full flex items-center justify-center border-4 border-green-100\">\r\n                <HiCheck className=\"w-10 h-10 text-green-500\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-12 text-center space-y-3\">\r\n            <h3 className=\"text-xl font-bold text-gray-900\">\r\n              {title}\r\n            </h3>\r\n            <p className=\"text-gray-500 text-sm leading-relaxed\">\r\n              {description}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"mt-8 flex justify-center\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"cursor-pointer px-8 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-sm font-semibold rounded-xl hover:from-green-600 hover:to-emerald-700 shadow-lg shadow-green-500/30 transform transition-all active:scale-95\"\r\n            >\r\n              Đóng\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuccessModal;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUA,MAAM,eAA4C,CAAC,EACjD,MAAM,EACN,OAAO,EACP,QAAQ,YAAY,EACpB,cAAc,wCAAwC,EACtD,gBAAgB,IAAI,EACrB;IACC,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU,gBAAgB,GAAG;YAC/B,MAAM,QAAQ,WAAW;gBACvB;YACF,GAAG;YACH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAQ;QAAe;KAAQ;IAEnC,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CAEf,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC,qJAAG;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKnB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,yJAAO;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;0CAKzB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX;;;;;;kDAEH,8OAAC;wCAAE,WAAU;kDACV;;;;;;;;;;;;0CAIL,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;uCAEe"}},
    {"offset": {"line": 1456, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICPin.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface EditToolIconProps {\r\n  size?: number | string;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst ICPin: React.FC<EditToolIconProps> = ({\r\n  size = 24,\r\n  className = '',\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 512 512\"\r\n      width={size}\r\n      height={size}\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={18}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      className={className}\r\n      onClick={onClick}\r\n    >\r\n      <path d=\"M499.505,128.508l-72.045-72.045c-3.163-3.162-8.293-3.162-11.455,0\r\n      c-3.163,3.164-3.163,8.293,0,11.456l72.045,72.044\r\n      c10.2,10.201,10.2,27.222,0,37.422c-10.201,10.2-27.221,10.2-37.421-0.001\r\n      L334.614,61.371c-10.2-10.199-10.2-27.22,0-37.419\r\n      c10.2-10.201,27.221-10.201,37.421,0l23.986,23.984\r\n      c3.163,3.162,8.293,3.163,11.455-0.001c3.163-3.163,3.163-8.293,0-11.455\r\n      l-23.984-23.984C375.434,4.438,364.721,0,353.324,0\r\n      c-11.396,0-22.108,4.438-30.167,12.495\r\n      c-8.057,8.058-12.495,18.771-12.495,30.167\r\n      c0,8.646,2.56,16.895,7.312,23.894L204.956,179.574\r\n      c-3.392-1.254-6.81-2.441-10.263-3.52\r\n      c-31.896-9.958-66.224-12.369-99.277-6.976\r\n      c-6.383,1.041-9.004,9.14-4.423,13.723l95.046,95.046\r\n      l-25.347,25.347c-3.163,3.165-3.163,8.293,0,11.456\r\n      c3.163,3.162,8.293,3.162,11.455,0l25.347-25.347\r\n      l25.203,25.202L58.708,478.495l-37.804,12.602\r\n      l12.601-37.804l120.011-120.011c3.163-3.164,3.163-8.293,0-11.456\r\n      c-3.163-3.162-8.293-3.162-11.455,0L20.697,443.19\r\n      c-0.889,0.889-1.56,1.973-1.957,3.167L0.411,501.343\r\n      c-2.069,6.207,4.033,12.317,10.246,10.246l54.987-18.329\r\n      c1.192-0.397,2.277-1.067,3.167-1.957l165.341-165.341\r\n      l95.047,95.046c4.583,4.583,12.681,1.954,13.723-4.424\r\n      c5.394-33.054,2.981-67.384-6.976-99.277\r\n      c-1.078-3.453-2.266-6.87-3.52-10.264l113.019-113.019\r\n      c6.999,4.752,15.248,7.312,23.894,7.312\r\n      c11.396,0,22.108-4.438,30.167-12.495\r\n      c8.057-8.058,12.495-18.771,12.495-30.167\r\n      S507.562,136.566,499.505,128.508z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ICPin;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,QAAqC,CAAC,EAC1C,OAAO,EAAE,EACT,YAAY,EAAE,EACd,OAAO,EACR;IACC,qBACE,8OAAC;QACC,OAAM;QACN,SAAQ;QACR,OAAO;QACP,QAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAa;QACb,eAAc;QACd,gBAAe;QACf,WAAW;QACX,SAAS;kBAET,cAAA,8OAAC;YAAK,GAAE;;;;;;;;;;;AA8Bd;uCAEe"}},
    {"offset": {"line": 1493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICTrash.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface TrashIconProps {\r\n  size?: number | string;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst ICTrash: React.FC<TrashIconProps> = ({\r\n  size = 24,\r\n  className = '',\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      width={size}\r\n      height={size}\r\n      fill=\"white\"                 // 👈 lõi luôn trắng\r\n      stroke=\"currentColor\"        // 👈 viền đổi theo text-*\r\n      strokeWidth={0.504}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      className={className}\r\n      onClick={onClick}\r\n    >\r\n      <path d=\"M20.5001 6H3.5\" />\r\n\r\n      <path d=\"M18.8332 8.5L18.3732 15.3991\r\n        C18.1962 18.054 18.1077 19.3815 17.2427 20.1907\r\n        C16.3777 21 15.0473 21 12.3865 21H11.6132\r\n        C8.95235 21 7.62195 21 6.75694 20.1907\r\n        C5.89194 19.3815 5.80344 18.054 5.62644 15.3991\r\n        L5.1665 8.5\"\r\n      />\r\n\r\n      <path d=\"M6.5 6\r\n        C6.55588 6 6.58382 6 6.60915 5.99936\r\n        C7.43259 5.97849 8.15902 5.45491 8.43922 4.68032\r\n        C8.44784 4.65649 8.45667 4.62999 8.47434 4.57697\r\n        L8.57143 4.28571\r\n        C8.65431 4.03708 8.69575 3.91276 8.75071 3.8072\r\n        C8.97001 3.38607 9.37574 3.09364 9.84461 3.01877\r\n        C9.96213 3 10.0932 3 10.3553 3H13.6447\r\n        C13.9068 3 14.0379 3 14.1554 3.01877\r\n        C14.6243 3.09364 15.03 3.38607 15.2493 3.8072\r\n        C15.3043 3.91276 15.3457 4.03708 15.4286 4.28571\r\n        L15.5257 4.57697\r\n        C15.5433 4.62992 15.5522 4.65651 15.5608 4.68032\r\n        C15.841 5.45491 16.5674 5.97849 17.3909 5.99936\r\n        C17.4162 6 17.4441 6 17.5 6\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ICTrash;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,UAAoC,CAAC,EACzC,OAAO,EAAE,EACT,YAAY,EAAE,EACd,OAAO,EACR;IACC,qBACE,8OAAC;QACC,OAAM;QACN,SAAQ;QACR,OAAO;QACP,QAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAa;QACb,eAAc;QACd,gBAAe;QACf,WAAW;QACX,SAAS;;0BAET,8OAAC;gBAAK,GAAE;;;;;;0BAER,8OAAC;gBAAK,GAAE;;;;;;0BAQR,8OAAC;gBAAK,GAAE;;;;;;;;;;;;AAkBd;uCAEe"}},
    {"offset": {"line": 1546, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICIcon1.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface DotsIconProps extends React.SVGProps<SVGSVGElement> {\r\n  dotColor?: string;\r\n}\r\n\r\nconst DotsIcon: React.FC<DotsIconProps> = ({ dotColor = '#000000', className, ...props }) => {\r\n  return (\r\n    <svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\" className={className} {...props}>\r\n      <rect width=\"500\" height=\"500\" fill=\"none\" />\r\n      <circle cx=\"180.21\" cy=\"250\" r=\"14.38\" fill={dotColor} />\r\n      <circle cx=\"250\" cy=\"250\" r=\"14.38\" fill={dotColor} />\r\n      <circle cx=\"319.79\" cy=\"250\" r=\"14.38\" fill={dotColor} />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default DotsIcon;\r\n"],"names":[],"mappings":";;;;;;AAMA,MAAM,WAAoC,CAAC,EAAE,WAAW,SAAS,EAAE,SAAS,EAAE,GAAG,OAAO;IACtF,qBACE,8OAAC;QAAI,SAAQ;QAAc,OAAM;QAA6B,WAAW;QAAY,GAAG,KAAK;;0BAC3F,8OAAC;gBAAK,OAAM;gBAAM,QAAO;gBAAM,MAAK;;;;;;0BACpC,8OAAC;gBAAO,IAAG;gBAAS,IAAG;gBAAM,GAAE;gBAAQ,MAAM;;;;;;0BAC7C,8OAAC;gBAAO,IAAG;gBAAM,IAAG;gBAAM,GAAE;gBAAQ,MAAM;;;;;;0BAC1C,8OAAC;gBAAO,IAAG;gBAAS,IAAG;gBAAM,GAAE;gBAAQ,MAAM;;;;;;;;;;;;AAGnD;uCAEe"}},
    {"offset": {"line": 1610, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICIconImageZalo.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ImageIconProps extends React.SVGProps<SVGSVGElement> {\r\n  iconColor?: string;\r\n}\r\n\r\nconst ImageIconZalo: React.FC<ImageIconProps> = ({ iconColor = '#000000', className, ...props }) => {\r\n  return (\r\n    <svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\" className={className} {...props}>\r\n      <rect width=\"500\" height=\"500\" fill=\"none\" />\r\n\r\n      <path\r\n        fill={iconColor}\r\n        d=\"m312.44,345.37h-124.89c-18.15,0-32.92-14.77-32.92-32.92v-124.89c0-18.15,14.77-32.92,32.92-32.92h124.89c18.15,0,32.92,14.77,32.92,32.92v124.89c0,18.15-14.77,32.92-32.92,32.92Zm-124.89-180.12c-12.3,0-22.31,10.01-22.31,22.31v124.89c0,12.3,10.01,22.31,22.31,22.31h124.89c12.3,0,22.31-10.01,22.31-22.31v-124.89c0-12.3-10.01-22.31-22.31-22.31h-124.89Z\"\r\n      />\r\n\r\n      <circle cx=\"215.17\" cy=\"214.99\" r=\"14.28\" fill={iconColor} />\r\n\r\n      <path\r\n        fill={iconColor}\r\n        d=\"m161.71,307.88l-7-8.1,34.06-29.43c6.33-5.46,15.57-5.55,21.98-.2l14.15,11.84c2.71,2.26,6.6,2.27,9.26.02l42.53-35.22c6.23-5.15,15.17-5.05,21.25.21l45.59,38.98-6.95,8.14-45.62-39c-2.15-1.86-5.26-1.88-7.44-.08l-42.49,35.18c-6.61,5.58-16.29,5.58-22.98-.01l-14.15-11.84c-2.33-1.94-5.83-1.91-8.13.08l-34.05,29.43Z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ImageIconZalo;\r\n"],"names":[],"mappings":";;;;;;AAMA,MAAM,gBAA0C,CAAC,EAAE,YAAY,SAAS,EAAE,SAAS,EAAE,GAAG,OAAO;IAC7F,qBACE,8OAAC;QAAI,SAAQ;QAAc,OAAM;QAA6B,WAAW;QAAY,GAAG,KAAK;;0BAC3F,8OAAC;gBAAK,OAAM;gBAAM,QAAO;gBAAM,MAAK;;;;;;0BAEpC,8OAAC;gBACC,MAAM;gBACN,GAAE;;;;;;0BAGJ,8OAAC;gBAAO,IAAG;gBAAS,IAAG;gBAAS,GAAE;gBAAQ,MAAM;;;;;;0BAEhD,8OAAC;gBACC,MAAM;gBACN,GAAE;;;;;;;;;;;;AAIV;uCAEe"}},
    {"offset": {"line": 1670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/MicIcon.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface MicOutlineIconProps extends React.SVGProps<SVGSVGElement> {\r\n  strokeWidth?: number;\r\n}\r\n\r\nconst MicIcon: React.FC<MicOutlineIconProps> = ({ strokeWidth = 10, className, ...props }) => {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 500 500\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={className}\r\n      stroke=\"black\"\r\n      fill=\"none\"\r\n      {...props}\r\n    >\r\n      {/* Thân mic */}\r\n      <path\r\n        d=\"m251.81,298.44c-23.98,0-43.48-19.51-43.48-43.48v-66.07c0-23.98,19.51-43.49,43.48-43.49s43.48,19.51,43.48,43.49v66.07c0,23.98-19.51,43.48-43.48,43.48Z\"\r\n        strokeWidth={strokeWidth}\r\n      />\r\n\r\n      {/* Vòng mic */}\r\n      <path\r\n        d=\"m250.16,323.9c-18.31,0-36.25-7.74-49.47-21.41-13.97-14.43-21.3-34.12-20.1-54.01\"\r\n        strokeWidth={strokeWidth}\r\n        strokeLinecap=\"round\"\r\n      />\r\n      <path\r\n        d=\"m250.16,323.9c18.24-.49,36.01-8.76,48.77-22.7,13.27-14.49,19.93-33.21,18.73-52.7\"\r\n        strokeWidth={strokeWidth}\r\n        strokeLinecap=\"round\"\r\n      />\r\n\r\n      {/* Chân mic */}\r\n      <path d=\"m277.58,354.6h-51.54\" strokeWidth={strokeWidth} strokeLinecap=\"round\" />\r\n      <path d=\"m251.81,320.37v27.21\" strokeWidth={strokeWidth} strokeLinecap=\"round\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default MicIcon;\r\n"],"names":[],"mappings":";;;;;;AAMA,MAAM,UAAyC,CAAC,EAAE,cAAc,EAAE,EAAE,SAAS,EAAE,GAAG,OAAO;IACvF,qBACE,8OAAC;QACC,SAAQ;QACR,OAAM;QACN,WAAW;QACX,QAAO;QACP,MAAK;QACJ,GAAG,KAAK;;0BAGT,8OAAC;gBACC,GAAE;gBACF,aAAa;;;;;;0BAIf,8OAAC;gBACC,GAAE;gBACF,aAAa;gBACb,eAAc;;;;;;0BAEhB,8OAAC;gBACC,GAAE;gBACF,aAAa;gBACb,eAAc;;;;;;0BAIhB,8OAAC;gBAAK,GAAE;gBAAuB,aAAa;gBAAa,eAAc;;;;;;0BACvE,8OAAC;gBAAK,GAAE;gBAAuB,aAAa;gBAAa,eAAc;;;;;;;;;;;;AAG7E;uCAEe"}},
    {"offset": {"line": 1741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICSmile.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst ICSmile = ({ className, stroke }: { className?: string; stroke?: string }) => {\r\n  return (\r\n    <div>\r\n      <svg\r\n        className={className}\r\n        width=\"800px\"\r\n        height=\"800px\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM8.39747 15.5534C8.64413 15.2206 9.11385 15.1508 9.44661 15.3975C10.175 15.9373 11.0541 16.25 12 16.25C12.9459 16.25 13.825 15.9373 14.5534 15.3975C14.8862 15.1508 15.3559 15.2206 15.6025 15.5534C15.8492 15.8862 15.7794 16.3559 15.4466 16.6025C14.4742 17.3233 13.285 17.75 12 17.75C10.715 17.75 9.5258 17.3233 8.55339 16.6025C8.22062 16.3559 8.15082 15.8862 8.39747 15.5534Z\"\r\n          fill={stroke || '#1C274C'}\r\n        />\r\n        <path\r\n          d=\"M16 10.5C16 11.3284 15.5523 12 15 12C14.4477 12 14 11.3284 14 10.5C14 9.67157 14.4477 9 15 9C15.5523 9 16 9.67157 16 10.5Z\"\r\n          fill={stroke || '#1C274C'}\r\n        />\r\n        <path\r\n          d=\"M10 10.5C10 11.3284 9.55229 12 9 12C8.44772 12 8 11.3284 8 10.5C8 9.67157 8.44772 9 9 9C9.55229 9 10 9.67157 10 10.5Z\"\r\n          fill={stroke || '#1C274C'}\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ICSmile;\r\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,UAAU,CAAC,EAAE,SAAS,EAAE,MAAM,EAA2C;IAC7E,qBACE,8OAAC;kBACC,cAAA,8OAAC;YACC,WAAW;YACX,OAAM;YACN,QAAO;YACP,SAAQ;YACR,MAAK;YACL,OAAM;;8BAEN,8OAAC;oBACC,UAAS;oBACT,UAAS;oBACT,GAAE;oBACF,MAAM,UAAU;;;;;;8BAElB,8OAAC;oBACC,GAAE;oBACF,MAAM,UAAU;;;;;;8BAElB,8OAAC;oBACC,GAAE;oBACF,MAAM,UAAU;;;;;;;;;;;;;;;;;AAK1B;uCAEe"}},
    {"offset": {"line": 1800, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICShareMessage.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ShareForwardIconProps {\r\n  size?: number | string;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst ICShareMessage: React.FC<ShareForwardIconProps> = ({\r\n  size = 24,\r\n  className = '',\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      width={size}\r\n      height={size}\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"1.2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      className={className}\r\n      onClick={onClick}\r\n    >\r\n      <path d=\"M10.1141,4.49112\r\n        L9.91063,7.63542\r\n        L9.891,8.05196\r\n        L9.8012,8.06134\r\n        C5.36297,8.583 2,12.3671 2,17\r\n        C2,17.457 2.03414,17.91 2.10168,18.3565\r\n        C2.38094,20.2022 2.59088,20.3807 3.87391,18.8547\r\n        C4.18977,18.479 4.54227,18.1439 4.91368,17.8247\r\n        C6.24977,16.7224 7.90632,16.0786 9.66842,16.0067\r\n        L9.894,16.002\r\n        L9.95549,17.2308\r\n        L10.1215,19.576\r\n        C10.2008,20.38 11.0467,20.9293 11.8253,20.4902\r\n        C12.1766,20.2919 12.52,20.0809 12.8641,19.8706\r\n        C14.652,18.7519 16.3249,17.4666 17.9553,16.1321\r\n        C18.9147,15.3326 19.7558,14.5744 20.4714,13.8844\r\n        C20.8007,13.5606 21.1304,13.2376 21.4496,12.9037\r\n        C21.9118,12.42 21.9575,11.6189 21.4737,11.1124\r\n        C20.3603,9.94706 18.7862,8.48751 16.8271,6.94049\r\n        C15.2394,5.69825 13.597,4.53773 11.8571,3.51856\r\n        C11.0203,3.04172 10.1902,3.69599 10.1141,4.49112 Z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ICShareMessage;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,iBAAkD,CAAC,EACvD,OAAO,EAAE,EACT,YAAY,EAAE,EACd,OAAO,EACR;IACC,qBACE,8OAAC;QACC,OAAM;QACN,SAAQ;QACR,OAAO;QACP,QAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,WAAW;QACX,SAAS;kBAET,cAAA,8OAAC;YAAK,GAAE;;;;;;;;;;;AAwBd;uCAEe"}},
    {"offset": {"line": 1837, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/svg/ICTickDouble.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface IconProps {\r\n  size?: number | string;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst ICTickDouble: React.FC<IconProps> = ({\r\n  size = 16,\r\n  className = '',\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 16 16\"\r\n      width={size}\r\n      height={size}\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={1.5}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      className={className}\r\n      onClick={onClick}\r\n    >\r\n      <path d=\"M1.75 9.75L4.25 12.25\" />\r\n      <path d=\"M5.75 8.25L8.25 5.75\" />\r\n      <path d=\"M3.75 10.25L6.25 12.75L12.25 6.25\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ICTickDouble;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,eAAoC,CAAC,EACzC,OAAO,EAAE,EACT,YAAY,EAAE,EACd,OAAO,EACR;IACC,qBACE,8OAAC;QACC,OAAM;QACN,SAAQ;QACR,OAAO;QACP,QAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAa;QACb,eAAc;QACd,gBAAe;QACf,WAAW;QACX,SAAS;;0BAET,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;;;;;;;AAGd;uCAEe"}},
    {"offset": {"line": 1890, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/%28group%29/CommonGroupsMobile.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { HiChevronLeft, HiUserAdd, HiX } from 'react-icons/hi';\r\nimport { HiPlus } from 'react-icons/hi2';\r\nimport { HiMagnifyingGlass } from 'react-icons/hi2';\r\nimport Image from 'next/image';\r\nimport { User } from '@/types/User';\r\nimport { GroupConversation } from '@/types/Group';\r\nimport { getProxyUrl, normalizeNoAccent, hasDiacritics, accentAwareIncludes } from '@/utils/utils';\r\n\r\ninterface CommonGroupsMobileProps {\r\n  groups: GroupConversation[];\r\n  partner: User;\r\n  onBack: () => void;\r\n  onShowCreateGroup: () => void;\r\n  onShowAddToGroup: () => void;\r\n}\r\n\r\nexport default function CommonGroupsMobile({\r\n  groups,\r\n  partner,\r\n  onBack,\r\n  onShowCreateGroup,\r\n  onShowAddToGroup,\r\n}: CommonGroupsMobileProps) {\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const filteredGroups = useMemo(() => {\r\n    if (!searchTerm.trim()) return groups;\r\n    const norm = normalizeNoAccent(searchTerm);\r\n    const hasDia = hasDiacritics(searchTerm);\r\n    return groups.filter((g) => accentAwareIncludes(g.name || '', searchTerm));\r\n  }, [groups, searchTerm]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white w-full\">\r\n      {/* Header */}\r\n      <div className=\"bg-blue-500 text-white px-4 py-3 flex items-center justify-between shrink-0 h-[3.5rem]\">\r\n        {isSearchOpen ? (\r\n          <div className=\"flex items-center gap-2 w-full animate-fadeIn\">\r\n            <div className=\"flex-1 bg-white/20 rounded-lg flex items-center px-3 py-1.5\">\r\n              <HiMagnifyingGlass className=\"w-5 h-5 text-white/70\" />\r\n              <input\r\n                autoFocus\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                placeholder=\"Tìm nhóm...\"\r\n                className=\"w-full bg-transparent border-none outline-none text-white placeholder-white/70 ml-2 text-sm\"\r\n              />\r\n              {searchTerm && (\r\n                <button onClick={() => setSearchTerm('')}>\r\n                  <HiX className=\"w-5 h-5 text-white/70\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                setIsSearchOpen(false);\r\n                setSearchTerm('');\r\n              }}\r\n              className=\"text-black text-sm font-medium whitespace-nowrap cursor-pointer hover:bg-gray-300 p-1 rounded-xl\"\r\n            >\r\n              Hủy\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"flex items-center gap-3\">\r\n              <button onClick={onBack} className=\"p-1 hover:bg-white/20 rounded-full cursor-pointer \">\r\n                <HiChevronLeft className=\"w-6 h-6\" />\r\n              </button>\r\n              <h1 className=\"text-lg font-medium\">Nhóm chung ({groups.length})</h1>\r\n            </div>\r\n            <button onClick={() => setIsSearchOpen(true)} className=\"p-1 hover:bg-white/20 rounded-full cursor-pointer\">\r\n              <HiMagnifyingGlass className=\"w-6 h-6\" />\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      {!isSearchOpen && (\r\n        <div className=\"bg-white shrink-0\">\r\n          <button\r\n            onClick={onShowCreateGroup}\r\n            className=\"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 active:bg-gray-100\"\r\n          >\r\n            <div className=\"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-500\">\r\n              <HiPlus className=\"w-6 h-6\" />\r\n            </div>\r\n            <span className=\"text-blue-500 font-medium\">Tạo nhóm với {partner.name || partner.username}</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={onShowAddToGroup}\r\n            className=\"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 active:bg-gray-100\"\r\n          >\r\n            <div className=\"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-500\">\r\n              <HiUserAdd className=\"w-6 h-6\" />\r\n            </div>\r\n            <span className=\"text-blue-500 font-medium\">Thêm {partner.name || partner.username} vào nhóm</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {!isSearchOpen && <div className=\"h-2 bg-gray-100 shrink-0\" />}\r\n\r\n      {/* Group List */}\r\n      <div className=\"flex-1 overflow-y-auto \">\r\n        {filteredGroups.map((group) => (\r\n          <div key={group._id} className=\"flex items-center gap-4 px-4 py-3 hover:bg-gray-50 \">\r\n            <div className=\"relative w-12 h-12 rounded-full overflow-hidden border border-gray-100 shrink-0\">\r\n              {group.avatar ? (\r\n                <Image src={getProxyUrl(group.avatar)} alt={group.name || 'Group'} fill className=\"object-cover\" />\r\n              ) : (\r\n                <div className=\"w-full h-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold\">\r\n                  {(group.name || 'G').charAt(0).toUpperCase()}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <span className=\"text-[1.3rem] text-gray-800 truncate \">\r\n              {group.name || 'Nhóm'}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        {filteredGroups.length === 0 && (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            {searchTerm ? 'Không tìm thấy nhóm nào' : 'Không có nhóm chung nào'}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AAGA;AATA;;;;;;;;AAmBe,SAAS,mBAAmB,EACzC,MAAM,EACN,OAAO,EACP,MAAM,EACN,iBAAiB,EACjB,gBAAgB,EACQ;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,IAAI,CAAC,WAAW,IAAI,IAAI,OAAO;QAC/B,MAAM,OAAO,IAAA,0IAAiB,EAAC;QAC/B,MAAM,SAAS,IAAA,sIAAa,EAAC;QAC7B,OAAO,OAAO,MAAM,CAAC,CAAC,IAAM,IAAA,4IAAmB,EAAC,EAAE,IAAI,IAAI,IAAI;IAChE,GAAG;QAAC;QAAQ;KAAW;IAEvB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACZ,6BACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,oKAAiB;oCAAC,WAAU;;;;;;8CAC7B,8OAAC;oCACC,SAAS;oCACT,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,aAAY;oCACZ,WAAU;;;;;;gCAEX,4BACC,8OAAC;oCAAO,SAAS,IAAM,cAAc;8CACnC,cAAA,8OAAC,qJAAG;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAIrB,8OAAC;4BACC,SAAS;gCACP,gBAAgB;gCAChB,cAAc;4BAChB;4BACA,WAAU;sCACX;;;;;;;;;;;yCAKH;;sCACE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAO,SAAS;oCAAQ,WAAU;8CACjC,cAAA,8OAAC,+JAAa;wCAAC,WAAU;;;;;;;;;;;8CAE3B,8OAAC;oCAAG,WAAU;;wCAAsB;wCAAa,OAAO,MAAM;wCAAC;;;;;;;;;;;;;sCAEjE,8OAAC;4BAAO,SAAS,IAAM,gBAAgB;4BAAO,WAAU;sCACtD,cAAA,8OAAC,oKAAiB;gCAAC,WAAU;;;;;;;;;;;;;;;;;;YAOpC,CAAC,8BACA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,yJAAM;oCAAC,WAAU;;;;;;;;;;;0CAEpB,8OAAC;gCAAK,WAAU;;oCAA4B;oCAAc,QAAQ,IAAI,IAAI,QAAQ,QAAQ;;;;;;;;;;;;;kCAG5F,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,2JAAS;oCAAC,WAAU;;;;;;;;;;;0CAEvB,8OAAC;gCAAK,WAAU;;oCAA4B;oCAAM,QAAQ,IAAI,IAAI,QAAQ,QAAQ;oCAAC;;;;;;;;;;;;;;;;;;;YAKxF,CAAC,8BAAgB,8OAAC;gBAAI,WAAU;;;;;;0BAGjC,8OAAC;gBAAI,WAAU;;oBACZ,eAAe,GAAG,CAAC,CAAC,sBACnB,8OAAC;4BAAoB,WAAU;;8CAC7B,8OAAC;oCAAI,WAAU;8CACZ,MAAM,MAAM,iBACX,8OAAC,wIAAK;wCAAC,KAAK,IAAA,oIAAW,EAAC,MAAM,MAAM;wCAAG,KAAK,MAAM,IAAI,IAAI;wCAAS,IAAI;wCAAC,WAAU;;;;;6DAElF,8OAAC;wCAAI,WAAU;kDACZ,CAAC,MAAM,IAAI,IAAI,GAAG,EAAE,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;8CAIhD,8OAAC;oCAAK,WAAU;8CACb,MAAM,IAAI,IAAI;;;;;;;2BAXT,MAAM,GAAG;;;;;oBAepB,eAAe,MAAM,KAAK,mBACzB,8OAAC;wBAAI,WAAU;kCACZ,aAAa,4BAA4B;;;;;;;;;;;;;;;;;;AAMtD"}},
    {"offset": {"line": 2202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/%28home%29/HomeWelcomeBanner.tsx"],"sourcesContent":["'use client';\r\n\r\nimport 'swiper/css';\r\nimport 'swiper/css/pagination';\r\n\r\nimport React from 'react';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Autoplay, Pagination } from 'swiper/modules';\r\n\r\nimport { banners } from '@/data/dataBanner';\r\nimport { User } from '@/types/User';\r\nimport Image from 'next/image';\r\nimport { getProxyUrl } from '@/utils/utils';\r\n\r\ninterface HomeWelcomeBannerProps {\r\n  currentUser: User;\r\n}\r\n\r\nexport default function HomeWelcomeBanner({ currentUser }: HomeWelcomeBannerProps) {\r\n  return (\r\n    <main className=\"flex-1 flex flex-col items-center justify-center bg-gray-50 overflow-auto\">\r\n      <div className=\"w-full px-4 py-8\">\r\n        <div className=\"text-center mb-6\">\r\n          <h1 className=\"text-[1.4375rem] text-black\">\r\n            Chào mừng <span className=\"font-bold text-blue-600\">{currentUser.name}</span> đến với Hupuna Chat!\r\n          </h1>\r\n        </div>\r\n        <Swiper\r\n          modules={[Autoplay, Pagination]}\r\n          slidesPerView={1}\r\n          autoplay={{ delay: 2500, disableOnInteraction: false }}\r\n          pagination={{ clickable: true }}\r\n          className=\"w-full max-w-[31.25rem]\"\r\n        >\r\n          {banners.map((banner, index) => (\r\n            <SwiperSlide key={index}>\r\n              <div className=\"flex flex-col items-center justify-center text-center p-6 bg-gray-50\">\r\n                <Image\r\n                  width={400}\r\n                  height={400}\r\n                  src={getProxyUrl(banner.image)}\r\n                  alt={banner.title}\r\n                  className=\"w-full max-w-[25rem] h-auto mb-4\"\r\n                />\r\n                <h2 className=\"text-lg text-blue-500 font-semibold mb-2\">{banner.title}</h2>\r\n                <p className=\"text-gray-600 text-sm mb-4\">{banner.description}</p>\r\n              </div>\r\n            </SwiperSlide>\r\n          ))}\r\n        </Swiper>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAMA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAZA;;;;;;;;;AAkBe,SAAS,kBAAkB,EAAE,WAAW,EAA0B;IAC/E,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;;4BAA8B;0CAChC,8OAAC;gCAAK,WAAU;0CAA2B,YAAY,IAAI;;;;;;4BAAQ;;;;;;;;;;;;8BAGjF,8OAAC,oJAAM;oBACL,SAAS;wBAAC,iMAAQ;wBAAE,uMAAU;qBAAC;oBAC/B,eAAe;oBACf,UAAU;wBAAE,OAAO;wBAAM,sBAAsB;oBAAM;oBACrD,YAAY;wBAAE,WAAW;oBAAK;oBAC9B,WAAU;8BAET,qIAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBACpB,8OAAC,yJAAW;sCACV,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,wIAAK;wCACJ,OAAO;wCACP,QAAQ;wCACR,KAAK,IAAA,oIAAW,EAAC,OAAO,KAAK;wCAC7B,KAAK,OAAO,KAAK;wCACjB,WAAU;;;;;;kDAEZ,8OAAC;wCAAG,WAAU;kDAA4C,OAAO,KAAK;;;;;;kDACtE,8OAAC;wCAAE,WAAU;kDAA8B,OAAO,WAAW;;;;;;;;;;;;2BAV/C;;;;;;;;;;;;;;;;;;;;;AAkB9B"}},
    {"offset": {"line": 2332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/%28home%29/HomeDesktop.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\nimport Sidebar from '../base/Sidebar';\r\nimport ChatWindow from '../../app/(zalo)/home/ChatPopup';\r\nimport HomeWelcomeBanner from './HomeWelcomeBanner';\r\nimport { User } from '@/types/User';\r\nimport { ChatItem, GroupConversation } from '@/types/Group';\r\n\r\ninterface Message {\r\n  _id: string;\r\n  content?: string;\r\n  type: 'text' | 'image' | 'file' | 'sticker' | 'video' | 'reminder';\r\n  fileName?: string;\r\n  timestamp: number;\r\n  sender: string;\r\n  senderName: string;\r\n  roomId: string;\r\n  roomName: string;\r\n  isGroupChat: boolean;\r\n  partnerId?: string;\r\n  partnerName?: string;\r\n  fileUrl?: string;\r\n}\r\ninterface HomeDesktopProps {\r\n  currentUser: User;\r\n  groups: GroupConversation[];\r\n  allUsers: User[];\r\n  searchTerm: string;\r\n  setSearchTerm: (term: string) => void;\r\n  setShowCreateGroupModal: (show: boolean) => void;\r\n  selectedChat: ChatItem | null;\r\n  onSelectChat: (item: ChatItem) => void;\r\n  onBackFromChat: () => void;\r\n  onChatAction: (roomId: string, actionType: 'pin' | 'hide', isChecked: boolean, isGroupChat: boolean) => void;\r\n  scrollToMessageId: string | null;\r\n  onScrollComplete: () => void;\r\n  roomSearchKeyword?: string | null;\r\n  setRoomSearchKeyword?: (keyword: string | null) => void;\r\n  fetchAllData: () => Promise<void> | void;\r\n  onShowGlobalSearch: () => void;\r\n  onNavigateToMessage: (message: Message, searchKeyword?: string) => void;\r\n  onlyGroups?: boolean;\r\n  onlyPersonal?: boolean;\r\n}\r\n\r\nexport default function HomeDesktop({\r\n  currentUser,\r\n  groups,\r\n  allUsers,\r\n  searchTerm,\r\n  setSearchTerm,\r\n  setShowCreateGroupModal,\r\n  selectedChat,\r\n  onSelectChat,\r\n  onBackFromChat,\r\n  onChatAction,\r\n  scrollToMessageId,\r\n  onScrollComplete,\r\n  roomSearchKeyword,\r\n  setRoomSearchKeyword,\r\n  fetchAllData,\r\n  onNavigateToMessage,\r\n  onlyGroups = false,\r\n  onlyPersonal = false,\r\n}: HomeDesktopProps) {\r\n  return (\r\n    <div className=\"hidden lg:flex h-screen w-full\">\r\n      <Sidebar\r\n        currentUser={currentUser}\r\n        groups={groups}\r\n        allUsers={allUsers}\r\n        searchTerm={searchTerm}\r\n        setSearchTerm={setSearchTerm}\r\n        setShowCreateGroupModal={setShowCreateGroupModal}\r\n        selectedChat={selectedChat}\r\n        onSelectChat={onSelectChat}\r\n        onChatAction={onChatAction}\r\n        onNavigateToMessage={onNavigateToMessage}\r\n        onlyGroups={onlyGroups}\r\n        onlyPersonal={onlyPersonal}\r\n      />\r\n\r\n      <div className=\"flex-1 flex flex-col overflow-auto border-l border-gray-200\">\r\n        {selectedChat ? (\r\n          <ChatWindow\r\n            reLoad={fetchAllData}\r\n            allUsers={allUsers}\r\n            selectedChat={selectedChat}\r\n            currentUser={currentUser}\r\n            onShowCreateGroup={() => setShowCreateGroupModal(true)}\r\n            onChatAction={onChatAction}\r\n            scrollToMessageId={scrollToMessageId}\r\n            onScrollComplete={onScrollComplete}\r\n            roomSearchKeyword={roomSearchKeyword || null}\r\n            setRoomSearchKeyword={setRoomSearchKeyword}\r\n            onBackFromChat={onBackFromChat}\r\n            groups={groups}\r\n          />\r\n        ) : (\r\n          <HomeWelcomeBanner currentUser={currentUser} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AANA;;;;;AA+Ce,SAAS,YAAY,EAClC,WAAW,EACX,MAAM,EACN,QAAQ,EACR,UAAU,EACV,aAAa,EACb,uBAAuB,EACvB,YAAY,EACZ,YAAY,EACZ,cAAc,EACd,YAAY,EACZ,iBAAiB,EACjB,gBAAgB,EAChB,iBAAiB,EACjB,oBAAoB,EACpB,YAAY,EACZ,mBAAmB,EACnB,aAAa,KAAK,EAClB,eAAe,KAAK,EACH;IACjB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gJAAO;gBACN,aAAa;gBACb,QAAQ;gBACR,UAAU;gBACV,YAAY;gBACZ,eAAe;gBACf,yBAAyB;gBACzB,cAAc;gBACd,cAAc;gBACd,cAAc;gBACd,qBAAqB;gBACrB,YAAY;gBACZ,cAAc;;;;;;0BAGhB,8OAAC;gBAAI,WAAU;0BACZ,6BACC,8OAAC,uJAAU;oBACT,QAAQ;oBACR,UAAU;oBACV,cAAc;oBACd,aAAa;oBACb,mBAAmB,IAAM,wBAAwB;oBACjD,cAAc;oBACd,mBAAmB;oBACnB,kBAAkB;oBAClB,mBAAmB,qBAAqB;oBACxC,sBAAsB;oBACtB,gBAAgB;oBAChB,QAAQ;;;;;yCAGV,8OAAC,8JAAiB;oBAAC,aAAa;;;;;;;;;;;;;;;;;AAK1C"}},
    {"offset": {"line": 2409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/%28home%29/HomeMobile.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect } from 'react';\r\n\r\nimport Sidebar from '../base/Sidebar';\r\nimport ChatWindow from '../../app/(zalo)/home/ChatPopup';\r\n\r\nimport { User } from '@/types/User';\r\nimport { ChatItem, GroupConversation } from '@/types/Group';\r\ninterface Message {\r\n  _id: string;\r\n  content?: string;\r\n  type: 'text' | 'image' | 'file' | 'sticker' | 'video' | 'reminder';\r\n  fileName?: string;\r\n  timestamp: number;\r\n  sender: string;\r\n  senderName: string;\r\n  roomId: string;\r\n  roomName: string;\r\n  isGroupChat: boolean;\r\n  partnerId?: string;\r\n  partnerName?: string;\r\n  fileUrl?: string;\r\n}\r\n\r\ninterface HomeMobileProps {\r\n  currentUser: User;\r\n  groups: GroupConversation[];\r\n  allUsers: User[];\r\n  searchTerm: string;\r\n  setSearchTerm: (term: string) => void;\r\n  setShowCreateGroupModal: (show: boolean) => void;\r\n  selectedChat: ChatItem | null;\r\n  onSelectChat: (item: ChatItem) => void;\r\n  onBackFromChat: () => void;\r\n  onChatAction: (roomId: string, actionType: 'pin' | 'hide', isChecked: boolean, isGroupChat: boolean) => void;\r\n  scrollToMessageId: string | null;\r\n  onScrollComplete: () => void;\r\n  roomSearchKeyword: string | null;\r\n  setRoomSearchKeyword: (keyword: string | null) => void;\r\n  fetchAllData: () => Promise<void> | void;\r\n  onShowGlobalSearch: () => void;\r\n  onNavigateToMessage: (message: Message, searchKeyword?: string) => void;\r\n  onlyGroups?: boolean;\r\n  onlyPersonal?: boolean;\r\n}\r\n\r\nexport default function HomeMobile({\r\n  currentUser,\r\n  groups,\r\n  allUsers,\r\n  searchTerm,\r\n  setSearchTerm,\r\n  setShowCreateGroupModal,\r\n  selectedChat,\r\n  onSelectChat,\r\n  onBackFromChat,\r\n  onChatAction,\r\n  scrollToMessageId,\r\n  onScrollComplete,\r\n  roomSearchKeyword,\r\n  setRoomSearchKeyword,\r\n  fetchAllData,\r\n  onNavigateToMessage,\r\n  onlyGroups = false,\r\n  onlyPersonal = false,\r\n}: HomeMobileProps) {\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(\r\n        new CustomEvent('mobile-footer', {\r\n          detail: { hidden: !!selectedChat },\r\n        }),\r\n      );\r\n    }\r\n    return () => {\r\n      if (typeof window !== 'undefined') {\r\n        window.dispatchEvent(\r\n          new CustomEvent('mobile-footer', {\r\n            detail: { hidden: false },\r\n          }),\r\n        );\r\n      }\r\n    };\r\n  }, [selectedChat]);\r\n  return (\r\n    <div className=\"block lg:hidden relative w-full h-full\">\r\n      {selectedChat ? (\r\n        <div className=\"fixed inset-0 w-full h-full bg-white flex flex-col z-50 overscroll-none touch-none\">\r\n          <ChatWindow\r\n            reLoad={fetchAllData}\r\n            allUsers={allUsers}\r\n            selectedChat={selectedChat}\r\n            currentUser={currentUser}\r\n            onShowCreateGroup={() => setShowCreateGroupModal(true)}\r\n            onChatAction={onChatAction}\r\n            scrollToMessageId={scrollToMessageId}\r\n            onScrollComplete={onScrollComplete}\r\n            roomSearchKeyword={roomSearchKeyword}\r\n            setRoomSearchKeyword={setRoomSearchKeyword}\r\n            // Nút quay lại sẽ được render bên trong ChatHeader (mobile)\r\n            onBackFromChat={onBackFromChat}\r\n            groups={groups}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <Sidebar\r\n          currentUser={currentUser}\r\n          groups={groups}\r\n          allUsers={allUsers}\r\n          searchTerm={searchTerm}\r\n          setSearchTerm={setSearchTerm}\r\n          setShowCreateGroupModal={setShowCreateGroupModal}\r\n          selectedChat={selectedChat}\r\n          onSelectChat={onSelectChat}\r\n          onChatAction={onChatAction}\r\n          onNavigateToMessage={onNavigateToMessage}\r\n          onlyGroups={onlyGroups}\r\n          onlyPersonal={onlyPersonal}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AA+Ce,SAAS,WAAW,EACjC,WAAW,EACX,MAAM,EACN,QAAQ,EACR,UAAU,EACV,aAAa,EACb,uBAAuB,EACvB,YAAY,EACZ,YAAY,EACZ,cAAc,EACd,YAAY,EACZ,iBAAiB,EACjB,gBAAgB,EAChB,iBAAiB,EACjB,oBAAoB,EACpB,YAAY,EACZ,mBAAmB,EACnB,aAAa,KAAK,EAClB,eAAe,KAAK,EACJ;IAChB,IAAA,kNAAS,EAAC;QACR;;QAOA,OAAO;YACL;;QAOF;IACF,GAAG;QAAC;KAAa;IACjB,qBACE,8OAAC;QAAI,WAAU;kBACZ,6BACC,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,uJAAU;gBACT,QAAQ;gBACR,UAAU;gBACV,cAAc;gBACd,aAAa;gBACb,mBAAmB,IAAM,wBAAwB;gBACjD,cAAc;gBACd,mBAAmB;gBACnB,kBAAkB;gBAClB,mBAAmB;gBACnB,sBAAsB;gBACtB,4DAA4D;gBAC5D,gBAAgB;gBAChB,QAAQ;;;;;;;;;;iCAIZ,8OAAC,gJAAO;YACN,aAAa;YACb,QAAQ;YACR,UAAU;YACV,YAAY;YACZ,eAAe;YACf,yBAAyB;YACzB,cAAc;YACd,cAAc;YACd,cAAc;YACd,qBAAqB;YACrB,YAAY;YACZ,cAAc;;;;;;;;;;;AAKxB"}},
    {"offset": {"line": 2488, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ching/OneDrive/Desktop/Chat-Hupuna/hupuna-chat/src/components/%28home%29/HomeOverlays.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\nimport GlobalSearchModal from '../../app/(zalo)/home/GlobalSearchModal';\r\nimport CreateGroupModal from '../../app/(zalo)/home/CreateGroupModal';\r\n\r\nimport { User } from '@/types/User';\r\nimport type { GroupConversation } from '@/types/Group';\r\n\r\n// Reuse the same shapes as GlobalSearchModal\r\nexport interface GlobalSearchMessage {\r\n  _id: string;\r\n  content?: string;\r\n  type: 'text' | 'image' | 'file' | 'sticker' | 'video' | 'reminder';\r\n  fileName?: string;\r\n  timestamp: number;\r\n  sender: string;\r\n  senderName: string;\r\n  roomId: string;\r\n  roomName: string;\r\n  isGroupChat: boolean;\r\n  partnerId?: string;\r\n  partnerName?: string;\r\n  fileUrl?: string;\r\n  receiver?: string;\r\n  displayRoomName?: string;\r\n}\r\n\r\nexport interface GlobalSearchContact {\r\n  _id: string;\r\n  name: string;\r\n  avatar?: string;\r\n  isGroup?: boolean;\r\n}\r\n\r\ninterface HomeOverlaysProps {\r\n  currentUser: User | null;\r\n  allUsers: User[];\r\n  showGlobalSearchModal: boolean;\r\n  globalSearchTerm: string;\r\n  globalSearchResults: { contacts: GlobalSearchContact[]; messages: GlobalSearchMessage[] };\r\n  onCloseGlobalSearch: () => void;\r\n  onSearch: (term: string) => void | Promise<void>;\r\n  onNavigateToMessage: (message: GlobalSearchMessage, searchKeyword?: string) => void;\r\n  onSelectContact: (contact: GlobalSearchContact) => void;\r\n  showCreateGroupModal: boolean;\r\n  onCloseCreateGroup: () => void;\r\n  /**\r\n   * Callback khi tạo nhóm mới / thêm thành viên.\r\n   * - Với tạo nhóm: nhận group mới để component cha có thể chọn mở chat.\r\n   */\r\n  onGroupCreated: (group?: GroupConversation) => void;\r\n  // Hàm reload dữ liệu bên ngoài (thường là fetchAllData)\r\n  reLoad?: () => void;\r\n}\r\n\r\nexport default function HomeOverlays({\r\n  currentUser,\r\n  allUsers,\r\n  showGlobalSearchModal,\r\n  globalSearchTerm,\r\n  globalSearchResults,\r\n  onCloseGlobalSearch,\r\n  onSearch,\r\n  onNavigateToMessage,\r\n  onSelectContact,\r\n  showCreateGroupModal,\r\n  onCloseCreateGroup,\r\n  onGroupCreated,\r\n  reLoad,\r\n}: HomeOverlaysProps) {\r\n  return (\r\n    <>\r\n      {showGlobalSearchModal && currentUser && (\r\n        <GlobalSearchModal\r\n          searchTerm={globalSearchTerm}\r\n          results={globalSearchResults}\r\n          allUsers={allUsers}\r\n          onClose={onCloseGlobalSearch}\r\n          onSearch={onSearch}\r\n          onNavigateToMessage={onNavigateToMessage}\r\n          onSelectContact={onSelectContact}\r\n        />\r\n      )}\r\n\r\n      {showCreateGroupModal && currentUser && (\r\n        <CreateGroupModal\r\n          currentUser={currentUser}\r\n          allUsers={allUsers}\r\n          onClose={onCloseCreateGroup}\r\n          onGroupCreated={onGroupCreated}\r\n          reLoad={reLoad}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;;;AAyDe,SAAS,aAAa,EACnC,WAAW,EACX,QAAQ,EACR,qBAAqB,EACrB,gBAAgB,EAChB,mBAAmB,EACnB,mBAAmB,EACnB,QAAQ,EACR,mBAAmB,EACnB,eAAe,EACf,oBAAoB,EACpB,kBAAkB,EAClB,cAAc,EACd,MAAM,EACY;IAClB,qBACE;;YACG,yBAAyB,6BACxB,8OAAC,+JAAiB;gBAChB,YAAY;gBACZ,SAAS;gBACT,UAAU;gBACV,SAAS;gBACT,UAAU;gBACV,qBAAqB;gBACrB,iBAAiB;;;;;;YAIpB,wBAAwB,6BACvB,8OAAC,8JAAgB;gBACf,aAAa;gBACb,UAAU;gBACV,SAAS;gBACT,gBAAgB;gBAChB,QAAQ;;;;;;;;AAKlB"}}]
}